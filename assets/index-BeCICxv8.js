function ire(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var u7e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Di(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sre(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var e_={exports:{}},wp={};var Dj;function ore(){if(Dj)return wp;Dj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return wp.Fragment=t,wp.jsx=n,wp.jsxs=n,wp}var Ij;function are(){return Ij||(Ij=1,e_.exports=ore()),e_.exports}var E=are(),t_={exports:{}},it={};var jj;function lre(){if(jj)return it;jj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(q,Y,$){this.props=q,this.context=Y,this.refs=w,this.updater=$||v}S.prototype.isReactComponent={},S.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=S.prototype;function _(q,Y,$){this.props=q,this.context=Y,this.refs=w,this.updater=$||v}var k=_.prototype=new C;k.constructor=_,b(k,S.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function N(){}var T={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function O(q,Y,$){var J=$.ref;return{$$typeof:e,type:q,key:Y,ref:J!==void 0?J:null,props:$}}function L(q,Y){return O(q.type,Y,q.props)}function D(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function F(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function($){return Y[$]})}var G=/\/+/g;function z(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):Y.toString(36)}function V(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(N,N):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function j(q,Y,$,J,se){var ue=typeof q;(ue==="undefined"||ue==="boolean")&&(q=null);var ee=!1;if(q===null)ee=!0;else switch(ue){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(q.$$typeof){case e:case t:ee=!0;break;case d:return ee=q._init,j(ee(q._payload),Y,$,J,se)}}if(ee)return se=se(q),ee=J===""?"."+z(q,0):J,R(se)?($="",ee!=null&&($=ee.replace(G,"$&/")+"/"),j(se,Y,$,"",function(fe){return fe})):se!=null&&(D(se)&&(se=L(se,$+(se.key==null||q&&q.key===se.key?"":(""+se.key).replace(G,"$&/")+"/")+ee)),Y.push(se)),1;ee=0;var Z=J===""?".":J+":";if(R(q))for(var X=0;X<q.length;X++)J=q[X],ue=Z+z(J,X),ee+=j(J,Y,$,ue,se);else if(X=g(q),typeof X=="function")for(q=X.call(q),X=0;!(J=q.next()).done;)J=J.value,ue=Z+z(J,X++),ee+=j(J,Y,$,ue,se);else if(ue==="object"){if(typeof q.then=="function")return j(V(q),Y,$,J,se);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ee}function H(q,Y,$){if(q==null)return q;var J=[],se=0;return j(q,J,"","",function(ue){return Y.call($,ue,se++)}),J}function B(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function($){(q._status===0||q._status===-1)&&(q._status=1,q._result=$)},function($){(q._status===0||q._status===-1)&&(q._status=2,q._result=$)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var K=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},U={map:H,forEach:function(q,Y,$){H(q,function(){Y.apply(this,arguments)},$)},count:function(q){var Y=0;return H(q,function(){Y++}),Y},toArray:function(q){return H(q,function(Y){return Y})||[]},only:function(q){if(!D(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return it.Activity=f,it.Children=U,it.Component=S,it.Fragment=n,it.Profiler=i,it.PureComponent=_,it.StrictMode=r,it.Suspense=l,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,it.__COMPILER_RUNTIME={__proto__:null,c:function(q){return T.H.useMemoCache(q)}},it.cache=function(q){return function(){return q.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(q,Y,$){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var J=b({},q.props),se=q.key;if(Y!=null)for(ue in Y.key!==void 0&&(se=""+Y.key),Y)!M.call(Y,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&Y.ref===void 0||(J[ue]=Y[ue]);var ue=arguments.length-2;if(ue===1)J.children=$;else if(1<ue){for(var ee=Array(ue),Z=0;Z<ue;Z++)ee[Z]=arguments[Z+2];J.children=ee}return O(q.type,se,J)},it.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},it.createElement=function(q,Y,$){var J,se={},ue=null;if(Y!=null)for(J in Y.key!==void 0&&(ue=""+Y.key),Y)M.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(se[J]=Y[J]);var ee=arguments.length-2;if(ee===1)se.children=$;else if(1<ee){for(var Z=Array(ee),X=0;X<ee;X++)Z[X]=arguments[X+2];se.children=Z}if(q&&q.defaultProps)for(J in ee=q.defaultProps,ee)se[J]===void 0&&(se[J]=ee[J]);return O(q,ue,se)},it.createRef=function(){return{current:null}},it.forwardRef=function(q){return{$$typeof:a,render:q}},it.isValidElement=D,it.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:B}},it.memo=function(q,Y){return{$$typeof:c,type:q,compare:Y===void 0?null:Y}},it.startTransition=function(q){var Y=T.T,$={};T.T=$;try{var J=q(),se=T.S;se!==null&&se($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(N,K)}catch(ue){K(ue)}finally{Y!==null&&$.types!==null&&(Y.types=$.types),T.T=Y}},it.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},it.use=function(q){return T.H.use(q)},it.useActionState=function(q,Y,$){return T.H.useActionState(q,Y,$)},it.useCallback=function(q,Y){return T.H.useCallback(q,Y)},it.useContext=function(q){return T.H.useContext(q)},it.useDebugValue=function(){},it.useDeferredValue=function(q,Y){return T.H.useDeferredValue(q,Y)},it.useEffect=function(q,Y){return T.H.useEffect(q,Y)},it.useEffectEvent=function(q){return T.H.useEffectEvent(q)},it.useId=function(){return T.H.useId()},it.useImperativeHandle=function(q,Y,$){return T.H.useImperativeHandle(q,Y,$)},it.useInsertionEffect=function(q,Y){return T.H.useInsertionEffect(q,Y)},it.useLayoutEffect=function(q,Y){return T.H.useLayoutEffect(q,Y)},it.useMemo=function(q,Y){return T.H.useMemo(q,Y)},it.useOptimistic=function(q,Y){return T.H.useOptimistic(q,Y)},it.useReducer=function(q,Y,$){return T.H.useReducer(q,Y,$)},it.useRef=function(q){return T.H.useRef(q)},it.useState=function(q){return T.H.useState(q)},it.useSyncExternalStore=function(q,Y,$){return T.H.useSyncExternalStore(q,Y,$)},it.useTransition=function(){return T.H.useTransition()},it.version="19.2.3",it}var Lj;function gc(){return Lj||(Lj=1,t_.exports=lre()),t_.exports}var x=gc();const ie=Di(x),Vx=ire({__proto__:null,default:ie},[x]);var n_={exports:{}},Sp={},r_={exports:{}},i_={};var zj;function cre(){return zj||(zj=1,(function(e){function t(j,H){var B=j.length;j.push(H);e:for(;0<B;){var K=B-1>>>1,U=j[K];if(0<i(U,H))j[K]=H,j[B]=U,B=K;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],B=j.pop();if(B!==H){j[0]=B;e:for(var K=0,U=j.length,q=U>>>1;K<q;){var Y=2*(K+1)-1,$=j[Y],J=Y+1,se=j[J];if(0>i($,B))J<U&&0>i(se,$)?(j[K]=se,j[J]=B,K=J):(j[K]=$,j[Y]=B,K=Y);else if(J<U&&0>i(se,B))j[K]=se,j[J]=B,K=J;else break e}}return H}function i(j,H){var B=j.sortIndex-H.sortIndex;return B!==0?B:j.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,v=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(j){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=j)r(c),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(c)}}function R(j){if(b=!1,k(j),!v)if(n(l)!==null)v=!0,N||(N=!0,F());else{var H=n(c);H!==null&&V(R,H.startTime-j)}}var N=!1,T=-1,M=5,O=-1;function L(){return w?!0:!(e.unstable_now()-O<M)}function D(){if(w=!1,N){var j=e.unstable_now();O=j;var H=!0;try{e:{v=!1,b&&(b=!1,C(T),T=-1),g=!0;var B=p;try{t:{for(k(j),f=n(l);f!==null&&!(f.expirationTime>j&&L());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var U=K(f.expirationTime<=j);if(j=e.unstable_now(),typeof U=="function"){f.callback=U,k(j),H=!0;break t}f===n(l)&&r(l),k(j)}else r(l);f=n(l)}if(f!==null)H=!0;else{var q=n(c);q!==null&&V(R,q.startTime-j),H=!1}}break e}finally{f=null,p=B,g=!1}H=void 0}}finally{H?F():N=!1}}}var F;if(typeof _=="function")F=function(){_(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,z=G.port2;G.port1.onmessage=D,F=function(){z.postMessage(null)}}else F=function(){S(D,0)};function V(j,H){T=S(function(){j(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var B=p;p=H;try{return j()}finally{p=B}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=p;p=j;try{return H()}finally{p=B}},e.unstable_scheduleCallback=function(j,H,B){var K=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,j={id:d++,callback:H,priorityLevel:j,startTime:B,expirationTime:U,sortIndex:-1},B>K?(j.sortIndex=B,t(c,j),n(l)===null&&j===n(c)&&(b?(C(T),T=-1):b=!0,V(R,B-K))):(j.sortIndex=U,t(l,j),v||g||(v=!0,N||(N=!0,F()))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var H=p;return function(){var B=p;p=H;try{return j.apply(this,arguments)}finally{p=B}}}})(i_)),i_}var Fj;function ure(){return Fj||(Fj=1,r_.exports=cre()),r_.exports}var s_={exports:{}},Hr={};var $j;function dre(){if($j)return Hr;$j=1;var e=gc();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hr.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,d)},Hr.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Hr.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Hr.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Hr.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:g}):d==="script"&&r.d.X(l,{crossOrigin:f,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Hr.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Hr.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,f=a(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Hr.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Hr.requestFormReset=function(l){r.d.r(l)},Hr.unstable_batchedUpdates=function(l,c){return l(c)},Hr.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Hr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hr.version="19.2.3",Hr}var Hj;function qx(){if(Hj)return s_.exports;Hj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),s_.exports=dre(),s_.exports}var Bj;function fre(){if(Bj)return Sp;Bj=1;var e=ure(),t=gc(),n=qx();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,m=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(m=h.return),u=h.return;while(u)}return h.tag===3?m:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function a(u){if(u.tag===31){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(r(188))}function c(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(r(188));return h!==u?null:u}for(var m=u,y=h;;){var A=m.return;if(A===null)break;var P=A.alternate;if(P===null){if(y=A.return,y!==null){m=y;continue}break}if(A.child===P.child){for(P=A.child;P;){if(P===m)return l(A),u;if(P===y)return l(A),h;P=P.sibling}throw Error(r(188))}if(m.return!==y.return)m=A,y=P;else{for(var I=!1,W=A.child;W;){if(W===m){I=!0,m=A,y=P;break}if(W===y){I=!0,y=A,m=P;break}W=W.sibling}if(!I){for(W=P.child;W;){if(W===m){I=!0,m=P,y=A;break}if(W===y){I=!0,y=P,m=A;break}W=W.sibling}if(!I)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:h}function d(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=d(u),h!==null)return h;u=u.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),_=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(u){return u===null||typeof u!="object"?null:(u=D&&u[D]||u["@@iterator"],typeof u=="function"?u:null)}var G=Symbol.for("react.client.reference");function z(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===G?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case b:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList";case O:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case v:return"Portal";case _:return u.displayName||"Context";case C:return(u._context.displayName||"Context")+".Consumer";case k:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case T:return h=u.displayName||null,h!==null?h:z(u.type)||"Memo";case M:h=u._payload,u=u._init;try{return z(u(h))}catch{}}return null}var V=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},K=[],U=-1;function q(u){return{current:u}}function Y(u){0>U||(u.current=K[U],K[U]=null,U--)}function $(u,h){U++,K[U]=u.current,u.current=h}var J=q(null),se=q(null),ue=q(null),ee=q(null);function Z(u,h){switch($(ue,h),$(se,u),$(J,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?rj(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=rj(h),u=ij(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}Y(J),$(J,u)}function X(){Y(J),Y(se),Y(ue)}function fe(u){u.memoizedState!==null&&$(ee,u);var h=J.current,m=ij(h,u.type);h!==m&&($(se,u),$(J,m))}function me(u){se.current===u&&(Y(J),Y(se)),ee.current===u&&(Y(ee),vp._currentValue=B)}var ne,we;function xe(u){if(ne===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);ne=h&&h[1]||"",we=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+u+we}var Re=!1;function Ae(u,h){if(!u||Re)return"";Re=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(pe){var de=pe}Reflect.construct(u,[],ye)}else{try{ye.call()}catch(pe){de=pe}u.call(ye.prototype)}}else{try{throw Error()}catch(pe){de=pe}(ye=u())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(pe){if(pe&&de&&typeof pe.stack=="string")return[pe.stack,de.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=y.DetermineComponentFrameRoot(),I=P[0],W=P[1];if(I&&W){var Q=I.split(`
`),ae=W.split(`
`);for(A=y=0;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;for(;A<ae.length&&!ae[A].includes("DetermineComponentFrameRoot");)A++;if(y===Q.length||A===ae.length)for(y=Q.length-1,A=ae.length-1;1<=y&&0<=A&&Q[y]!==ae[A];)A--;for(;1<=y&&0<=A;y--,A--)if(Q[y]!==ae[A]){if(y!==1||A!==1)do if(y--,A--,0>A||Q[y]!==ae[A]){var ge=`
`+Q[y].replace(" at new "," at ");return u.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",u.displayName)),ge}while(1<=y&&0<=A);break}}}finally{Re=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?xe(m):""}function Te(u,h){switch(u.tag){case 26:case 27:case 5:return xe(u.type);case 16:return xe("Lazy");case 13:return u.child!==h&&h!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Ae(u.type,!1);case 11:return Ae(u.type.render,!1);case 1:return Ae(u.type,!0);case 31:return xe("Activity");default:return""}}function We(u){try{var h="",m=null;do h+=Te(u,m),m=u,u=u.return;while(u);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var rt=Object.prototype.hasOwnProperty,mt=e.unstable_scheduleCallback,ir=e.unstable_cancelCallback,Bt=e.unstable_shouldYield,Sn=e.unstable_requestPaint,Ee=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,Pe=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,sn=e.log,fn=e.unstable_setDisableYieldValue,En=null,Ut=null;function _n(u){if(typeof sn=="function"&&fn(u),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(En,u)}catch{}}var xt=Math.clz32?Math.clz32:ai,jr=Math.log,On=Math.LN2;function ai(u){return u>>>=0,u===0?32:31-(jr(u)/On|0)|0}var al=256,ll=262144,na=4194304;function ss(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Xe(u,h,m){var y=u.pendingLanes;if(y===0)return 0;var A=0,P=u.suspendedLanes,I=u.pingedLanes;u=u.warmLanes;var W=y&134217727;return W!==0?(y=W&~P,y!==0?A=ss(y):(I&=W,I!==0?A=ss(I):m||(m=W&~u,m!==0&&(A=ss(m))))):(W=y&~P,W!==0?A=ss(W):I!==0?A=ss(I):m||(m=y&~u,m!==0&&(A=ss(m)))),A===0?0:h!==0&&h!==A&&(h&P)===0&&(P=A&-A,m=h&-h,P>=m||P===32&&(m&4194048)!==0)?h:A}function tn(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function $n(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var u=na;return na<<=1,(na&62914560)===0&&(na=4194304),u}function ho(u){for(var h=[],m=0;31>m;m++)h.push(u);return h}function on(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Lr(u,h,m,y,A,P){var I=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var W=u.entanglements,Q=u.expirationTimes,ae=u.hiddenUpdates;for(m=I&~m;0<m;){var ge=31-xt(m),ye=1<<ge;W[ge]=0,Q[ge]=-1;var de=ae[ge];if(de!==null)for(ae[ge]=null,ge=0;ge<de.length;ge++){var pe=de[ge];pe!==null&&(pe.lane&=-536870913)}m&=~ye}y!==0&&ra(u,y,0),P!==0&&A===0&&u.tag!==0&&(u.suspendedLanes|=P&~(I&~h))}function ra(u,h,m){u.pendingLanes|=h,u.suspendedLanes&=~h;var y=31-xt(h);u.entangledLanes|=h,u.entanglements[y]=u.entanglements[y]|1073741824|m&261930}function zr(u,h){var m=u.entangledLanes|=h;for(u=u.entanglements;m;){var y=31-xt(m),A=1<<y;A&h|u[y]&h&&(u[y]|=h),m&=~A}}function Fr(u,h){var m=h&-h;return m=(m&42)!==0?1:cl(m),(m&(u.suspendedLanes|h))!==0?0:m}function cl(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Li(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Ph(){var u=H.p;return u!==0?u:(u=window.event,u===void 0?32:Tj(u.type))}function Cv(u,h){var m=H.p;try{return H.p=u,h()}finally{H.p=m}}var po=Math.random().toString(36).slice(2),sr="__reactFiber$"+po,$r="__reactProps$"+po,ia="__reactContainer$"+po,ld="__reactEvents$"+po,Av="__reactListeners$"+po,qS="__reactHandles$"+po,Tv="__reactResources$"+po,Dc="__reactMarker$"+po;function Nh(u){delete u[sr],delete u[$r],delete u[ld],delete u[Av],delete u[qS]}function ul(u){var h=u[sr];if(h)return h;for(var m=u.parentNode;m;){if(h=m[ia]||m[sr]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(u=dj(u);u!==null;){if(m=u[sr])return m;u=dj(u)}return h}u=m,m=u.parentNode}return null}function dl(u){if(u=u[sr]||u[ia]){var h=u.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return u}return null}function fl(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function hl(u){var h=u[Tv];return h||(h=u[Tv]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Hn(u){u[Dc]=!0}var Rv=new Set,kv={};function sa(u,h){pl(u,h),pl(u+"Capture",h)}function pl(u,h){for(kv[u]=h,u=0;u<h.length;u++)Rv.add(h[u])}var WS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mh={},Pv={};function GS(u){return rt.call(Pv,u)?!0:rt.call(Mh,u)?!1:WS.test(u)?Pv[u]=!0:(Mh[u]=!0,!1)}function cd(u,h,m){if(GS(h))if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+m)}}function ud(u,h,m){if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+m)}}function Ls(u,h,m,y){if(y===null)u.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(h,m,""+y)}}function li(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Nv(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function KS(u,h,m){var y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h);if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,P=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return A.call(this)},set:function(I){m=""+I,P.call(this,I)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function dd(u){if(!u._valueTracker){var h=Nv(u)?"checked":"value";u._valueTracker=KS(u,h,""+u[h])}}function Mv(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var m=h.getValue(),y="";return u&&(y=Nv(u)?u.checked?"true":"false":u.value),u=y,u!==m?(h.setValue(u),!0):!1}function Ic(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var YS=/[\n"\\]/g;function ci(u){return u.replace(YS,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function jc(u,h,m,y,A,P,I,W){u.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?u.type=I:u.removeAttribute("type"),h!=null?I==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+li(h)):u.value!==""+li(h)&&(u.value=""+li(h)):I!=="submit"&&I!=="reset"||u.removeAttribute("value"),h!=null?Oh(u,I,li(h)):m!=null?Oh(u,I,li(m)):y!=null&&u.removeAttribute("value"),A==null&&P!=null&&(u.defaultChecked=!!P),A!=null&&(u.checked=A&&typeof A!="function"&&typeof A!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?u.name=""+li(W):u.removeAttribute("name")}function Ov(u,h,m,y,A,P,I,W){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(u.type=P),h!=null||m!=null){if(!(P!=="submit"&&P!=="reset"||h!=null)){dd(u);return}m=m!=null?""+li(m):"",h=h!=null?""+li(h):m,W||h===u.value||(u.value=h),u.defaultValue=h}y=y??A,y=typeof y!="function"&&typeof y!="symbol"&&!!y,u.checked=W?u.checked:!!y,u.defaultChecked=!!y,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(u.name=I),dd(u)}function Oh(u,h,m){h==="number"&&Ic(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function oa(u,h,m,y){if(u=u.options,h){h={};for(var A=0;A<m.length;A++)h["$"+m[A]]=!0;for(m=0;m<u.length;m++)A=h.hasOwnProperty("$"+u[m].value),u[m].selected!==A&&(u[m].selected=A),A&&y&&(u[m].defaultSelected=!0)}else{for(m=""+li(m),h=null,A=0;A<u.length;A++){if(u[A].value===m){u[A].selected=!0,y&&(u[A].defaultSelected=!0);return}h!==null||u[A].disabled||(h=u[A])}h!==null&&(h.selected=!0)}}function QO(u,h,m){if(h!=null&&(h=""+li(h),h!==u.value&&(u.value=h),m==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=m!=null?""+li(m):""}function JO(u,h,m,y){if(h==null){if(y!=null){if(m!=null)throw Error(r(92));if(V(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),h=m}m=li(h),u.defaultValue=m,y=u.textContent,y===m&&y!==""&&y!==null&&(u.value=y),dd(u)}function fd(u,h){if(h){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=h;return}}u.textContent=h}var Jee=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function e2(u,h,m){var y=h.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":y?u.setProperty(h,m):typeof m!="number"||m===0||Jee.has(h)?h==="float"?u.cssFloat=m:u[h]=(""+m).trim():u[h]=m+"px"}function t2(u,h,m){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?u.setProperty(y,""):y==="float"?u.cssFloat="":u[y]="");for(var A in h)y=h[A],h.hasOwnProperty(A)&&m[A]!==y&&e2(u,A,y)}else for(var P in h)h.hasOwnProperty(P)&&e2(u,P,h[P])}function XS(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ete=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tte=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dv(u){return tte.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function aa(){}var ZS=null;function QS(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var hd=null,pd=null;function n2(u){var h=dl(u);if(h&&(u=h.stateNode)){var m=u[$r]||null;e:switch(u=h.stateNode,h.type){case"input":if(jc(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),h=m.name,m.type==="radio"&&h!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ci(""+h)+'"][type="radio"]'),h=0;h<m.length;h++){var y=m[h];if(y!==u&&y.form===u.form){var A=y[$r]||null;if(!A)throw Error(r(90));jc(y,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(h=0;h<m.length;h++)y=m[h],y.form===u.form&&Mv(y)}break e;case"textarea":QO(u,m.value,m.defaultValue);break e;case"select":h=m.value,h!=null&&oa(u,!!m.multiple,h,!1)}}}var JS=!1;function r2(u,h,m){if(JS)return u(h,m);JS=!0;try{var y=u(h);return y}finally{if(JS=!1,(hd!==null||pd!==null)&&(wy(),hd&&(h=hd,u=pd,pd=hd=null,n2(h),u)))for(h=0;h<u.length;h++)n2(u[h])}}function Dh(u,h){var m=u.stateNode;if(m===null)return null;var y=m[$r]||null;if(y===null)return null;m=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(u=u.type,y=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!y;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,h,typeof m));return m}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e1=!1;if(la)try{var Ih={};Object.defineProperty(Ih,"passive",{get:function(){e1=!0}}),window.addEventListener("test",Ih,Ih),window.removeEventListener("test",Ih,Ih)}catch{e1=!1}var ml=null,t1=null,Iv=null;function i2(){if(Iv)return Iv;var u,h=t1,m=h.length,y,A="value"in ml?ml.value:ml.textContent,P=A.length;for(u=0;u<m&&h[u]===A[u];u++);var I=m-u;for(y=1;y<=I&&h[m-y]===A[P-y];y++);return Iv=A.slice(u,1<y?1-y:void 0)}function jv(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Lv(){return!0}function s2(){return!1}function ui(u){function h(m,y,A,P,I){this._reactName=m,this._targetInst=A,this.type=y,this.nativeEvent=P,this.target=I,this.currentTarget=null;for(var W in u)u.hasOwnProperty(W)&&(m=u[W],this[W]=m?m(P):P[W]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Lv:s2,this.isPropagationStopped=s2,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Lv)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Lv)},persist:function(){},isPersistent:Lv}),h}var Lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zv=ui(Lc),jh=f({},Lc,{view:0,detail:0}),nte=ui(jh),n1,r1,Lh,Fv=f({},jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s1,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Lh&&(Lh&&u.type==="mousemove"?(n1=u.screenX-Lh.screenX,r1=u.screenY-Lh.screenY):r1=n1=0,Lh=u),n1)},movementY:function(u){return"movementY"in u?u.movementY:r1}}),o2=ui(Fv),rte=f({},Fv,{dataTransfer:0}),ite=ui(rte),ste=f({},jh,{relatedTarget:0}),i1=ui(ste),ote=f({},Lc,{animationName:0,elapsedTime:0,pseudoElement:0}),ate=ui(ote),lte=f({},Lc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),cte=ui(lte),ute=f({},Lc,{data:0}),a2=ui(ute),dte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pte(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=hte[u])?!!h[u]:!1}function s1(){return pte}var mte=f({},jh,{key:function(u){if(u.key){var h=dte[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=jv(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?fte[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s1,charCode:function(u){return u.type==="keypress"?jv(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?jv(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),gte=ui(mte),vte=f({},Fv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l2=ui(vte),yte=f({},jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s1}),bte=ui(yte),xte=f({},Lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),wte=ui(xte),Ste=f({},Fv,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Ete=ui(Ste),_te=f({},Lc,{newState:0,oldState:0}),Cte=ui(_te),Ate=[9,13,27,32],o1=la&&"CompositionEvent"in window,zh=null;la&&"documentMode"in document&&(zh=document.documentMode);var Tte=la&&"TextEvent"in window&&!zh,c2=la&&(!o1||zh&&8<zh&&11>=zh),u2=" ",d2=!1;function f2(u,h){switch(u){case"keyup":return Ate.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h2(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var md=!1;function Rte(u,h){switch(u){case"compositionend":return h2(h);case"keypress":return h.which!==32?null:(d2=!0,u2);case"textInput":return u=h.data,u===u2&&d2?null:u;default:return null}}function kte(u,h){if(md)return u==="compositionend"||!o1&&f2(u,h)?(u=i2(),Iv=t1=ml=null,md=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return c2&&h.locale!=="ko"?null:h.data;default:return null}}var Pte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p2(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!Pte[u.type]:h==="textarea"}function m2(u,h,m,y){hd?pd?pd.push(y):pd=[y]:hd=y,h=Ry(h,"onChange"),0<h.length&&(m=new zv("onChange","change",null,m,y),u.push({event:m,listeners:h}))}var Fh=null,$h=null;function Nte(u){ZI(u,0)}function $v(u){var h=fl(u);if(Mv(h))return u}function g2(u,h){if(u==="change")return h}var v2=!1;if(la){var a1;if(la){var l1="oninput"in document;if(!l1){var y2=document.createElement("div");y2.setAttribute("oninput","return;"),l1=typeof y2.oninput=="function"}a1=l1}else a1=!1;v2=a1&&(!document.documentMode||9<document.documentMode)}function b2(){Fh&&(Fh.detachEvent("onpropertychange",x2),$h=Fh=null)}function x2(u){if(u.propertyName==="value"&&$v($h)){var h=[];m2(h,$h,u,QS(u)),r2(Nte,h)}}function Mte(u,h,m){u==="focusin"?(b2(),Fh=h,$h=m,Fh.attachEvent("onpropertychange",x2)):u==="focusout"&&b2()}function Ote(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return $v($h)}function Dte(u,h){if(u==="click")return $v(h)}function Ite(u,h){if(u==="input"||u==="change")return $v(h)}function jte(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var zi=typeof Object.is=="function"?Object.is:jte;function Hh(u,h){if(zi(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var m=Object.keys(u),y=Object.keys(h);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var A=m[y];if(!rt.call(h,A)||!zi(u[A],h[A]))return!1}return!0}function w2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function S2(u,h){var m=w2(u);u=0;for(var y;m;){if(m.nodeType===3){if(y=u+m.textContent.length,u<=h&&y>=h)return{node:m,offset:h-u};u=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=w2(m)}}function E2(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?E2(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function _2(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Ic(u.document);h instanceof u.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)u=h.contentWindow;else break;h=Ic(u.document)}return h}function c1(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var Lte=la&&"documentMode"in document&&11>=document.documentMode,gd=null,u1=null,Bh=null,d1=!1;function C2(u,h,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;d1||gd==null||gd!==Ic(y)||(y=gd,"selectionStart"in y&&c1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Bh&&Hh(Bh,y)||(Bh=y,y=Ry(u1,"onSelect"),0<y.length&&(h=new zv("onSelect","select",null,h,m),u.push({event:h,listeners:y}),h.target=gd)))}function zc(u,h){var m={};return m[u.toLowerCase()]=h.toLowerCase(),m["Webkit"+u]="webkit"+h,m["Moz"+u]="moz"+h,m}var vd={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionrun:zc("Transition","TransitionRun"),transitionstart:zc("Transition","TransitionStart"),transitioncancel:zc("Transition","TransitionCancel"),transitionend:zc("Transition","TransitionEnd")},f1={},A2={};la&&(A2=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function Fc(u){if(f1[u])return f1[u];if(!vd[u])return u;var h=vd[u],m;for(m in h)if(h.hasOwnProperty(m)&&m in A2)return f1[u]=h[m];return u}var T2=Fc("animationend"),R2=Fc("animationiteration"),k2=Fc("animationstart"),zte=Fc("transitionrun"),Fte=Fc("transitionstart"),$te=Fc("transitioncancel"),P2=Fc("transitionend"),N2=new Map,h1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h1.push("scrollEnd");function zs(u,h){N2.set(u,h),sa(h,[u])}var Hv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},os=[],yd=0,p1=0;function Bv(){for(var u=yd,h=p1=yd=0;h<u;){var m=os[h];os[h++]=null;var y=os[h];os[h++]=null;var A=os[h];os[h++]=null;var P=os[h];if(os[h++]=null,y!==null&&A!==null){var I=y.pending;I===null?A.next=A:(A.next=I.next,I.next=A),y.pending=A}P!==0&&M2(m,A,P)}}function Uv(u,h,m,y){os[yd++]=u,os[yd++]=h,os[yd++]=m,os[yd++]=y,p1|=y,u.lanes|=y,u=u.alternate,u!==null&&(u.lanes|=y)}function m1(u,h,m,y){return Uv(u,h,m,y),Vv(u)}function $c(u,h){return Uv(u,null,null,h),Vv(u)}function M2(u,h,m){u.lanes|=m;var y=u.alternate;y!==null&&(y.lanes|=m);for(var A=!1,P=u.return;P!==null;)P.childLanes|=m,y=P.alternate,y!==null&&(y.childLanes|=m),P.tag===22&&(u=P.stateNode,u===null||u._visibility&1||(A=!0)),u=P,P=P.return;return u.tag===3?(P=u.stateNode,A&&h!==null&&(A=31-xt(m),u=P.hiddenUpdates,y=u[A],y===null?u[A]=[h]:y.push(h),h.lane=m|536870912),P):null}function Vv(u){if(50<up)throw up=0,_E=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var bd={};function Hte(u,h,m,y){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(u,h,m,y){return new Hte(u,h,m,y)}function g1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ca(u,h){var m=u.alternate;return m===null?(m=Fi(u.tag,h,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=h,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,h=u.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function O2(u,h){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,h=m.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function qv(u,h,m,y,A,P){var I=0;if(y=u,typeof u=="function")g1(u)&&(I=1);else if(typeof u=="string")I=Wne(u,m,J.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case O:return u=Fi(31,m,h,A),u.elementType=O,u.lanes=P,u;case b:return Hc(m.children,A,P,h);case w:I=8,A|=24;break;case S:return u=Fi(12,m,h,A|2),u.elementType=S,u.lanes=P,u;case R:return u=Fi(13,m,h,A),u.elementType=R,u.lanes=P,u;case N:return u=Fi(19,m,h,A),u.elementType=N,u.lanes=P,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case _:I=10;break e;case C:I=9;break e;case k:I=11;break e;case T:I=14;break e;case M:I=16,y=null;break e}I=29,m=Error(r(130,u===null?"null":typeof u,"")),y=null}return h=Fi(I,m,h,A),h.elementType=u,h.type=y,h.lanes=P,h}function Hc(u,h,m,y){return u=Fi(7,u,y,h),u.lanes=m,u}function v1(u,h,m){return u=Fi(6,u,null,h),u.lanes=m,u}function D2(u){var h=Fi(18,null,null,0);return h.stateNode=u,h}function y1(u,h,m){return h=Fi(4,u.children!==null?u.children:[],u.key,h),h.lanes=m,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var I2=new WeakMap;function as(u,h){if(typeof u=="object"&&u!==null){var m=I2.get(u);return m!==void 0?m:(h={value:u,source:h,stack:We(h)},I2.set(u,h),h)}return{value:u,source:h,stack:We(h)}}var xd=[],wd=0,Wv=null,Uh=0,ls=[],cs=0,gl=null,mo=1,go="";function ua(u,h){xd[wd++]=Uh,xd[wd++]=Wv,Wv=u,Uh=h}function j2(u,h,m){ls[cs++]=mo,ls[cs++]=go,ls[cs++]=gl,gl=u;var y=mo;u=go;var A=32-xt(y)-1;y&=~(1<<A),m+=1;var P=32-xt(h)+A;if(30<P){var I=A-A%5;P=(y&(1<<I)-1).toString(32),y>>=I,A-=I,mo=1<<32-xt(h)+A|m<<A|y,go=P+u}else mo=1<<P|m<<A|y,go=u}function b1(u){u.return!==null&&(ua(u,1),j2(u,1,0))}function x1(u){for(;u===Wv;)Wv=xd[--wd],xd[wd]=null,Uh=xd[--wd],xd[wd]=null;for(;u===gl;)gl=ls[--cs],ls[cs]=null,go=ls[--cs],ls[cs]=null,mo=ls[--cs],ls[cs]=null}function L2(u,h){ls[cs++]=mo,ls[cs++]=go,ls[cs++]=gl,mo=h.id,go=h.overflow,gl=u}var Ar=null,an=null,Et=!1,vl=null,us=!1,w1=Error(r(519));function yl(u){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vh(as(h,u)),w1}function z2(u){var h=u.stateNode,m=u.type,y=u.memoizedProps;switch(h[sr]=u,h[$r]=y,m){case"dialog":bt("cancel",h),bt("close",h);break;case"iframe":case"object":case"embed":bt("load",h);break;case"video":case"audio":for(m=0;m<fp.length;m++)bt(fp[m],h);break;case"source":bt("error",h);break;case"img":case"image":case"link":bt("error",h),bt("load",h);break;case"details":bt("toggle",h);break;case"input":bt("invalid",h),Ov(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":bt("invalid",h);break;case"textarea":bt("invalid",h),JO(h,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||h.textContent===""+m||y.suppressHydrationWarning===!0||tj(h.textContent,m)?(y.popover!=null&&(bt("beforetoggle",h),bt("toggle",h)),y.onScroll!=null&&bt("scroll",h),y.onScrollEnd!=null&&bt("scrollend",h),y.onClick!=null&&(h.onclick=aa),h=!0):h=!1,h||yl(u,!0)}function F2(u){for(Ar=u.return;Ar;)switch(Ar.tag){case 5:case 31:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Ar=Ar.return}}function Sd(u){if(u!==Ar)return!1;if(!Et)return F2(u),Et=!0,!1;var h=u.tag,m;if((m=h!==3&&h!==27)&&((m=h===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||FE(u.type,u.memoizedProps)),m=!m),m&&an&&yl(u),F2(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));an=uj(u)}else if(h===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));an=uj(u)}else h===27?(h=an,Ml(u.type)?(u=VE,VE=null,an=u):an=h):an=Ar?fs(u.stateNode.nextSibling):null;return!0}function Bc(){an=Ar=null,Et=!1}function S1(){var u=vl;return u!==null&&(pi===null?pi=u:pi.push.apply(pi,u),vl=null),u}function Vh(u){vl===null?vl=[u]:vl.push(u)}var E1=q(null),Uc=null,da=null;function bl(u,h,m){$(E1,h._currentValue),h._currentValue=m}function fa(u){u._currentValue=E1.current,Y(E1)}function _1(u,h,m){for(;u!==null;){var y=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),u===m)break;u=u.return}}function C1(u,h,m,y){var A=u.child;for(A!==null&&(A.return=u);A!==null;){var P=A.dependencies;if(P!==null){var I=A.child;P=P.firstContext;e:for(;P!==null;){var W=P;P=A;for(var Q=0;Q<h.length;Q++)if(W.context===h[Q]){P.lanes|=m,W=P.alternate,W!==null&&(W.lanes|=m),_1(P.return,m,u),y||(I=null);break e}P=W.next}}else if(A.tag===18){if(I=A.return,I===null)throw Error(r(341));I.lanes|=m,P=I.alternate,P!==null&&(P.lanes|=m),_1(I,m,u),I=null}else I=A.child;if(I!==null)I.return=A;else for(I=A;I!==null;){if(I===u){I=null;break}if(A=I.sibling,A!==null){A.return=I.return,I=A;break}I=I.return}A=I}}function Ed(u,h,m,y){u=null;for(var A=h,P=!1;A!==null;){if(!P){if((A.flags&524288)!==0)P=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var I=A.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var W=A.type;zi(A.pendingProps.value,I.value)||(u!==null?u.push(W):u=[W])}}else if(A===ee.current){if(I=A.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(u!==null?u.push(vp):u=[vp])}A=A.return}u!==null&&C1(h,u,m,y),h.flags|=262144}function Gv(u){for(u=u.firstContext;u!==null;){if(!zi(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Vc(u){Uc=u,da=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Tr(u){return $2(Uc,u)}function Kv(u,h){return Uc===null&&Vc(u),$2(u,h)}function $2(u,h){var m=h._currentValue;if(h={context:h,memoizedValue:m,next:null},da===null){if(u===null)throw Error(r(308));da=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else da=da.next=h;return m}var Bte=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(m,y){u.push(y)}};this.abort=function(){h.aborted=!0,u.forEach(function(m){return m()})}},Ute=e.unstable_scheduleCallback,Vte=e.unstable_NormalPriority,Bn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function A1(){return{controller:new Bte,data:new Map,refCount:0}}function qh(u){u.refCount--,u.refCount===0&&Ute(Vte,function(){u.controller.abort()})}var Wh=null,T1=0,_d=0,Cd=null;function qte(u,h){if(Wh===null){var m=Wh=[];T1=0,_d=PE(),Cd={status:"pending",value:void 0,then:function(y){m.push(y)}}}return T1++,h.then(H2,H2),h}function H2(){if(--T1===0&&Wh!==null){Cd!==null&&(Cd.status="fulfilled");var u=Wh;Wh=null,_d=0,Cd=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function Wte(u,h){var m=[],y={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return u.then(function(){y.status="fulfilled",y.value=h;for(var A=0;A<m.length;A++)(0,m[A])(h)},function(A){for(y.status="rejected",y.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),y}var B2=j.S;j.S=function(u,h){CI=Ee(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&qte(u,h),B2!==null&&B2(u,h)};var qc=q(null);function R1(){var u=qc.current;return u!==null?u:Xt.pooledCache}function Yv(u,h){h===null?$(qc,qc.current):$(qc,h.pool)}function U2(){var u=R1();return u===null?null:{parent:Bn._currentValue,pool:u}}var Ad=Error(r(460)),k1=Error(r(474)),Xv=Error(r(542)),Zv={then:function(){}};function V2(u){return u=u.status,u==="fulfilled"||u==="rejected"}function q2(u,h,m){switch(m=u[m],m===void 0?u.push(h):m!==h&&(h.then(aa,aa),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,G2(u),u;default:if(typeof h.status=="string")h.then(aa,aa);else{if(u=Xt,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(y){if(h.status==="pending"){var A=h;A.status="fulfilled",A.value=y}},function(y){if(h.status==="pending"){var A=h;A.status="rejected",A.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,G2(u),u}throw Gc=h,Ad}}function Wc(u){try{var h=u._init;return h(u._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Gc=m,Ad):m}}var Gc=null;function W2(){if(Gc===null)throw Error(r(459));var u=Gc;return Gc=null,u}function G2(u){if(u===Ad||u===Xv)throw Error(r(483))}var Td=null,Gh=0;function Qv(u){var h=Gh;return Gh+=1,Td===null&&(Td=[]),q2(Td,u,h)}function Kh(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Jv(u,h){throw h.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function K2(u){function h(re,te){if(u){var oe=re.deletions;oe===null?(re.deletions=[te],re.flags|=16):oe.push(te)}}function m(re,te){if(!u)return null;for(;te!==null;)h(re,te),te=te.sibling;return null}function y(re){for(var te=new Map;re!==null;)re.key!==null?te.set(re.key,re):te.set(re.index,re),re=re.sibling;return te}function A(re,te){return re=ca(re,te),re.index=0,re.sibling=null,re}function P(re,te,oe){return re.index=oe,u?(oe=re.alternate,oe!==null?(oe=oe.index,oe<te?(re.flags|=67108866,te):oe):(re.flags|=67108866,te)):(re.flags|=1048576,te)}function I(re){return u&&re.alternate===null&&(re.flags|=67108866),re}function W(re,te,oe,ve){return te===null||te.tag!==6?(te=v1(oe,re.mode,ve),te.return=re,te):(te=A(te,oe),te.return=re,te)}function Q(re,te,oe,ve){var Be=oe.type;return Be===b?ge(re,te,oe.props.children,ve,oe.key):te!==null&&(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===M&&Wc(Be)===te.type)?(te=A(te,oe.props),Kh(te,oe),te.return=re,te):(te=qv(oe.type,oe.key,oe.props,null,re.mode,ve),Kh(te,oe),te.return=re,te)}function ae(re,te,oe,ve){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=y1(oe,re.mode,ve),te.return=re,te):(te=A(te,oe.children||[]),te.return=re,te)}function ge(re,te,oe,ve,Be){return te===null||te.tag!==7?(te=Hc(oe,re.mode,ve,Be),te.return=re,te):(te=A(te,oe),te.return=re,te)}function ye(re,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=v1(""+te,re.mode,oe),te.return=re,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case g:return oe=qv(te.type,te.key,te.props,null,re.mode,oe),Kh(oe,te),oe.return=re,oe;case v:return te=y1(te,re.mode,oe),te.return=re,te;case M:return te=Wc(te),ye(re,te,oe)}if(V(te)||F(te))return te=Hc(te,re.mode,oe,null),te.return=re,te;if(typeof te.then=="function")return ye(re,Qv(te),oe);if(te.$$typeof===_)return ye(re,Kv(re,te),oe);Jv(re,te)}return null}function de(re,te,oe,ve){var Be=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Be!==null?null:W(re,te,""+oe,ve);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return oe.key===Be?Q(re,te,oe,ve):null;case v:return oe.key===Be?ae(re,te,oe,ve):null;case M:return oe=Wc(oe),de(re,te,oe,ve)}if(V(oe)||F(oe))return Be!==null?null:ge(re,te,oe,ve,null);if(typeof oe.then=="function")return de(re,te,Qv(oe),ve);if(oe.$$typeof===_)return de(re,te,Kv(re,oe),ve);Jv(re,oe)}return null}function pe(re,te,oe,ve,Be){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return re=re.get(oe)||null,W(te,re,""+ve,Be);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case g:return re=re.get(ve.key===null?oe:ve.key)||null,Q(te,re,ve,Be);case v:return re=re.get(ve.key===null?oe:ve.key)||null,ae(te,re,ve,Be);case M:return ve=Wc(ve),pe(re,te,oe,ve,Be)}if(V(ve)||F(ve))return re=re.get(oe)||null,ge(te,re,ve,Be,null);if(typeof ve.then=="function")return pe(re,te,oe,Qv(ve),Be);if(ve.$$typeof===_)return pe(re,te,oe,Kv(te,ve),Be);Jv(te,ve)}return null}function De(re,te,oe,ve){for(var Be=null,kt=null,ze=te,ut=te=0,St=null;ze!==null&&ut<oe.length;ut++){ze.index>ut?(St=ze,ze=null):St=ze.sibling;var Pt=de(re,ze,oe[ut],ve);if(Pt===null){ze===null&&(ze=St);break}u&&ze&&Pt.alternate===null&&h(re,ze),te=P(Pt,te,ut),kt===null?Be=Pt:kt.sibling=Pt,kt=Pt,ze=St}if(ut===oe.length)return m(re,ze),Et&&ua(re,ut),Be;if(ze===null){for(;ut<oe.length;ut++)ze=ye(re,oe[ut],ve),ze!==null&&(te=P(ze,te,ut),kt===null?Be=ze:kt.sibling=ze,kt=ze);return Et&&ua(re,ut),Be}for(ze=y(ze);ut<oe.length;ut++)St=pe(ze,re,ut,oe[ut],ve),St!==null&&(u&&St.alternate!==null&&ze.delete(St.key===null?ut:St.key),te=P(St,te,ut),kt===null?Be=St:kt.sibling=St,kt=St);return u&&ze.forEach(function(Ll){return h(re,Ll)}),Et&&ua(re,ut),Be}function qe(re,te,oe,ve){if(oe==null)throw Error(r(151));for(var Be=null,kt=null,ze=te,ut=te=0,St=null,Pt=oe.next();ze!==null&&!Pt.done;ut++,Pt=oe.next()){ze.index>ut?(St=ze,ze=null):St=ze.sibling;var Ll=de(re,ze,Pt.value,ve);if(Ll===null){ze===null&&(ze=St);break}u&&ze&&Ll.alternate===null&&h(re,ze),te=P(Ll,te,ut),kt===null?Be=Ll:kt.sibling=Ll,kt=Ll,ze=St}if(Pt.done)return m(re,ze),Et&&ua(re,ut),Be;if(ze===null){for(;!Pt.done;ut++,Pt=oe.next())Pt=ye(re,Pt.value,ve),Pt!==null&&(te=P(Pt,te,ut),kt===null?Be=Pt:kt.sibling=Pt,kt=Pt);return Et&&ua(re,ut),Be}for(ze=y(ze);!Pt.done;ut++,Pt=oe.next())Pt=pe(ze,re,ut,Pt.value,ve),Pt!==null&&(u&&Pt.alternate!==null&&ze.delete(Pt.key===null?ut:Pt.key),te=P(Pt,te,ut),kt===null?Be=Pt:kt.sibling=Pt,kt=Pt);return u&&ze.forEach(function(rre){return h(re,rre)}),Et&&ua(re,ut),Be}function Wt(re,te,oe,ve){if(typeof oe=="object"&&oe!==null&&oe.type===b&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:e:{for(var Be=oe.key;te!==null;){if(te.key===Be){if(Be=oe.type,Be===b){if(te.tag===7){m(re,te.sibling),ve=A(te,oe.props.children),ve.return=re,re=ve;break e}}else if(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===M&&Wc(Be)===te.type){m(re,te.sibling),ve=A(te,oe.props),Kh(ve,oe),ve.return=re,re=ve;break e}m(re,te);break}else h(re,te);te=te.sibling}oe.type===b?(ve=Hc(oe.props.children,re.mode,ve,oe.key),ve.return=re,re=ve):(ve=qv(oe.type,oe.key,oe.props,null,re.mode,ve),Kh(ve,oe),ve.return=re,re=ve)}return I(re);case v:e:{for(Be=oe.key;te!==null;){if(te.key===Be)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){m(re,te.sibling),ve=A(te,oe.children||[]),ve.return=re,re=ve;break e}else{m(re,te);break}else h(re,te);te=te.sibling}ve=y1(oe,re.mode,ve),ve.return=re,re=ve}return I(re);case M:return oe=Wc(oe),Wt(re,te,oe,ve)}if(V(oe))return De(re,te,oe,ve);if(F(oe)){if(Be=F(oe),typeof Be!="function")throw Error(r(150));return oe=Be.call(oe),qe(re,te,oe,ve)}if(typeof oe.then=="function")return Wt(re,te,Qv(oe),ve);if(oe.$$typeof===_)return Wt(re,te,Kv(re,oe),ve);Jv(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,te!==null&&te.tag===6?(m(re,te.sibling),ve=A(te,oe),ve.return=re,re=ve):(m(re,te),ve=v1(oe,re.mode,ve),ve.return=re,re=ve),I(re)):m(re,te)}return function(re,te,oe,ve){try{Gh=0;var Be=Wt(re,te,oe,ve);return Td=null,Be}catch(ze){if(ze===Ad||ze===Xv)throw ze;var kt=Fi(29,ze,null,re.mode);return kt.lanes=ve,kt.return=re,kt}finally{}}}var Kc=K2(!0),Y2=K2(!1),xl=!1;function P1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function N1(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function wl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Sl(u,h,m){var y=u.updateQueue;if(y===null)return null;if(y=y.shared,(Ot&2)!==0){var A=y.pending;return A===null?h.next=h:(h.next=A.next,A.next=h),y.pending=h,h=Vv(u),M2(u,null,m),h}return Uv(u,y,h,m),Vv(u)}function Yh(u,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194048)!==0)){var y=h.lanes;y&=u.pendingLanes,m|=y,h.lanes=m,zr(u,m)}}function M1(u,h){var m=u.updateQueue,y=u.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var A=null,P=null;if(m=m.firstBaseUpdate,m!==null){do{var I={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};P===null?A=P=I:P=P.next=I,m=m.next}while(m!==null);P===null?A=P=h:P=P.next=h}else A=P=h;m={baseState:y.baseState,firstBaseUpdate:A,lastBaseUpdate:P,shared:y.shared,callbacks:y.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=h}var O1=!1;function Xh(){if(O1){var u=Cd;if(u!==null)throw u}}function Zh(u,h,m,y){O1=!1;var A=u.updateQueue;xl=!1;var P=A.firstBaseUpdate,I=A.lastBaseUpdate,W=A.shared.pending;if(W!==null){A.shared.pending=null;var Q=W,ae=Q.next;Q.next=null,I===null?P=ae:I.next=ae,I=Q;var ge=u.alternate;ge!==null&&(ge=ge.updateQueue,W=ge.lastBaseUpdate,W!==I&&(W===null?ge.firstBaseUpdate=ae:W.next=ae,ge.lastBaseUpdate=Q))}if(P!==null){var ye=A.baseState;I=0,ge=ae=Q=null,W=P;do{var de=W.lane&-536870913,pe=de!==W.lane;if(pe?(wt&de)===de:(y&de)===de){de!==0&&de===_d&&(O1=!0),ge!==null&&(ge=ge.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var De=u,qe=W;de=h;var Wt=m;switch(qe.tag){case 1:if(De=qe.payload,typeof De=="function"){ye=De.call(Wt,ye,de);break e}ye=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=qe.payload,de=typeof De=="function"?De.call(Wt,ye,de):De,de==null)break e;ye=f({},ye,de);break e;case 2:xl=!0}}de=W.callback,de!==null&&(u.flags|=64,pe&&(u.flags|=8192),pe=A.callbacks,pe===null?A.callbacks=[de]:pe.push(de))}else pe={lane:de,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ge===null?(ae=ge=pe,Q=ye):ge=ge.next=pe,I|=de;if(W=W.next,W===null){if(W=A.shared.pending,W===null)break;pe=W,W=pe.next,pe.next=null,A.lastBaseUpdate=pe,A.shared.pending=null}}while(!0);ge===null&&(Q=ye),A.baseState=Q,A.firstBaseUpdate=ae,A.lastBaseUpdate=ge,P===null&&(A.shared.lanes=0),Tl|=I,u.lanes=I,u.memoizedState=ye}}function X2(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function Z2(u,h){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)X2(m[u],h)}var Rd=q(null),ey=q(0);function Q2(u,h){u=wa,$(ey,u),$(Rd,h),wa=u|h.baseLanes}function D1(){$(ey,wa),$(Rd,Rd.current)}function I1(){wa=ey.current,Y(Rd),Y(ey)}var $i=q(null),ds=null;function El(u){var h=u.alternate;$(Dn,Dn.current&1),$($i,u),ds===null&&(h===null||Rd.current!==null||h.memoizedState!==null)&&(ds=u)}function j1(u){$(Dn,Dn.current),$($i,u),ds===null&&(ds=u)}function J2(u){u.tag===22?($(Dn,Dn.current),$($i,u),ds===null&&(ds=u)):_l()}function _l(){$(Dn,Dn.current),$($i,$i.current)}function Hi(u){Y($i),ds===u&&(ds=null),Y(Dn)}var Dn=q(0);function ty(u){for(var h=u;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||BE(m)||UE(m)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ha=0,at=null,Vt=null,Un=null,ny=!1,kd=!1,Yc=!1,ry=0,Qh=0,Pd=null,Gte=0;function kn(){throw Error(r(321))}function L1(u,h){if(h===null)return!1;for(var m=0;m<h.length&&m<u.length;m++)if(!zi(u[m],h[m]))return!1;return!0}function z1(u,h,m,y,A,P){return ha=P,at=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,j.H=u===null||u.memoizedState===null?jD:J1,Yc=!1,P=m(y,A),Yc=!1,kd&&(P=tD(h,m,y,A)),eD(u),P}function eD(u){j.H=tp;var h=Vt!==null&&Vt.next!==null;if(ha=0,Un=Vt=at=null,ny=!1,Qh=0,Pd=null,h)throw Error(r(300));u===null||Vn||(u=u.dependencies,u!==null&&Gv(u)&&(Vn=!0))}function tD(u,h,m,y){at=u;var A=0;do{if(kd&&(Pd=null),Qh=0,kd=!1,25<=A)throw Error(r(301));if(A+=1,Un=Vt=null,u.updateQueue!=null){var P=u.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}j.H=LD,P=h(m,y)}while(kd);return P}function Kte(){var u=j.H,h=u.useState()[0];return h=typeof h.then=="function"?Jh(h):h,u=u.useState()[0],(Vt!==null?Vt.memoizedState:null)!==u&&(at.flags|=1024),h}function F1(){var u=ry!==0;return ry=0,u}function $1(u,h,m){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~m}function H1(u){if(ny){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ny=!1}ha=0,Un=Vt=at=null,kd=!1,Qh=ry=0,Pd=null}function ei(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?at.memoizedState=Un=u:Un=Un.next=u,Un}function In(){if(Vt===null){var u=at.alternate;u=u!==null?u.memoizedState:null}else u=Vt.next;var h=Un===null?at.memoizedState:Un.next;if(h!==null)Un=h,Vt=u;else{if(u===null)throw at.alternate===null?Error(r(467)):Error(r(310));Vt=u,u={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Un===null?at.memoizedState=Un=u:Un=Un.next=u}return Un}function iy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jh(u){var h=Qh;return Qh+=1,Pd===null&&(Pd=[]),u=q2(Pd,u,h),h=at,(Un===null?h.memoizedState:Un.next)===null&&(h=h.alternate,j.H=h===null||h.memoizedState===null?jD:J1),u}function sy(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Jh(u);if(u.$$typeof===_)return Tr(u)}throw Error(r(438,String(u)))}function B1(u){var h=null,m=at.updateQueue;if(m!==null&&(h=m.memoCache),h==null){var y=at.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(A){return A.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),m===null&&(m=iy(),at.updateQueue=m),m.memoCache=h,m=h.data[h.index],m===void 0)for(m=h.data[h.index]=Array(u),y=0;y<u;y++)m[y]=L;return h.index++,m}function pa(u,h){return typeof h=="function"?h(u):h}function oy(u){var h=In();return U1(h,Vt,u)}function U1(u,h,m){var y=u.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var A=u.baseQueue,P=y.pending;if(P!==null){if(A!==null){var I=A.next;A.next=P.next,P.next=I}h.baseQueue=A=P,y.pending=null}if(P=u.baseState,A===null)u.memoizedState=P;else{h=A.next;var W=I=null,Q=null,ae=h,ge=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(wt&ye)===ye:(ha&ye)===ye){var de=ae.revertLane;if(de===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===_d&&(ge=!0);else if((ha&de)===de){ae=ae.next,de===_d&&(ge=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(W=Q=ye,I=P):Q=Q.next=ye,at.lanes|=de,Tl|=de;ye=ae.action,Yc&&m(P,ye),P=ae.hasEagerState?ae.eagerState:m(P,ye)}else de={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Q===null?(W=Q=de,I=P):Q=Q.next=de,at.lanes|=ye,Tl|=ye;ae=ae.next}while(ae!==null&&ae!==h);if(Q===null?I=P:Q.next=W,!zi(P,u.memoizedState)&&(Vn=!0,ge&&(m=Cd,m!==null)))throw m;u.memoizedState=P,u.baseState=I,u.baseQueue=Q,y.lastRenderedState=P}return A===null&&(y.lanes=0),[u.memoizedState,y.dispatch]}function V1(u){var h=In(),m=h.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var y=m.dispatch,A=m.pending,P=h.memoizedState;if(A!==null){m.pending=null;var I=A=A.next;do P=u(P,I.action),I=I.next;while(I!==A);zi(P,h.memoizedState)||(Vn=!0),h.memoizedState=P,h.baseQueue===null&&(h.baseState=P),m.lastRenderedState=P}return[P,y]}function nD(u,h,m){var y=at,A=In(),P=Et;if(P){if(m===void 0)throw Error(r(407));m=m()}else m=h();var I=!zi((Vt||A).memoizedState,m);if(I&&(A.memoizedState=m,Vn=!0),A=A.queue,G1(sD.bind(null,y,A,u),[u]),A.getSnapshot!==h||I||Un!==null&&Un.memoizedState.tag&1){if(y.flags|=2048,Nd(9,{destroy:void 0},iD.bind(null,y,A,m,h),null),Xt===null)throw Error(r(349));P||(ha&127)!==0||rD(y,h,m)}return m}function rD(u,h,m){u.flags|=16384,u={getSnapshot:h,value:m},h=at.updateQueue,h===null?(h=iy(),at.updateQueue=h,h.stores=[u]):(m=h.stores,m===null?h.stores=[u]:m.push(u))}function iD(u,h,m,y){h.value=m,h.getSnapshot=y,oD(h)&&aD(u)}function sD(u,h,m){return m(function(){oD(h)&&aD(u)})}function oD(u){var h=u.getSnapshot;u=u.value;try{var m=h();return!zi(u,m)}catch{return!0}}function aD(u){var h=$c(u,2);h!==null&&mi(h,u,2)}function q1(u){var h=ei();if(typeof u=="function"){var m=u;if(u=m(),Yc){_n(!0);try{m()}finally{_n(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:u},h}function lD(u,h,m,y){return u.baseState=m,U1(u,Vt,typeof y=="function"?y:pa)}function Yte(u,h,m,y,A){if(cy(u))throw Error(r(485));if(u=h.action,u!==null){var P={payload:A,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){P.listeners.push(I)}};j.T!==null?m(!0):P.isTransition=!1,y(P),m=h.pending,m===null?(P.next=h.pending=P,cD(h,P)):(P.next=m.next,h.pending=m.next=P)}}function cD(u,h){var m=h.action,y=h.payload,A=u.state;if(h.isTransition){var P=j.T,I={};j.T=I;try{var W=m(A,y),Q=j.S;Q!==null&&Q(I,W),uD(u,h,W)}catch(ae){W1(u,h,ae)}finally{P!==null&&I.types!==null&&(P.types=I.types),j.T=P}}else try{P=m(A,y),uD(u,h,P)}catch(ae){W1(u,h,ae)}}function uD(u,h,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){dD(u,h,y)},function(y){return W1(u,h,y)}):dD(u,h,m)}function dD(u,h,m){h.status="fulfilled",h.value=m,fD(h),u.state=m,h=u.pending,h!==null&&(m=h.next,m===h?u.pending=null:(m=m.next,h.next=m,cD(u,m)))}function W1(u,h,m){var y=u.pending;if(u.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=m,fD(h),h=h.next;while(h!==y)}u.action=null}function fD(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function hD(u,h){return h}function pD(u,h){if(Et){var m=Xt.formState;if(m!==null){e:{var y=at;if(Et){if(an){t:{for(var A=an,P=us;A.nodeType!==8;){if(!P){A=null;break t}if(A=fs(A.nextSibling),A===null){A=null;break t}}P=A.data,A=P==="F!"||P==="F"?A:null}if(A){an=fs(A.nextSibling),y=A.data==="F!";break e}}yl(y)}y=!1}y&&(h=m[0])}}return m=ei(),m.memoizedState=m.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hD,lastRenderedState:h},m.queue=y,m=OD.bind(null,at,y),y.dispatch=m,y=q1(!1),P=Q1.bind(null,at,!1,y.queue),y=ei(),A={state:h,dispatch:null,action:u,pending:null},y.queue=A,m=Yte.bind(null,at,A,P,m),A.dispatch=m,y.memoizedState=u,[h,m,!1]}function mD(u){var h=In();return gD(h,Vt,u)}function gD(u,h,m){if(h=U1(u,h,hD)[0],u=oy(pa)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=Jh(h)}catch(I){throw I===Ad?Xv:I}else y=h;h=In();var A=h.queue,P=A.dispatch;return m!==h.memoizedState&&(at.flags|=2048,Nd(9,{destroy:void 0},Xte.bind(null,A,m),null)),[y,P,u]}function Xte(u,h){u.action=h}function vD(u){var h=In(),m=Vt;if(m!==null)return gD(h,m,u);In(),h=h.memoizedState,m=In();var y=m.queue.dispatch;return m.memoizedState=u,[h,y,!1]}function Nd(u,h,m,y){return u={tag:u,create:m,deps:y,inst:h,next:null},h=at.updateQueue,h===null&&(h=iy(),at.updateQueue=h),m=h.lastEffect,m===null?h.lastEffect=u.next=u:(y=m.next,m.next=u,u.next=y,h.lastEffect=u),u}function yD(){return In().memoizedState}function ay(u,h,m,y){var A=ei();at.flags|=u,A.memoizedState=Nd(1|h,{destroy:void 0},m,y===void 0?null:y)}function ly(u,h,m,y){var A=In();y=y===void 0?null:y;var P=A.memoizedState.inst;Vt!==null&&y!==null&&L1(y,Vt.memoizedState.deps)?A.memoizedState=Nd(h,P,m,y):(at.flags|=u,A.memoizedState=Nd(1|h,P,m,y))}function bD(u,h){ay(8390656,8,u,h)}function G1(u,h){ly(2048,8,u,h)}function Zte(u){at.flags|=4;var h=at.updateQueue;if(h===null)h=iy(),at.updateQueue=h,h.events=[u];else{var m=h.events;m===null?h.events=[u]:m.push(u)}}function xD(u){var h=In().memoizedState;return Zte({ref:h,nextImpl:u}),function(){if((Ot&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function wD(u,h){return ly(4,2,u,h)}function SD(u,h){return ly(4,4,u,h)}function ED(u,h){if(typeof h=="function"){u=u();var m=h(u);return function(){typeof m=="function"?m():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function _D(u,h,m){m=m!=null?m.concat([u]):null,ly(4,4,ED.bind(null,h,u),m)}function K1(){}function CD(u,h){var m=In();h=h===void 0?null:h;var y=m.memoizedState;return h!==null&&L1(h,y[1])?y[0]:(m.memoizedState=[u,h],u)}function AD(u,h){var m=In();h=h===void 0?null:h;var y=m.memoizedState;if(h!==null&&L1(h,y[1]))return y[0];if(y=u(),Yc){_n(!0);try{u()}finally{_n(!1)}}return m.memoizedState=[y,h],y}function Y1(u,h,m){return m===void 0||(ha&1073741824)!==0&&(wt&261930)===0?u.memoizedState=h:(u.memoizedState=m,u=TI(),at.lanes|=u,Tl|=u,m)}function TD(u,h,m,y){return zi(m,h)?m:Rd.current!==null?(u=Y1(u,m,y),zi(u,h)||(Vn=!0),u):(ha&42)===0||(ha&1073741824)!==0&&(wt&261930)===0?(Vn=!0,u.memoizedState=m):(u=TI(),at.lanes|=u,Tl|=u,h)}function RD(u,h,m,y,A){var P=H.p;H.p=P!==0&&8>P?P:8;var I=j.T,W={};j.T=W,Q1(u,!1,h,m);try{var Q=A(),ae=j.S;if(ae!==null&&ae(W,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ge=Wte(Q,y);ep(u,h,ge,Vi(u))}else ep(u,h,y,Vi(u))}catch(ye){ep(u,h,{then:function(){},status:"rejected",reason:ye},Vi())}finally{H.p=P,I!==null&&W.types!==null&&(I.types=W.types),j.T=I}}function Qte(){}function X1(u,h,m,y){if(u.tag!==5)throw Error(r(476));var A=kD(u).queue;RD(u,A,h,B,m===null?Qte:function(){return PD(u),m(y)})}function kD(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:B},next:null};var m={};return h.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:m},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function PD(u){var h=kD(u);h.next===null&&(h=u.alternate.memoizedState),ep(u,h.next.queue,{},Vi())}function Z1(){return Tr(vp)}function ND(){return In().memoizedState}function MD(){return In().memoizedState}function Jte(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var m=Vi();u=wl(m);var y=Sl(h,u,m);y!==null&&(mi(y,h,m),Yh(y,h,m)),h={cache:A1()},u.payload=h;return}h=h.return}}function ene(u,h,m){var y=Vi();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},cy(u)?DD(h,m):(m=m1(u,h,m,y),m!==null&&(mi(m,u,y),ID(m,h,y)))}function OD(u,h,m){var y=Vi();ep(u,h,m,y)}function ep(u,h,m,y){var A={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(cy(u))DD(h,A);else{var P=u.alternate;if(u.lanes===0&&(P===null||P.lanes===0)&&(P=h.lastRenderedReducer,P!==null))try{var I=h.lastRenderedState,W=P(I,m);if(A.hasEagerState=!0,A.eagerState=W,zi(W,I))return Uv(u,h,A,0),Xt===null&&Bv(),!1}catch{}finally{}if(m=m1(u,h,A,y),m!==null)return mi(m,u,y),ID(m,h,y),!0}return!1}function Q1(u,h,m,y){if(y={lane:2,revertLane:PE(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},cy(u)){if(h)throw Error(r(479))}else h=m1(u,m,y,2),h!==null&&mi(h,u,2)}function cy(u){var h=u.alternate;return u===at||h!==null&&h===at}function DD(u,h){kd=ny=!0;var m=u.pending;m===null?h.next=h:(h.next=m.next,m.next=h),u.pending=h}function ID(u,h,m){if((m&4194048)!==0){var y=h.lanes;y&=u.pendingLanes,m|=y,h.lanes=m,zr(u,m)}}var tp={readContext:Tr,use:sy,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};tp.useEffectEvent=kn;var jD={readContext:Tr,use:sy,useCallback:function(u,h){return ei().memoizedState=[u,h===void 0?null:h],u},useContext:Tr,useEffect:bD,useImperativeHandle:function(u,h,m){m=m!=null?m.concat([u]):null,ay(4194308,4,ED.bind(null,h,u),m)},useLayoutEffect:function(u,h){return ay(4194308,4,u,h)},useInsertionEffect:function(u,h){ay(4,2,u,h)},useMemo:function(u,h){var m=ei();h=h===void 0?null:h;var y=u();if(Yc){_n(!0);try{u()}finally{_n(!1)}}return m.memoizedState=[y,h],y},useReducer:function(u,h,m){var y=ei();if(m!==void 0){var A=m(h);if(Yc){_n(!0);try{m(h)}finally{_n(!1)}}}else A=h;return y.memoizedState=y.baseState=A,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:A},y.queue=u,u=u.dispatch=ene.bind(null,at,u),[y.memoizedState,u]},useRef:function(u){var h=ei();return u={current:u},h.memoizedState=u},useState:function(u){u=q1(u);var h=u.queue,m=OD.bind(null,at,h);return h.dispatch=m,[u.memoizedState,m]},useDebugValue:K1,useDeferredValue:function(u,h){var m=ei();return Y1(m,u,h)},useTransition:function(){var u=q1(!1);return u=RD.bind(null,at,u.queue,!0,!1),ei().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,m){var y=at,A=ei();if(Et){if(m===void 0)throw Error(r(407));m=m()}else{if(m=h(),Xt===null)throw Error(r(349));(wt&127)!==0||rD(y,h,m)}A.memoizedState=m;var P={value:m,getSnapshot:h};return A.queue=P,bD(sD.bind(null,y,P,u),[u]),y.flags|=2048,Nd(9,{destroy:void 0},iD.bind(null,y,P,m,h),null),m},useId:function(){var u=ei(),h=Xt.identifierPrefix;if(Et){var m=go,y=mo;m=(y&~(1<<32-xt(y)-1)).toString(32)+m,h="_"+h+"R_"+m,m=ry++,0<m&&(h+="H"+m.toString(32)),h+="_"}else m=Gte++,h="_"+h+"r_"+m.toString(32)+"_";return u.memoizedState=h},useHostTransitionStatus:Z1,useFormState:pD,useActionState:pD,useOptimistic:function(u){var h=ei();h.memoizedState=h.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=m,h=Q1.bind(null,at,!0,m),m.dispatch=h,[u,h]},useMemoCache:B1,useCacheRefresh:function(){return ei().memoizedState=Jte.bind(null,at)},useEffectEvent:function(u){var h=ei(),m={impl:u};return h.memoizedState=m,function(){if((Ot&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},J1={readContext:Tr,use:sy,useCallback:CD,useContext:Tr,useEffect:G1,useImperativeHandle:_D,useInsertionEffect:wD,useLayoutEffect:SD,useMemo:AD,useReducer:oy,useRef:yD,useState:function(){return oy(pa)},useDebugValue:K1,useDeferredValue:function(u,h){var m=In();return TD(m,Vt.memoizedState,u,h)},useTransition:function(){var u=oy(pa)[0],h=In().memoizedState;return[typeof u=="boolean"?u:Jh(u),h]},useSyncExternalStore:nD,useId:ND,useHostTransitionStatus:Z1,useFormState:mD,useActionState:mD,useOptimistic:function(u,h){var m=In();return lD(m,Vt,u,h)},useMemoCache:B1,useCacheRefresh:MD};J1.useEffectEvent=xD;var LD={readContext:Tr,use:sy,useCallback:CD,useContext:Tr,useEffect:G1,useImperativeHandle:_D,useInsertionEffect:wD,useLayoutEffect:SD,useMemo:AD,useReducer:V1,useRef:yD,useState:function(){return V1(pa)},useDebugValue:K1,useDeferredValue:function(u,h){var m=In();return Vt===null?Y1(m,u,h):TD(m,Vt.memoizedState,u,h)},useTransition:function(){var u=V1(pa)[0],h=In().memoizedState;return[typeof u=="boolean"?u:Jh(u),h]},useSyncExternalStore:nD,useId:ND,useHostTransitionStatus:Z1,useFormState:vD,useActionState:vD,useOptimistic:function(u,h){var m=In();return Vt!==null?lD(m,Vt,u,h):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:B1,useCacheRefresh:MD};LD.useEffectEvent=xD;function eE(u,h,m,y){h=u.memoizedState,m=m(y,h),m=m==null?h:f({},h,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var tE={enqueueSetState:function(u,h,m){u=u._reactInternals;var y=Vi(),A=wl(y);A.payload=h,m!=null&&(A.callback=m),h=Sl(u,A,y),h!==null&&(mi(h,u,y),Yh(h,u,y))},enqueueReplaceState:function(u,h,m){u=u._reactInternals;var y=Vi(),A=wl(y);A.tag=1,A.payload=h,m!=null&&(A.callback=m),h=Sl(u,A,y),h!==null&&(mi(h,u,y),Yh(h,u,y))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var m=Vi(),y=wl(m);y.tag=2,h!=null&&(y.callback=h),h=Sl(u,y,m),h!==null&&(mi(h,u,m),Yh(h,u,m))}};function zD(u,h,m,y,A,P,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(y,P,I):h.prototype&&h.prototype.isPureReactComponent?!Hh(m,y)||!Hh(A,P):!0}function FD(u,h,m,y){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,y),h.state!==u&&tE.enqueueReplaceState(h,h.state,null)}function Xc(u,h){var m=h;if("ref"in h){m={};for(var y in h)y!=="ref"&&(m[y]=h[y])}if(u=u.defaultProps){m===h&&(m=f({},m));for(var A in u)m[A]===void 0&&(m[A]=u[A])}return m}function $D(u){Hv(u)}function HD(u){console.error(u)}function BD(u){Hv(u)}function uy(u,h){try{var m=u.onUncaughtError;m(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function UD(u,h,m){try{var y=u.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function nE(u,h,m){return m=wl(m),m.tag=3,m.payload={element:null},m.callback=function(){uy(u,h)},m}function VD(u){return u=wl(u),u.tag=3,u}function qD(u,h,m,y){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var P=y.value;u.payload=function(){return A(P)},u.callback=function(){UD(h,m,y)}}var I=m.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(u.callback=function(){UD(h,m,y),typeof A!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var W=y.stack;this.componentDidCatch(y.value,{componentStack:W!==null?W:""})})}function tne(u,h,m,y,A){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=m.alternate,h!==null&&Ed(h,m,A,!0),m=$i.current,m!==null){switch(m.tag){case 31:case 13:return ds===null?Sy():m.alternate===null&&Pn===0&&(Pn=3),m.flags&=-257,m.flags|=65536,m.lanes=A,y===Zv?m.flags|=16384:(h=m.updateQueue,h===null?m.updateQueue=new Set([y]):h.add(y),TE(u,y,A)),!1;case 22:return m.flags|=65536,y===Zv?m.flags|=16384:(h=m.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=h):(m=h.retryQueue,m===null?h.retryQueue=new Set([y]):m.add(y)),TE(u,y,A)),!1}throw Error(r(435,m.tag))}return TE(u,y,A),Sy(),!1}if(Et)return h=$i.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=A,y!==w1&&(u=Error(r(422),{cause:y}),Vh(as(u,m)))):(y!==w1&&(h=Error(r(423),{cause:y}),Vh(as(h,m))),u=u.current.alternate,u.flags|=65536,A&=-A,u.lanes|=A,y=as(y,m),A=nE(u.stateNode,y,A),M1(u,A),Pn!==4&&(Pn=2)),!1;var P=Error(r(520),{cause:y});if(P=as(P,m),cp===null?cp=[P]:cp.push(P),Pn!==4&&(Pn=2),h===null)return!0;y=as(y,m),m=h;do{switch(m.tag){case 3:return m.flags|=65536,u=A&-A,m.lanes|=u,u=nE(m.stateNode,y,u),M1(m,u),!1;case 1:if(h=m.type,P=m.stateNode,(m.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Rl===null||!Rl.has(P))))return m.flags|=65536,A&=-A,m.lanes|=A,A=VD(A),qD(A,u,m,y),M1(m,A),!1}m=m.return}while(m!==null);return!1}var rE=Error(r(461)),Vn=!1;function Rr(u,h,m,y){h.child=u===null?Y2(h,null,m,y):Kc(h,u.child,m,y)}function WD(u,h,m,y,A){m=m.render;var P=h.ref;if("ref"in y){var I={};for(var W in y)W!=="ref"&&(I[W]=y[W])}else I=y;return Vc(h),y=z1(u,h,m,I,P,A),W=F1(),u!==null&&!Vn?($1(u,h,A),ma(u,h,A)):(Et&&W&&b1(h),h.flags|=1,Rr(u,h,y,A),h.child)}function GD(u,h,m,y,A){if(u===null){var P=m.type;return typeof P=="function"&&!g1(P)&&P.defaultProps===void 0&&m.compare===null?(h.tag=15,h.type=P,KD(u,h,P,y,A)):(u=qv(m.type,null,y,h,h.mode,A),u.ref=h.ref,u.return=h,h.child=u)}if(P=u.child,!dE(u,A)){var I=P.memoizedProps;if(m=m.compare,m=m!==null?m:Hh,m(I,y)&&u.ref===h.ref)return ma(u,h,A)}return h.flags|=1,u=ca(P,y),u.ref=h.ref,u.return=h,h.child=u}function KD(u,h,m,y,A){if(u!==null){var P=u.memoizedProps;if(Hh(P,y)&&u.ref===h.ref)if(Vn=!1,h.pendingProps=y=P,dE(u,A))(u.flags&131072)!==0&&(Vn=!0);else return h.lanes=u.lanes,ma(u,h,A)}return iE(u,h,m,y,A)}function YD(u,h,m,y){var A=y.children,P=u!==null?u.memoizedState:null;if(u===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(P=P!==null?P.baseLanes|m:m,u!==null){for(y=h.child=u.child,A=0;y!==null;)A=A|y.lanes|y.childLanes,y=y.sibling;y=A&~P}else y=0,h.child=null;return XD(u,h,P,m,y)}if((m&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Yv(h,P!==null?P.cachePool:null),P!==null?Q2(h,P):D1(),J2(h);else return y=h.lanes=536870912,XD(u,h,P!==null?P.baseLanes|m:m,m,y)}else P!==null?(Yv(h,P.cachePool),Q2(h,P),_l(),h.memoizedState=null):(u!==null&&Yv(h,null),D1(),_l());return Rr(u,h,A,m),h.child}function np(u,h){return u!==null&&u.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function XD(u,h,m,y,A){var P=R1();return P=P===null?null:{parent:Bn._currentValue,pool:P},h.memoizedState={baseLanes:m,cachePool:P},u!==null&&Yv(h,null),D1(),J2(h),u!==null&&Ed(u,h,y,!0),h.childLanes=A,null}function dy(u,h){return h=hy({mode:h.mode,children:h.children},u.mode),h.ref=u.ref,u.child=h,h.return=u,h}function ZD(u,h,m){return Kc(h,u.child,null,m),u=dy(h,h.pendingProps),u.flags|=2,Hi(h),h.memoizedState=null,u}function nne(u,h,m){var y=h.pendingProps,A=(h.flags&128)!==0;if(h.flags&=-129,u===null){if(Et){if(y.mode==="hidden")return u=dy(h,y),h.lanes=536870912,np(null,u);if(j1(h),(u=an)?(u=cj(u,us),u=u!==null&&u.data==="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:gl!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},m=D2(u),m.return=h,h.child=m,Ar=h,an=null)):u=null,u===null)throw yl(h);return h.lanes=536870912,null}return dy(h,y)}var P=u.memoizedState;if(P!==null){var I=P.dehydrated;if(j1(h),A)if(h.flags&256)h.flags&=-257,h=ZD(u,h,m);else if(h.memoizedState!==null)h.child=u.child,h.flags|=128,h=null;else throw Error(r(558));else if(Vn||Ed(u,h,m,!1),A=(m&u.childLanes)!==0,Vn||A){if(y=Xt,y!==null&&(I=Fr(y,m),I!==0&&I!==P.retryLane))throw P.retryLane=I,$c(u,I),mi(y,u,I),rE;Sy(),h=ZD(u,h,m)}else u=P.treeContext,an=fs(I.nextSibling),Ar=h,Et=!0,vl=null,us=!1,u!==null&&L2(h,u),h=dy(h,y),h.flags|=4096;return h}return u=ca(u.child,{mode:y.mode,children:y.children}),u.ref=h.ref,h.child=u,u.return=h,u}function fy(u,h){var m=h.ref;if(m===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(h.flags|=4194816)}}function iE(u,h,m,y,A){return Vc(h),m=z1(u,h,m,y,void 0,A),y=F1(),u!==null&&!Vn?($1(u,h,A),ma(u,h,A)):(Et&&y&&b1(h),h.flags|=1,Rr(u,h,m,A),h.child)}function QD(u,h,m,y,A,P){return Vc(h),h.updateQueue=null,m=tD(h,y,m,A),eD(u),y=F1(),u!==null&&!Vn?($1(u,h,P),ma(u,h,P)):(Et&&y&&b1(h),h.flags|=1,Rr(u,h,m,P),h.child)}function JD(u,h,m,y,A){if(Vc(h),h.stateNode===null){var P=bd,I=m.contextType;typeof I=="object"&&I!==null&&(P=Tr(I)),P=new m(y,P),h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=tE,h.stateNode=P,P._reactInternals=h,P=h.stateNode,P.props=y,P.state=h.memoizedState,P.refs={},P1(h),I=m.contextType,P.context=typeof I=="object"&&I!==null?Tr(I):bd,P.state=h.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(eE(h,m,I,y),P.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(I=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),I!==P.state&&tE.enqueueReplaceState(P,P.state,null),Zh(h,y,P,A),Xh(),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(u===null){P=h.stateNode;var W=h.memoizedProps,Q=Xc(m,W);P.props=Q;var ae=P.context,ge=m.contextType;I=bd,typeof ge=="object"&&ge!==null&&(I=Tr(ge));var ye=m.getDerivedStateFromProps;ge=typeof ye=="function"||typeof P.getSnapshotBeforeUpdate=="function",W=h.pendingProps!==W,ge||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(W||ae!==I)&&FD(h,P,y,I),xl=!1;var de=h.memoizedState;P.state=de,Zh(h,y,P,A),Xh(),ae=h.memoizedState,W||de!==ae||xl?(typeof ye=="function"&&(eE(h,m,ye,y),ae=h.memoizedState),(Q=xl||zD(h,m,Q,y,de,ae,I))?(ge||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(h.flags|=4194308)):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=ae),P.props=y,P.state=ae,P.context=I,y=Q):(typeof P.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{P=h.stateNode,N1(u,h),I=h.memoizedProps,ge=Xc(m,I),P.props=ge,ye=h.pendingProps,de=P.context,ae=m.contextType,Q=bd,typeof ae=="object"&&ae!==null&&(Q=Tr(ae)),W=m.getDerivedStateFromProps,(ae=typeof W=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(I!==ye||de!==Q)&&FD(h,P,y,Q),xl=!1,de=h.memoizedState,P.state=de,Zh(h,y,P,A),Xh();var pe=h.memoizedState;I!==ye||de!==pe||xl||u!==null&&u.dependencies!==null&&Gv(u.dependencies)?(typeof W=="function"&&(eE(h,m,W,y),pe=h.memoizedState),(ge=xl||zD(h,m,ge,y,de,pe,Q)||u!==null&&u.dependencies!==null&&Gv(u.dependencies))?(ae||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,pe,Q),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,pe,Q)),typeof P.componentDidUpdate=="function"&&(h.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof P.componentDidUpdate!="function"||I===u.memoizedProps&&de===u.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||I===u.memoizedProps&&de===u.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=pe),P.props=y,P.state=pe,P.context=Q,y=ge):(typeof P.componentDidUpdate!="function"||I===u.memoizedProps&&de===u.memoizedState||(h.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||I===u.memoizedProps&&de===u.memoizedState||(h.flags|=1024),y=!1)}return P=y,fy(u,h),y=(h.flags&128)!==0,P||y?(P=h.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:P.render(),h.flags|=1,u!==null&&y?(h.child=Kc(h,u.child,null,A),h.child=Kc(h,null,m,A)):Rr(u,h,m,A),h.memoizedState=P.state,u=h.child):u=ma(u,h,A),u}function eI(u,h,m,y){return Bc(),h.flags|=256,Rr(u,h,m,y),h.child}var sE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oE(u){return{baseLanes:u,cachePool:U2()}}function aE(u,h,m){return u=u!==null?u.childLanes&~m:0,h&&(u|=Ui),u}function tI(u,h,m){var y=h.pendingProps,A=!1,P=(h.flags&128)!==0,I;if((I=P)||(I=u!==null&&u.memoizedState===null?!1:(Dn.current&2)!==0),I&&(A=!0,h.flags&=-129),I=(h.flags&32)!==0,h.flags&=-33,u===null){if(Et){if(A?El(h):_l(),(u=an)?(u=cj(u,us),u=u!==null&&u.data!=="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:gl!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},m=D2(u),m.return=h,h.child=m,Ar=h,an=null)):u=null,u===null)throw yl(h);return UE(u)?h.lanes=32:h.lanes=536870912,null}var W=y.children;return y=y.fallback,A?(_l(),A=h.mode,W=hy({mode:"hidden",children:W},A),y=Hc(y,A,m,null),W.return=h,y.return=h,W.sibling=y,h.child=W,y=h.child,y.memoizedState=oE(m),y.childLanes=aE(u,I,m),h.memoizedState=sE,np(null,y)):(El(h),lE(h,W))}var Q=u.memoizedState;if(Q!==null&&(W=Q.dehydrated,W!==null)){if(P)h.flags&256?(El(h),h.flags&=-257,h=cE(u,h,m)):h.memoizedState!==null?(_l(),h.child=u.child,h.flags|=128,h=null):(_l(),W=y.fallback,A=h.mode,y=hy({mode:"visible",children:y.children},A),W=Hc(W,A,m,null),W.flags|=2,y.return=h,W.return=h,y.sibling=W,h.child=y,Kc(h,u.child,null,m),y=h.child,y.memoizedState=oE(m),y.childLanes=aE(u,I,m),h.memoizedState=sE,h=np(null,y));else if(El(h),UE(W)){if(I=W.nextSibling&&W.nextSibling.dataset,I)var ae=I.dgst;I=ae,y=Error(r(419)),y.stack="",y.digest=I,Vh({value:y,source:null,stack:null}),h=cE(u,h,m)}else if(Vn||Ed(u,h,m,!1),I=(m&u.childLanes)!==0,Vn||I){if(I=Xt,I!==null&&(y=Fr(I,m),y!==0&&y!==Q.retryLane))throw Q.retryLane=y,$c(u,y),mi(I,u,y),rE;BE(W)||Sy(),h=cE(u,h,m)}else BE(W)?(h.flags|=192,h.child=u.child,h=null):(u=Q.treeContext,an=fs(W.nextSibling),Ar=h,Et=!0,vl=null,us=!1,u!==null&&L2(h,u),h=lE(h,y.children),h.flags|=4096);return h}return A?(_l(),W=y.fallback,A=h.mode,Q=u.child,ae=Q.sibling,y=ca(Q,{mode:"hidden",children:y.children}),y.subtreeFlags=Q.subtreeFlags&65011712,ae!==null?W=ca(ae,W):(W=Hc(W,A,m,null),W.flags|=2),W.return=h,y.return=h,y.sibling=W,h.child=y,np(null,y),y=h.child,W=u.child.memoizedState,W===null?W=oE(m):(A=W.cachePool,A!==null?(Q=Bn._currentValue,A=A.parent!==Q?{parent:Q,pool:Q}:A):A=U2(),W={baseLanes:W.baseLanes|m,cachePool:A}),y.memoizedState=W,y.childLanes=aE(u,I,m),h.memoizedState=sE,np(u.child,y)):(El(h),m=u.child,u=m.sibling,m=ca(m,{mode:"visible",children:y.children}),m.return=h,m.sibling=null,u!==null&&(I=h.deletions,I===null?(h.deletions=[u],h.flags|=16):I.push(u)),h.child=m,h.memoizedState=null,m)}function lE(u,h){return h=hy({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function hy(u,h){return u=Fi(22,u,null,h),u.lanes=0,u}function cE(u,h,m){return Kc(h,u.child,null,m),u=lE(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function nI(u,h,m){u.lanes|=h;var y=u.alternate;y!==null&&(y.lanes|=h),_1(u.return,h,m)}function uE(u,h,m,y,A,P){var I=u.memoizedState;I===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:A,treeForkCount:P}:(I.isBackwards=h,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=m,I.tailMode=A,I.treeForkCount=P)}function rI(u,h,m){var y=h.pendingProps,A=y.revealOrder,P=y.tail;y=y.children;var I=Dn.current,W=(I&2)!==0;if(W?(I=I&1|2,h.flags|=128):I&=1,$(Dn,I),Rr(u,h,y,m),y=Et?Uh:0,!W&&u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&nI(u,m,h);else if(u.tag===19)nI(u,m,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(A){case"forwards":for(m=h.child,A=null;m!==null;)u=m.alternate,u!==null&&ty(u)===null&&(A=m),m=m.sibling;m=A,m===null?(A=h.child,h.child=null):(A=m.sibling,m.sibling=null),uE(h,!1,A,m,P,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=h.child,h.child=null;A!==null;){if(u=A.alternate,u!==null&&ty(u)===null){h.child=A;break}u=A.sibling,A.sibling=m,m=A,A=u}uE(h,!0,m,null,P,y);break;case"together":uE(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function ma(u,h,m){if(u!==null&&(h.dependencies=u.dependencies),Tl|=h.lanes,(m&h.childLanes)===0)if(u!==null){if(Ed(u,h,m,!1),(m&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,m=ca(u,u.pendingProps),h.child=m,m.return=h;u.sibling!==null;)u=u.sibling,m=m.sibling=ca(u,u.pendingProps),m.return=h;m.sibling=null}return h.child}function dE(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Gv(u)))}function rne(u,h,m){switch(h.tag){case 3:Z(h,h.stateNode.containerInfo),bl(h,Bn,u.memoizedState.cache),Bc();break;case 27:case 5:fe(h);break;case 4:Z(h,h.stateNode.containerInfo);break;case 10:bl(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,j1(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(El(h),h.flags|=128,null):(m&h.child.childLanes)!==0?tI(u,h,m):(El(h),u=ma(u,h,m),u!==null?u.sibling:null);El(h);break;case 19:var A=(u.flags&128)!==0;if(y=(m&h.childLanes)!==0,y||(Ed(u,h,m,!1),y=(m&h.childLanes)!==0),A){if(y)return rI(u,h,m);h.flags|=128}if(A=h.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),$(Dn,Dn.current),y)break;return null;case 22:return h.lanes=0,YD(u,h,m,h.pendingProps);case 24:bl(h,Bn,u.memoizedState.cache)}return ma(u,h,m)}function iI(u,h,m){if(u!==null)if(u.memoizedProps!==h.pendingProps)Vn=!0;else{if(!dE(u,m)&&(h.flags&128)===0)return Vn=!1,rne(u,h,m);Vn=(u.flags&131072)!==0}else Vn=!1,Et&&(h.flags&1048576)!==0&&j2(h,Uh,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(u=Wc(h.elementType),h.type=u,typeof u=="function")g1(u)?(y=Xc(u,y),h.tag=1,h=JD(null,h,u,y,m)):(h.tag=0,h=iE(null,h,u,y,m));else{if(u!=null){var A=u.$$typeof;if(A===k){h.tag=11,h=WD(null,h,u,y,m);break e}else if(A===T){h.tag=14,h=GD(null,h,u,y,m);break e}}throw h=z(u)||u,Error(r(306,h,""))}}return h;case 0:return iE(u,h,h.type,h.pendingProps,m);case 1:return y=h.type,A=Xc(y,h.pendingProps),JD(u,h,y,A,m);case 3:e:{if(Z(h,h.stateNode.containerInfo),u===null)throw Error(r(387));y=h.pendingProps;var P=h.memoizedState;A=P.element,N1(u,h),Zh(h,y,null,m);var I=h.memoizedState;if(y=I.cache,bl(h,Bn,y),y!==P.cache&&C1(h,[Bn],m,!0),Xh(),y=I.element,P.isDehydrated)if(P={element:y,isDehydrated:!1,cache:I.cache},h.updateQueue.baseState=P,h.memoizedState=P,h.flags&256){h=eI(u,h,y,m);break e}else if(y!==A){A=as(Error(r(424)),h),Vh(A),h=eI(u,h,y,m);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(an=fs(u.firstChild),Ar=h,Et=!0,vl=null,us=!0,m=Y2(h,null,y,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Bc(),y===A){h=ma(u,h,m);break e}Rr(u,h,y,m)}h=h.child}return h;case 26:return fy(u,h),u===null?(m=mj(h.type,null,h.pendingProps,null))?h.memoizedState=m:Et||(m=h.type,u=h.pendingProps,y=ky(ue.current).createElement(m),y[sr]=h,y[$r]=u,kr(y,m,u),Hn(y),h.stateNode=y):h.memoizedState=mj(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return fe(h),u===null&&Et&&(y=h.stateNode=fj(h.type,h.pendingProps,ue.current),Ar=h,us=!0,A=an,Ml(h.type)?(VE=A,an=fs(y.firstChild)):an=A),Rr(u,h,h.pendingProps.children,m),fy(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&Et&&((A=y=an)&&(y=One(y,h.type,h.pendingProps,us),y!==null?(h.stateNode=y,Ar=h,an=fs(y.firstChild),us=!1,A=!0):A=!1),A||yl(h)),fe(h),A=h.type,P=h.pendingProps,I=u!==null?u.memoizedProps:null,y=P.children,FE(A,P)?y=null:I!==null&&FE(A,I)&&(h.flags|=32),h.memoizedState!==null&&(A=z1(u,h,Kte,null,null,m),vp._currentValue=A),fy(u,h),Rr(u,h,y,m),h.child;case 6:return u===null&&Et&&((u=m=an)&&(m=Dne(m,h.pendingProps,us),m!==null?(h.stateNode=m,Ar=h,an=null,u=!0):u=!1),u||yl(h)),null;case 13:return tI(u,h,m);case 4:return Z(h,h.stateNode.containerInfo),y=h.pendingProps,u===null?h.child=Kc(h,null,y,m):Rr(u,h,y,m),h.child;case 11:return WD(u,h,h.type,h.pendingProps,m);case 7:return Rr(u,h,h.pendingProps,m),h.child;case 8:return Rr(u,h,h.pendingProps.children,m),h.child;case 12:return Rr(u,h,h.pendingProps.children,m),h.child;case 10:return y=h.pendingProps,bl(h,h.type,y.value),Rr(u,h,y.children,m),h.child;case 9:return A=h.type._context,y=h.pendingProps.children,Vc(h),A=Tr(A),y=y(A),h.flags|=1,Rr(u,h,y,m),h.child;case 14:return GD(u,h,h.type,h.pendingProps,m);case 15:return KD(u,h,h.type,h.pendingProps,m);case 19:return rI(u,h,m);case 31:return nne(u,h,m);case 22:return YD(u,h,m,h.pendingProps);case 24:return Vc(h),y=Tr(Bn),u===null?(A=R1(),A===null&&(A=Xt,P=A1(),A.pooledCache=P,P.refCount++,P!==null&&(A.pooledCacheLanes|=m),A=P),h.memoizedState={parent:y,cache:A},P1(h),bl(h,Bn,A)):((u.lanes&m)!==0&&(N1(u,h),Zh(h,null,null,m),Xh()),A=u.memoizedState,P=h.memoizedState,A.parent!==y?(A={parent:y,cache:y},h.memoizedState=A,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=A),bl(h,Bn,y)):(y=P.cache,bl(h,Bn,y),y!==A.cache&&C1(h,[Bn],m,!0))),Rr(u,h,h.pendingProps.children,m),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function ga(u){u.flags|=4}function fE(u,h,m,y,A){if((h=(u.mode&32)!==0)&&(h=!1),h){if(u.flags|=16777216,(A&335544128)===A)if(u.stateNode.complete)u.flags|=8192;else if(NI())u.flags|=8192;else throw Gc=Zv,k1}else u.flags&=-16777217}function sI(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!xj(h))if(NI())u.flags|=8192;else throw Gc=Zv,k1}function py(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?vr():536870912,u.lanes|=h,Id|=h)}function rp(u,h){if(!Et)switch(u.tailMode){case"hidden":h=u.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:y.sibling=null}}function ln(u){var h=u.alternate!==null&&u.alternate.child===u.child,m=0,y=0;if(h)for(var A=u.child;A!==null;)m|=A.lanes|A.childLanes,y|=A.subtreeFlags&65011712,y|=A.flags&65011712,A.return=u,A=A.sibling;else for(A=u.child;A!==null;)m|=A.lanes|A.childLanes,y|=A.subtreeFlags,y|=A.flags,A.return=u,A=A.sibling;return u.subtreeFlags|=y,u.childLanes=m,h}function ine(u,h,m){var y=h.pendingProps;switch(x1(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(h),null;case 1:return ln(h),null;case 3:return m=h.stateNode,y=null,u!==null&&(y=u.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),fa(Bn),X(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(Sd(h)?ga(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,S1())),ln(h),null;case 26:var A=h.type,P=h.memoizedState;return u===null?(ga(h),P!==null?(ln(h),sI(h,P)):(ln(h),fE(h,A,null,y,m))):P?P!==u.memoizedState?(ga(h),ln(h),sI(h,P)):(ln(h),h.flags&=-16777217):(u=u.memoizedProps,u!==y&&ga(h),ln(h),fE(h,A,u,y,m)),null;case 27:if(me(h),m=ue.current,A=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==y&&ga(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return ln(h),null}u=J.current,Sd(h)?z2(h):(u=fj(A,y,m),h.stateNode=u,ga(h))}return ln(h),null;case 5:if(me(h),A=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==y&&ga(h);else{if(!y){if(h.stateNode===null)throw Error(r(166));return ln(h),null}if(P=J.current,Sd(h))z2(h);else{var I=ky(ue.current);switch(P){case 1:P=I.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:P=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":P=I.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":P=I.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":P=I.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof y.is=="string"?I.createElement("select",{is:y.is}):I.createElement("select"),y.multiple?P.multiple=!0:y.size&&(P.size=y.size);break;default:P=typeof y.is=="string"?I.createElement(A,{is:y.is}):I.createElement(A)}}P[sr]=h,P[$r]=y;e:for(I=h.child;I!==null;){if(I.tag===5||I.tag===6)P.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===h)break e;for(;I.sibling===null;){if(I.return===null||I.return===h)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}h.stateNode=P;e:switch(kr(P,A,y),A){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&ga(h)}}return ln(h),fE(h,h.type,u===null?null:u.memoizedProps,h.pendingProps,m),null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==y&&ga(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(r(166));if(u=ue.current,Sd(h)){if(u=h.stateNode,m=h.memoizedProps,y=null,A=Ar,A!==null)switch(A.tag){case 27:case 5:y=A.memoizedProps}u[sr]=h,u=!!(u.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||tj(u.nodeValue,m)),u||yl(h,!0)}else u=ky(u).createTextNode(y),u[sr]=h,h.stateNode=u}return ln(h),null;case 31:if(m=h.memoizedState,u===null||u.memoizedState!==null){if(y=Sd(h),m!==null){if(u===null){if(!y)throw Error(r(318));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[sr]=h}else Bc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ln(h),u=!1}else m=S1(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=m),u=!0;if(!u)return h.flags&256?(Hi(h),h):(Hi(h),null);if((h.flags&128)!==0)throw Error(r(558))}return ln(h),null;case 13:if(y=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(A=Sd(h),y!==null&&y.dehydrated!==null){if(u===null){if(!A)throw Error(r(318));if(A=h.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[sr]=h}else Bc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ln(h),A=!1}else A=S1(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=A),A=!0;if(!A)return h.flags&256?(Hi(h),h):(Hi(h),null)}return Hi(h),(h.flags&128)!==0?(h.lanes=m,h):(m=y!==null,u=u!==null&&u.memoizedState!==null,m&&(y=h.child,A=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(A=y.alternate.memoizedState.cachePool.pool),P=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(P=y.memoizedState.cachePool.pool),P!==A&&(y.flags|=2048)),m!==u&&m&&(h.child.flags|=8192),py(h,h.updateQueue),ln(h),null);case 4:return X(),u===null&&DE(h.stateNode.containerInfo),ln(h),null;case 10:return fa(h.type),ln(h),null;case 19:if(Y(Dn),y=h.memoizedState,y===null)return ln(h),null;if(A=(h.flags&128)!==0,P=y.rendering,P===null)if(A)rp(y,!1);else{if(Pn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(P=ty(u),P!==null){for(h.flags|=128,rp(y,!1),u=P.updateQueue,h.updateQueue=u,py(h,u),h.subtreeFlags=0,u=m,m=h.child;m!==null;)O2(m,u),m=m.sibling;return $(Dn,Dn.current&1|2),Et&&ua(h,y.treeForkCount),h.child}u=u.sibling}y.tail!==null&&Ee()>by&&(h.flags|=128,A=!0,rp(y,!1),h.lanes=4194304)}else{if(!A)if(u=ty(P),u!==null){if(h.flags|=128,A=!0,u=u.updateQueue,h.updateQueue=u,py(h,u),rp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!P.alternate&&!Et)return ln(h),null}else 2*Ee()-y.renderingStartTime>by&&m!==536870912&&(h.flags|=128,A=!0,rp(y,!1),h.lanes=4194304);y.isBackwards?(P.sibling=h.child,h.child=P):(u=y.last,u!==null?u.sibling=P:h.child=P,y.last=P)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=Ee(),u.sibling=null,m=Dn.current,$(Dn,A?m&1|2:m&1),Et&&ua(h,y.treeForkCount),u):(ln(h),null);case 22:case 23:return Hi(h),I1(),y=h.memoizedState!==null,u!==null?u.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(m&536870912)!==0&&(h.flags&128)===0&&(ln(h),h.subtreeFlags&6&&(h.flags|=8192)):ln(h),m=h.updateQueue,m!==null&&py(h,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048),u!==null&&Y(qc),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),h.memoizedState.cache!==m&&(h.flags|=2048),fa(Bn),ln(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function sne(u,h){switch(x1(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return fa(Bn),X(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return me(h),null;case 31:if(h.memoizedState!==null){if(Hi(h),h.alternate===null)throw Error(r(340));Bc()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 13:if(Hi(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Bc()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Y(Dn),null;case 4:return X(),null;case 10:return fa(h.type),null;case 22:case 23:return Hi(h),I1(),u!==null&&Y(qc),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return fa(Bn),null;case 25:return null;default:return null}}function oI(u,h){switch(x1(h),h.tag){case 3:fa(Bn),X();break;case 26:case 27:case 5:me(h);break;case 4:X();break;case 31:h.memoizedState!==null&&Hi(h);break;case 13:Hi(h);break;case 19:Y(Dn);break;case 10:fa(h.type);break;case 22:case 23:Hi(h),I1(),u!==null&&Y(qc);break;case 24:fa(Bn)}}function ip(u,h){try{var m=h.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var A=y.next;m=A;do{if((m.tag&u)===u){y=void 0;var P=m.create,I=m.inst;y=P(),I.destroy=y}m=m.next}while(m!==A)}}catch(W){$t(h,h.return,W)}}function Cl(u,h,m){try{var y=h.updateQueue,A=y!==null?y.lastEffect:null;if(A!==null){var P=A.next;y=P;do{if((y.tag&u)===u){var I=y.inst,W=I.destroy;if(W!==void 0){I.destroy=void 0,A=h;var Q=m,ae=W;try{ae()}catch(ge){$t(A,Q,ge)}}}y=y.next}while(y!==P)}}catch(ge){$t(h,h.return,ge)}}function aI(u){var h=u.updateQueue;if(h!==null){var m=u.stateNode;try{Z2(h,m)}catch(y){$t(u,u.return,y)}}}function lI(u,h,m){m.props=Xc(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(y){$t(u,h,y)}}function sp(u,h){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var y=u.stateNode;break;case 30:y=u.stateNode;break;default:y=u.stateNode}typeof m=="function"?u.refCleanup=m(y):m.current=y}}catch(A){$t(u,h,A)}}function vo(u,h){var m=u.ref,y=u.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(A){$t(u,h,A)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){$t(u,h,A)}else m.current=null}function cI(u){var h=u.type,m=u.memoizedProps,y=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(A){$t(u,u.return,A)}}function hE(u,h,m){try{var y=u.stateNode;Tne(y,u.type,m,h),y[$r]=h}catch(A){$t(u,u.return,A)}}function uI(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Ml(u.type)||u.tag===4}function pE(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||uI(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Ml(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function mE(u,h,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,h?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,h):(h=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,h.appendChild(u),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=aa));else if(y!==4&&(y===27&&Ml(u.type)&&(m=u.stateNode,h=null),u=u.child,u!==null))for(mE(u,h,m),u=u.sibling;u!==null;)mE(u,h,m),u=u.sibling}function my(u,h,m){var y=u.tag;if(y===5||y===6)u=u.stateNode,h?m.insertBefore(u,h):m.appendChild(u);else if(y!==4&&(y===27&&Ml(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(my(u,h,m),u=u.sibling;u!==null;)my(u,h,m),u=u.sibling}function dI(u){var h=u.stateNode,m=u.memoizedProps;try{for(var y=u.type,A=h.attributes;A.length;)h.removeAttributeNode(A[0]);kr(h,y,m),h[sr]=u,h[$r]=m}catch(P){$t(u,u.return,P)}}var va=!1,qn=!1,gE=!1,fI=typeof WeakSet=="function"?WeakSet:Set,yr=null;function one(u,h){if(u=u.containerInfo,LE=jy,u=_2(u),c1(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var A=y.anchorOffset,P=y.focusNode;y=y.focusOffset;try{m.nodeType,P.nodeType}catch{m=null;break e}var I=0,W=-1,Q=-1,ae=0,ge=0,ye=u,de=null;t:for(;;){for(var pe;ye!==m||A!==0&&ye.nodeType!==3||(W=I+A),ye!==P||y!==0&&ye.nodeType!==3||(Q=I+y),ye.nodeType===3&&(I+=ye.nodeValue.length),(pe=ye.firstChild)!==null;)de=ye,ye=pe;for(;;){if(ye===u)break t;if(de===m&&++ae===A&&(W=I),de===P&&++ge===y&&(Q=I),(pe=ye.nextSibling)!==null)break;ye=de,de=ye.parentNode}ye=pe}m=W===-1||Q===-1?null:{start:W,end:Q}}else m=null}m=m||{start:0,end:0}}else m=null;for(zE={focusedElem:u,selectionRange:m},jy=!1,yr=h;yr!==null;)if(h=yr,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,yr=u;else for(;yr!==null;){switch(h=yr,P=h.alternate,u=h.flags,h.tag){case 0:if((u&4)!==0&&(u=h.updateQueue,u=u!==null?u.events:null,u!==null))for(m=0;m<u.length;m++)A=u[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&P!==null){u=void 0,m=h,A=P.memoizedProps,P=P.memoizedState,y=m.stateNode;try{var De=Xc(m.type,A);u=y.getSnapshotBeforeUpdate(De,P),y.__reactInternalSnapshotBeforeUpdate=u}catch(qe){$t(m,m.return,qe)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,m=u.nodeType,m===9)HE(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":HE(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,yr=u;break}yr=h.return}}function hI(u,h,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:ba(u,m),y&4&&ip(5,m);break;case 1:if(ba(u,m),y&4)if(u=m.stateNode,h===null)try{u.componentDidMount()}catch(I){$t(m,m.return,I)}else{var A=Xc(m.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(A,h,u.__reactInternalSnapshotBeforeUpdate)}catch(I){$t(m,m.return,I)}}y&64&&aI(m),y&512&&sp(m,m.return);break;case 3:if(ba(u,m),y&64&&(u=m.updateQueue,u!==null)){if(h=null,m.child!==null)switch(m.child.tag){case 27:case 5:h=m.child.stateNode;break;case 1:h=m.child.stateNode}try{Z2(u,h)}catch(I){$t(m,m.return,I)}}break;case 27:h===null&&y&4&&dI(m);case 26:case 5:ba(u,m),h===null&&y&4&&cI(m),y&512&&sp(m,m.return);break;case 12:ba(u,m);break;case 31:ba(u,m),y&4&&gI(u,m);break;case 13:ba(u,m),y&4&&vI(u,m),y&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=mne.bind(null,m),Ine(u,m))));break;case 22:if(y=m.memoizedState!==null||va,!y){h=h!==null&&h.memoizedState!==null||qn,A=va;var P=qn;va=y,(qn=h)&&!P?xa(u,m,(m.subtreeFlags&8772)!==0):ba(u,m),va=A,qn=P}break;case 30:break;default:ba(u,m)}}function pI(u){var h=u.alternate;h!==null&&(u.alternate=null,pI(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&Nh(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var hn=null,di=!1;function ya(u,h,m){for(m=m.child;m!==null;)mI(u,h,m),m=m.sibling}function mI(u,h,m){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(En,m)}catch{}switch(m.tag){case 26:qn||vo(m,h),ya(u,h,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:qn||vo(m,h);var y=hn,A=di;Ml(m.type)&&(hn=m.stateNode,di=!1),ya(u,h,m),pp(m.stateNode),hn=y,di=A;break;case 5:qn||vo(m,h);case 6:if(y=hn,A=di,hn=null,ya(u,h,m),hn=y,di=A,hn!==null)if(di)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(m.stateNode)}catch(P){$t(m,h,P)}else try{hn.removeChild(m.stateNode)}catch(P){$t(m,h,P)}break;case 18:hn!==null&&(di?(u=hn,aj(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),Ud(u)):aj(hn,m.stateNode));break;case 4:y=hn,A=di,hn=m.stateNode.containerInfo,di=!0,ya(u,h,m),hn=y,di=A;break;case 0:case 11:case 14:case 15:Cl(2,m,h),qn||Cl(4,m,h),ya(u,h,m);break;case 1:qn||(vo(m,h),y=m.stateNode,typeof y.componentWillUnmount=="function"&&lI(m,h,y)),ya(u,h,m);break;case 21:ya(u,h,m);break;case 22:qn=(y=qn)||m.memoizedState!==null,ya(u,h,m),qn=y;break;default:ya(u,h,m)}}function gI(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Ud(u)}catch(m){$t(h,h.return,m)}}}function vI(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Ud(u)}catch(m){$t(h,h.return,m)}}function ane(u){switch(u.tag){case 31:case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new fI),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new fI),h;default:throw Error(r(435,u.tag))}}function gy(u,h){var m=ane(u);h.forEach(function(y){if(!m.has(y)){m.add(y);var A=gne.bind(null,u,y);y.then(A,A)}})}function fi(u,h){var m=h.deletions;if(m!==null)for(var y=0;y<m.length;y++){var A=m[y],P=u,I=h,W=I;e:for(;W!==null;){switch(W.tag){case 27:if(Ml(W.type)){hn=W.stateNode,di=!1;break e}break;case 5:hn=W.stateNode,di=!1;break e;case 3:case 4:hn=W.stateNode.containerInfo,di=!0;break e}W=W.return}if(hn===null)throw Error(r(160));mI(P,I,A),hn=null,di=!1,P=A.alternate,P!==null&&(P.return=null),A.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)yI(h,u),h=h.sibling}var Fs=null;function yI(u,h){var m=u.alternate,y=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:fi(h,u),hi(u),y&4&&(Cl(3,u,u.return),ip(3,u),Cl(5,u,u.return));break;case 1:fi(h,u),hi(u),y&512&&(qn||m===null||vo(m,m.return)),y&64&&va&&(u=u.updateQueue,u!==null&&(y=u.callbacks,y!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var A=Fs;if(fi(h,u),hi(u),y&512&&(qn||m===null||vo(m,m.return)),y&4){var P=m!==null?m.memoizedState:null;if(y=u.memoizedState,m===null)if(y===null)if(u.stateNode===null){e:{y=u.type,m=u.memoizedProps,A=A.ownerDocument||A;t:switch(y){case"title":P=A.getElementsByTagName("title")[0],(!P||P[Dc]||P[sr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=A.createElement(y),A.head.insertBefore(P,A.querySelector("head > title"))),kr(P,y,m),P[sr]=u,Hn(P),y=P;break e;case"link":var I=yj("link","href",A).get(y+(m.href||""));if(I){for(var W=0;W<I.length;W++)if(P=I[W],P.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&P.getAttribute("rel")===(m.rel==null?null:m.rel)&&P.getAttribute("title")===(m.title==null?null:m.title)&&P.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){I.splice(W,1);break t}}P=A.createElement(y),kr(P,y,m),A.head.appendChild(P);break;case"meta":if(I=yj("meta","content",A).get(y+(m.content||""))){for(W=0;W<I.length;W++)if(P=I[W],P.getAttribute("content")===(m.content==null?null:""+m.content)&&P.getAttribute("name")===(m.name==null?null:m.name)&&P.getAttribute("property")===(m.property==null?null:m.property)&&P.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&P.getAttribute("charset")===(m.charSet==null?null:m.charSet)){I.splice(W,1);break t}}P=A.createElement(y),kr(P,y,m),A.head.appendChild(P);break;default:throw Error(r(468,y))}P[sr]=u,Hn(P),y=P}u.stateNode=y}else bj(A,u.type,u.stateNode);else u.stateNode=vj(A,y,u.memoizedProps);else P!==y?(P===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):P.count--,y===null?bj(A,u.type,u.stateNode):vj(A,y,u.memoizedProps)):y===null&&u.stateNode!==null&&hE(u,u.memoizedProps,m.memoizedProps)}break;case 27:fi(h,u),hi(u),y&512&&(qn||m===null||vo(m,m.return)),m!==null&&y&4&&hE(u,u.memoizedProps,m.memoizedProps);break;case 5:if(fi(h,u),hi(u),y&512&&(qn||m===null||vo(m,m.return)),u.flags&32){A=u.stateNode;try{fd(A,"")}catch(De){$t(u,u.return,De)}}y&4&&u.stateNode!=null&&(A=u.memoizedProps,hE(u,A,m!==null?m.memoizedProps:A)),y&1024&&(gE=!0);break;case 6:if(fi(h,u),hi(u),y&4){if(u.stateNode===null)throw Error(r(162));y=u.memoizedProps,m=u.stateNode;try{m.nodeValue=y}catch(De){$t(u,u.return,De)}}break;case 3:if(My=null,A=Fs,Fs=Py(h.containerInfo),fi(h,u),Fs=A,hi(u),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Ud(h.containerInfo)}catch(De){$t(u,u.return,De)}gE&&(gE=!1,bI(u));break;case 4:y=Fs,Fs=Py(u.stateNode.containerInfo),fi(h,u),hi(u),Fs=y;break;case 12:fi(h,u),hi(u);break;case 31:fi(h,u),hi(u),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,gy(u,y)));break;case 13:fi(h,u),hi(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(yy=Ee()),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,gy(u,y)));break;case 22:A=u.memoizedState!==null;var Q=m!==null&&m.memoizedState!==null,ae=va,ge=qn;if(va=ae||A,qn=ge||Q,fi(h,u),qn=ge,va=ae,hi(u),y&8192)e:for(h=u.stateNode,h._visibility=A?h._visibility&-2:h._visibility|1,A&&(m===null||Q||va||qn||Zc(u)),m=null,h=u;;){if(h.tag===5||h.tag===26){if(m===null){Q=m=h;try{if(P=Q.stateNode,A)I=P.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{W=Q.stateNode;var ye=Q.memoizedProps.style,de=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;W.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(De){$t(Q,Q.return,De)}}}else if(h.tag===6){if(m===null){Q=h;try{Q.stateNode.nodeValue=A?"":Q.memoizedProps}catch(De){$t(Q,Q.return,De)}}}else if(h.tag===18){if(m===null){Q=h;try{var pe=Q.stateNode;A?lj(pe,!0):lj(Q.stateNode,!1)}catch(De){$t(Q,Q.return,De)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=u.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,gy(u,m))));break;case 19:fi(h,u),hi(u),y&4&&(y=u.updateQueue,y!==null&&(u.updateQueue=null,gy(u,y)));break;case 30:break;case 21:break;default:fi(h,u),hi(u)}}function hi(u){var h=u.flags;if(h&2){try{for(var m,y=u.return;y!==null;){if(uI(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var A=m.stateNode,P=pE(u);my(u,P,A);break;case 5:var I=m.stateNode;m.flags&32&&(fd(I,""),m.flags&=-33);var W=pE(u);my(u,W,I);break;case 3:case 4:var Q=m.stateNode.containerInfo,ae=pE(u);mE(u,ae,Q);break;default:throw Error(r(161))}}catch(ge){$t(u,u.return,ge)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function bI(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;bI(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function ba(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)hI(u,h.alternate,h),h=h.sibling}function Zc(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:Cl(4,h,h.return),Zc(h);break;case 1:vo(h,h.return);var m=h.stateNode;typeof m.componentWillUnmount=="function"&&lI(h,h.return,m),Zc(h);break;case 27:pp(h.stateNode);case 26:case 5:vo(h,h.return),Zc(h);break;case 22:h.memoizedState===null&&Zc(h);break;case 30:Zc(h);break;default:Zc(h)}u=u.sibling}}function xa(u,h,m){for(m=m&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,A=u,P=h,I=P.flags;switch(P.tag){case 0:case 11:case 15:xa(A,P,m),ip(4,P);break;case 1:if(xa(A,P,m),y=P,A=y.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ae){$t(y,y.return,ae)}if(y=P,A=y.updateQueue,A!==null){var W=y.stateNode;try{var Q=A.shared.hiddenCallbacks;if(Q!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Q.length;A++)X2(Q[A],W)}catch(ae){$t(y,y.return,ae)}}m&&I&64&&aI(P),sp(P,P.return);break;case 27:dI(P);case 26:case 5:xa(A,P,m),m&&y===null&&I&4&&cI(P),sp(P,P.return);break;case 12:xa(A,P,m);break;case 31:xa(A,P,m),m&&I&4&&gI(A,P);break;case 13:xa(A,P,m),m&&I&4&&vI(A,P);break;case 22:P.memoizedState===null&&xa(A,P,m),sp(P,P.return);break;case 30:break;default:xa(A,P,m)}h=h.sibling}}function vE(u,h){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&qh(m))}function yE(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&qh(u))}function $s(u,h,m,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)xI(u,h,m,y),h=h.sibling}function xI(u,h,m,y){var A=h.flags;switch(h.tag){case 0:case 11:case 15:$s(u,h,m,y),A&2048&&ip(9,h);break;case 1:$s(u,h,m,y);break;case 3:$s(u,h,m,y),A&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&qh(u)));break;case 12:if(A&2048){$s(u,h,m,y),u=h.stateNode;try{var P=h.memoizedProps,I=P.id,W=P.onPostCommit;typeof W=="function"&&W(I,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Q){$t(h,h.return,Q)}}else $s(u,h,m,y);break;case 31:$s(u,h,m,y);break;case 13:$s(u,h,m,y);break;case 23:break;case 22:P=h.stateNode,I=h.alternate,h.memoizedState!==null?P._visibility&2?$s(u,h,m,y):op(u,h):P._visibility&2?$s(u,h,m,y):(P._visibility|=2,Md(u,h,m,y,(h.subtreeFlags&10256)!==0||!1)),A&2048&&vE(I,h);break;case 24:$s(u,h,m,y),A&2048&&yE(h.alternate,h);break;default:$s(u,h,m,y)}}function Md(u,h,m,y,A){for(A=A&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var P=u,I=h,W=m,Q=y,ae=I.flags;switch(I.tag){case 0:case 11:case 15:Md(P,I,W,Q,A),ip(8,I);break;case 23:break;case 22:var ge=I.stateNode;I.memoizedState!==null?ge._visibility&2?Md(P,I,W,Q,A):op(P,I):(ge._visibility|=2,Md(P,I,W,Q,A)),A&&ae&2048&&vE(I.alternate,I);break;case 24:Md(P,I,W,Q,A),A&&ae&2048&&yE(I.alternate,I);break;default:Md(P,I,W,Q,A)}h=h.sibling}}function op(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var m=u,y=h,A=y.flags;switch(y.tag){case 22:op(m,y),A&2048&&vE(y.alternate,y);break;case 24:op(m,y),A&2048&&yE(y.alternate,y);break;default:op(m,y)}h=h.sibling}}var ap=8192;function Od(u,h,m){if(u.subtreeFlags&ap)for(u=u.child;u!==null;)wI(u,h,m),u=u.sibling}function wI(u,h,m){switch(u.tag){case 26:Od(u,h,m),u.flags&ap&&u.memoizedState!==null&&Gne(m,Fs,u.memoizedState,u.memoizedProps);break;case 5:Od(u,h,m);break;case 3:case 4:var y=Fs;Fs=Py(u.stateNode.containerInfo),Od(u,h,m),Fs=y;break;case 22:u.memoizedState===null&&(y=u.alternate,y!==null&&y.memoizedState!==null?(y=ap,ap=16777216,Od(u,h,m),ap=y):Od(u,h,m));break;default:Od(u,h,m)}}function SI(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function lp(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];yr=y,_I(y,u)}SI(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)EI(u),u=u.sibling}function EI(u){switch(u.tag){case 0:case 11:case 15:lp(u),u.flags&2048&&Cl(9,u,u.return);break;case 3:lp(u);break;case 12:lp(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,vy(u)):lp(u);break;default:lp(u)}}function vy(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var y=h[m];yr=y,_I(y,u)}SI(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:Cl(8,h,h.return),vy(h);break;case 22:m=h.stateNode,m._visibility&2&&(m._visibility&=-3,vy(h));break;default:vy(h)}u=u.sibling}}function _I(u,h){for(;yr!==null;){var m=yr;switch(m.tag){case 0:case 11:case 15:Cl(8,m,h);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:qh(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,yr=y;else e:for(m=u;yr!==null;){y=yr;var A=y.sibling,P=y.return;if(pI(y),y===m){yr=null;break e}if(A!==null){A.return=P,yr=A;break e}yr=P}}}var lne={getCacheForType:function(u){var h=Tr(Bn),m=h.data.get(u);return m===void 0&&(m=u(),h.data.set(u,m)),m},cacheSignal:function(){return Tr(Bn).controller.signal}},cne=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Xt=null,yt=null,wt=0,Ft=0,Bi=null,Al=!1,Dd=!1,bE=!1,wa=0,Pn=0,Tl=0,Qc=0,xE=0,Ui=0,Id=0,cp=null,pi=null,wE=!1,yy=0,CI=0,by=1/0,xy=null,Rl=null,or=0,kl=null,jd=null,Sa=0,SE=0,EE=null,AI=null,up=0,_E=null;function Vi(){return(Ot&2)!==0&&wt!==0?wt&-wt:j.T!==null?PE():Ph()}function TI(){if(Ui===0)if((wt&536870912)===0||Et){var u=ll;ll<<=1,(ll&3932160)===0&&(ll=262144),Ui=u}else Ui=536870912;return u=$i.current,u!==null&&(u.flags|=32),Ui}function mi(u,h,m){(u===Xt&&(Ft===2||Ft===9)||u.cancelPendingCommit!==null)&&(Ld(u,0),Pl(u,wt,Ui,!1)),on(u,m),((Ot&2)===0||u!==Xt)&&(u===Xt&&((Ot&2)===0&&(Qc|=m),Pn===4&&Pl(u,wt,Ui,!1)),yo(u))}function RI(u,h,m){if((Ot&6)!==0)throw Error(r(327));var y=!m&&(h&127)===0&&(h&u.expiredLanes)===0||tn(u,h),A=y?fne(u,h):AE(u,h,!0),P=y;do{if(A===0){Dd&&!y&&Pl(u,h,0,!1);break}else{if(m=u.current.alternate,P&&!une(m)){A=AE(u,h,!1),P=!1;continue}if(A===2){if(P=h,u.errorRecoveryDisabledLanes&P)var I=0;else I=u.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){h=I;e:{var W=u;A=cp;var Q=W.current.memoizedState.isDehydrated;if(Q&&(Ld(W,I).flags|=256),I=AE(W,I,!1),I!==2){if(bE&&!Q){W.errorRecoveryDisabledLanes|=P,Qc|=P,A=4;break e}P=pi,pi=A,P!==null&&(pi===null?pi=P:pi.push.apply(pi,P))}A=I}if(P=!1,A!==2)continue}}if(A===1){Ld(u,0),Pl(u,h,0,!0);break}e:{switch(y=u,P=A,P){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Pl(y,h,Ui,!Al);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(A=yy+300-Ee(),10<A)){if(Pl(y,h,Ui,!Al),Xe(y,0,!0)!==0)break e;Sa=h,y.timeoutHandle=sj(kI.bind(null,y,m,pi,xy,wE,h,Ui,Qc,Id,Al,P,"Throttled",-0,0),A);break e}kI(y,m,pi,xy,wE,h,Ui,Qc,Id,Al,P,null,-0,0)}}break}while(!0);yo(u)}function kI(u,h,m,y,A,P,I,W,Q,ae,ge,ye,de,pe){if(u.timeoutHandle=-1,ye=h.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},wI(h,P,ye);var De=(P&62914560)===P?yy-Ee():(P&4194048)===P?CI-Ee():0;if(De=Kne(ye,De),De!==null){Sa=P,u.cancelPendingCommit=De(LI.bind(null,u,h,P,m,y,A,I,W,Q,ge,ye,null,de,pe)),Pl(u,P,I,!ae);return}}LI(u,h,P,m,y,A,I,W,Q)}function une(u){for(var h=u;;){var m=h.tag;if((m===0||m===11||m===15)&&h.flags&16384&&(m=h.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var A=m[y],P=A.getSnapshot;A=A.value;try{if(!zi(P(),A))return!1}catch{return!1}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Pl(u,h,m,y){h&=~xE,h&=~Qc,u.suspendedLanes|=h,u.pingedLanes&=~h,y&&(u.warmLanes|=h),y=u.expirationTimes;for(var A=h;0<A;){var P=31-xt(A),I=1<<P;y[P]=-1,A&=~I}m!==0&&ra(u,m,h)}function wy(){return(Ot&6)===0?(dp(0),!1):!0}function CE(){if(yt!==null){if(Ft===0)var u=yt.return;else u=yt,da=Uc=null,H1(u),Td=null,Gh=0,u=yt;for(;u!==null;)oI(u.alternate,u),u=u.return;yt=null}}function Ld(u,h){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,Pne(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),Sa=0,CE(),Xt=u,yt=m=ca(u.current,null),wt=h,Ft=0,Bi=null,Al=!1,Dd=tn(u,h),bE=!1,Id=Ui=xE=Qc=Tl=Pn=0,pi=cp=null,wE=!1,(h&8)!==0&&(h|=h&32);var y=u.entangledLanes;if(y!==0)for(u=u.entanglements,y&=h;0<y;){var A=31-xt(y),P=1<<A;h|=u[A],y&=~P}return wa=h,Bv(),m}function PI(u,h){at=null,j.H=tp,h===Ad||h===Xv?(h=W2(),Ft=3):h===k1?(h=W2(),Ft=4):Ft=h===rE?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Bi=h,yt===null&&(Pn=1,uy(u,as(h,u.current)))}function NI(){var u=$i.current;return u===null?!0:(wt&4194048)===wt?ds===null:(wt&62914560)===wt||(wt&536870912)!==0?u===ds:!1}function MI(){var u=j.H;return j.H=tp,u===null?tp:u}function OI(){var u=j.A;return j.A=lne,u}function Sy(){Pn=4,Al||(wt&4194048)!==wt&&$i.current!==null||(Dd=!0),(Tl&134217727)===0&&(Qc&134217727)===0||Xt===null||Pl(Xt,wt,Ui,!1)}function AE(u,h,m){var y=Ot;Ot|=2;var A=MI(),P=OI();(Xt!==u||wt!==h)&&(xy=null,Ld(u,h)),h=!1;var I=Pn;e:do try{if(Ft!==0&&yt!==null){var W=yt,Q=Bi;switch(Ft){case 8:CE(),I=6;break e;case 3:case 2:case 9:case 6:$i.current===null&&(h=!0);var ae=Ft;if(Ft=0,Bi=null,zd(u,W,Q,ae),m&&Dd){I=0;break e}break;default:ae=Ft,Ft=0,Bi=null,zd(u,W,Q,ae)}}dne(),I=Pn;break}catch(ge){PI(u,ge)}while(!0);return h&&u.shellSuspendCounter++,da=Uc=null,Ot=y,j.H=A,j.A=P,yt===null&&(Xt=null,wt=0,Bv()),I}function dne(){for(;yt!==null;)DI(yt)}function fne(u,h){var m=Ot;Ot|=2;var y=MI(),A=OI();Xt!==u||wt!==h?(xy=null,by=Ee()+500,Ld(u,h)):Dd=tn(u,h);e:do try{if(Ft!==0&&yt!==null){h=yt;var P=Bi;t:switch(Ft){case 1:Ft=0,Bi=null,zd(u,h,P,1);break;case 2:case 9:if(V2(P)){Ft=0,Bi=null,II(h);break}h=function(){Ft!==2&&Ft!==9||Xt!==u||(Ft=7),yo(u)},P.then(h,h);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:V2(P)?(Ft=0,Bi=null,II(h)):(Ft=0,Bi=null,zd(u,h,P,7));break;case 5:var I=null;switch(yt.tag){case 26:I=yt.memoizedState;case 5:case 27:var W=yt;if(I?xj(I):W.stateNode.complete){Ft=0,Bi=null;var Q=W.sibling;if(Q!==null)yt=Q;else{var ae=W.return;ae!==null?(yt=ae,Ey(ae)):yt=null}break t}}Ft=0,Bi=null,zd(u,h,P,5);break;case 6:Ft=0,Bi=null,zd(u,h,P,6);break;case 8:CE(),Pn=6;break e;default:throw Error(r(462))}}hne();break}catch(ge){PI(u,ge)}while(!0);return da=Uc=null,j.H=y,j.A=A,Ot=m,yt!==null?0:(Xt=null,wt=0,Bv(),Pn)}function hne(){for(;yt!==null&&!Bt();)DI(yt)}function DI(u){var h=iI(u.alternate,u,wa);u.memoizedProps=u.pendingProps,h===null?Ey(u):yt=h}function II(u){var h=u,m=h.alternate;switch(h.tag){case 15:case 0:h=QD(m,h,h.pendingProps,h.type,void 0,wt);break;case 11:h=QD(m,h,h.pendingProps,h.type.render,h.ref,wt);break;case 5:H1(h);default:oI(m,h),h=yt=O2(h,wa),h=iI(m,h,wa)}u.memoizedProps=u.pendingProps,h===null?Ey(u):yt=h}function zd(u,h,m,y){da=Uc=null,H1(h),Td=null,Gh=0;var A=h.return;try{if(tne(u,A,h,m,wt)){Pn=1,uy(u,as(m,u.current)),yt=null;return}}catch(P){if(A!==null)throw yt=A,P;Pn=1,uy(u,as(m,u.current)),yt=null;return}h.flags&32768?(Et||y===1?u=!0:Dd||(wt&536870912)!==0?u=!1:(Al=u=!0,(y===2||y===9||y===3||y===6)&&(y=$i.current,y!==null&&y.tag===13&&(y.flags|=16384))),jI(h,u)):Ey(h)}function Ey(u){var h=u;do{if((h.flags&32768)!==0){jI(h,Al);return}u=h.return;var m=ine(h.alternate,h,wa);if(m!==null){yt=m;return}if(h=h.sibling,h!==null){yt=h;return}yt=h=u}while(h!==null);Pn===0&&(Pn=5)}function jI(u,h){do{var m=sne(u.alternate,u);if(m!==null){m.flags&=32767,yt=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!h&&(u=u.sibling,u!==null)){yt=u;return}yt=u=m}while(u!==null);Pn=6,yt=null}function LI(u,h,m,y,A,P,I,W,Q){u.cancelPendingCommit=null;do _y();while(or!==0);if((Ot&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(P=h.lanes|h.childLanes,P|=p1,Lr(u,m,P,I,W,Q),u===Xt&&(yt=Xt=null,wt=0),jd=h,kl=u,Sa=m,SE=P,EE=A,AI=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,vne(Pe,function(){return BI(),null})):(u.callbackNode=null,u.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=j.T,j.T=null,A=H.p,H.p=2,I=Ot,Ot|=4;try{one(u,h,m)}finally{Ot=I,H.p=A,j.T=y}}or=1,zI(),FI(),$I()}}function zI(){if(or===1){or=0;var u=kl,h=jd,m=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||m){m=j.T,j.T=null;var y=H.p;H.p=2;var A=Ot;Ot|=4;try{yI(h,u);var P=zE,I=_2(u.containerInfo),W=P.focusedElem,Q=P.selectionRange;if(I!==W&&W&&W.ownerDocument&&E2(W.ownerDocument.documentElement,W)){if(Q!==null&&c1(W)){var ae=Q.start,ge=Q.end;if(ge===void 0&&(ge=ae),"selectionStart"in W)W.selectionStart=ae,W.selectionEnd=Math.min(ge,W.value.length);else{var ye=W.ownerDocument||document,de=ye&&ye.defaultView||window;if(de.getSelection){var pe=de.getSelection(),De=W.textContent.length,qe=Math.min(Q.start,De),Wt=Q.end===void 0?qe:Math.min(Q.end,De);!pe.extend&&qe>Wt&&(I=Wt,Wt=qe,qe=I);var re=S2(W,qe),te=S2(W,Wt);if(re&&te&&(pe.rangeCount!==1||pe.anchorNode!==re.node||pe.anchorOffset!==re.offset||pe.focusNode!==te.node||pe.focusOffset!==te.offset)){var oe=ye.createRange();oe.setStart(re.node,re.offset),pe.removeAllRanges(),qe>Wt?(pe.addRange(oe),pe.extend(te.node,te.offset)):(oe.setEnd(te.node,te.offset),pe.addRange(oe))}}}}for(ye=[],pe=W;pe=pe.parentNode;)pe.nodeType===1&&ye.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<ye.length;W++){var ve=ye[W];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}jy=!!LE,zE=LE=null}finally{Ot=A,H.p=y,j.T=m}}u.current=h,or=2}}function FI(){if(or===2){or=0;var u=kl,h=jd,m=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||m){m=j.T,j.T=null;var y=H.p;H.p=2;var A=Ot;Ot|=4;try{hI(u,h.alternate,h)}finally{Ot=A,H.p=y,j.T=m}}or=3}}function $I(){if(or===4||or===3){or=0,Sn();var u=kl,h=jd,m=Sa,y=AI;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?or=5:(or=0,jd=kl=null,HI(u,u.pendingLanes));var A=u.pendingLanes;if(A===0&&(Rl=null),Li(m),h=h.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(En,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=j.T,A=H.p,H.p=2,j.T=null;try{for(var P=u.onRecoverableError,I=0;I<y.length;I++){var W=y[I];P(W.value,{componentStack:W.stack})}}finally{j.T=h,H.p=A}}(Sa&3)!==0&&_y(),yo(u),A=u.pendingLanes,(m&261930)!==0&&(A&42)!==0?u===_E?up++:(up=0,_E=u):up=0,dp(0)}}function HI(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,qh(h)))}function _y(){return zI(),FI(),$I(),BI()}function BI(){if(or!==5)return!1;var u=kl,h=SE;SE=0;var m=Li(Sa),y=j.T,A=H.p;try{H.p=32>m?32:m,j.T=null,m=EE,EE=null;var P=kl,I=Sa;if(or=0,jd=kl=null,Sa=0,(Ot&6)!==0)throw Error(r(331));var W=Ot;if(Ot|=4,EI(P.current),xI(P,P.current,I,m),Ot=W,dp(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(En,P)}catch{}return!0}finally{H.p=A,j.T=y,HI(u,h)}}function UI(u,h,m){h=as(m,h),h=nE(u.stateNode,h,2),u=Sl(u,h,2),u!==null&&(on(u,2),yo(u))}function $t(u,h,m){if(u.tag===3)UI(u,u,m);else for(;h!==null;){if(h.tag===3){UI(h,u,m);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Rl===null||!Rl.has(y))){u=as(m,u),m=VD(2),y=Sl(h,m,2),y!==null&&(qD(m,y,h,u),on(y,2),yo(y));break}}h=h.return}}function TE(u,h,m){var y=u.pingCache;if(y===null){y=u.pingCache=new cne;var A=new Set;y.set(h,A)}else A=y.get(h),A===void 0&&(A=new Set,y.set(h,A));A.has(m)||(bE=!0,A.add(m),u=pne.bind(null,u,h,m),h.then(u,u))}function pne(u,h,m){var y=u.pingCache;y!==null&&y.delete(h),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,Xt===u&&(wt&m)===m&&(Pn===4||Pn===3&&(wt&62914560)===wt&&300>Ee()-yy?(Ot&2)===0&&Ld(u,0):xE|=m,Id===wt&&(Id=0)),yo(u)}function VI(u,h){h===0&&(h=vr()),u=$c(u,h),u!==null&&(on(u,h),yo(u))}function mne(u){var h=u.memoizedState,m=0;h!==null&&(m=h.retryLane),VI(u,m)}function gne(u,h){var m=0;switch(u.tag){case 31:case 13:var y=u.stateNode,A=u.memoizedState;A!==null&&(m=A.retryLane);break;case 19:y=u.stateNode;break;case 22:y=u.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(h),VI(u,m)}function vne(u,h){return mt(u,h)}var Cy=null,Fd=null,RE=!1,Ay=!1,kE=!1,Nl=0;function yo(u){u!==Fd&&u.next===null&&(Fd===null?Cy=Fd=u:Fd=Fd.next=u),Ay=!0,RE||(RE=!0,bne())}function dp(u,h){if(!kE&&Ay){kE=!0;do for(var m=!1,y=Cy;y!==null;){if(u!==0){var A=y.pendingLanes;if(A===0)var P=0;else{var I=y.suspendedLanes,W=y.pingedLanes;P=(1<<31-xt(42|u)+1)-1,P&=A&~(I&~W),P=P&201326741?P&201326741|1:P?P|2:0}P!==0&&(m=!0,KI(y,P))}else P=wt,P=Xe(y,y===Xt?P:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(P&3)===0||tn(y,P)||(m=!0,KI(y,P));y=y.next}while(m);kE=!1}}function yne(){qI()}function qI(){Ay=RE=!1;var u=0;Nl!==0&&kne()&&(u=Nl);for(var h=Ee(),m=null,y=Cy;y!==null;){var A=y.next,P=WI(y,h);P===0?(y.next=null,m===null?Cy=A:m.next=A,A===null&&(Fd=m)):(m=y,(u!==0||(P&3)!==0)&&(Ay=!0)),y=A}or!==0&&or!==5||dp(u),Nl!==0&&(Nl=0)}function WI(u,h){for(var m=u.suspendedLanes,y=u.pingedLanes,A=u.expirationTimes,P=u.pendingLanes&-62914561;0<P;){var I=31-xt(P),W=1<<I,Q=A[I];Q===-1?((W&m)===0||(W&y)!==0)&&(A[I]=$n(W,h)):Q<=h&&(u.expiredLanes|=W),P&=~W}if(h=Xt,m=wt,m=Xe(u,u===h?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),y=u.callbackNode,m===0||u===h&&(Ft===2||Ft===9)||u.cancelPendingCommit!==null)return y!==null&&y!==null&&ir(y),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||tn(u,m)){if(h=m&-m,h===u.callbackPriority)return h;switch(y!==null&&ir(y),Li(m)){case 2:case 8:m=be;break;case 32:m=Pe;break;case 268435456:m=Ge;break;default:m=Pe}return y=GI.bind(null,u),m=mt(m,y),u.callbackPriority=h,u.callbackNode=m,h}return y!==null&&y!==null&&ir(y),u.callbackPriority=2,u.callbackNode=null,2}function GI(u,h){if(or!==0&&or!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(_y()&&u.callbackNode!==m)return null;var y=wt;return y=Xe(u,u===Xt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),y===0?null:(RI(u,y,h),WI(u,Ee()),u.callbackNode!=null&&u.callbackNode===m?GI.bind(null,u):null)}function KI(u,h){if(_y())return null;RI(u,h,!0)}function bne(){Nne(function(){(Ot&6)!==0?mt(le,yne):qI()})}function PE(){if(Nl===0){var u=_d;u===0&&(u=al,al<<=1,(al&261888)===0&&(al=256)),Nl=u}return Nl}function YI(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Dv(""+u)}function XI(u,h){var m=h.ownerDocument.createElement("input");return m.name=h.name,m.value=h.value,u.id&&m.setAttribute("form",u.id),h.parentNode.insertBefore(m,h),u=new FormData(u),m.parentNode.removeChild(m),u}function xne(u,h,m,y,A){if(h==="submit"&&m&&m.stateNode===A){var P=YI((A[$r]||null).action),I=y.submitter;I&&(h=(h=I[$r]||null)?YI(h.formAction):I.getAttribute("formAction"),h!==null&&(P=h,I=null));var W=new zv("action","action",null,y,A);u.push({event:W,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Nl!==0){var Q=I?XI(A,I):new FormData(A);X1(m,{pending:!0,data:Q,method:A.method,action:P},null,Q)}}else typeof P=="function"&&(W.preventDefault(),Q=I?XI(A,I):new FormData(A),X1(m,{pending:!0,data:Q,method:A.method,action:P},P,Q))},currentTarget:A}]})}}for(var NE=0;NE<h1.length;NE++){var ME=h1[NE],wne=ME.toLowerCase(),Sne=ME[0].toUpperCase()+ME.slice(1);zs(wne,"on"+Sne)}zs(T2,"onAnimationEnd"),zs(R2,"onAnimationIteration"),zs(k2,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(zte,"onTransitionRun"),zs(Fte,"onTransitionStart"),zs($te,"onTransitionCancel"),zs(P2,"onTransitionEnd"),pl("onMouseEnter",["mouseout","mouseover"]),pl("onMouseLeave",["mouseout","mouseover"]),pl("onPointerEnter",["pointerout","pointerover"]),pl("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ene=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fp));function ZI(u,h){h=(h&4)!==0;for(var m=0;m<u.length;m++){var y=u[m],A=y.event;y=y.listeners;e:{var P=void 0;if(h)for(var I=y.length-1;0<=I;I--){var W=y[I],Q=W.instance,ae=W.currentTarget;if(W=W.listener,Q!==P&&A.isPropagationStopped())break e;P=W,A.currentTarget=ae;try{P(A)}catch(ge){Hv(ge)}A.currentTarget=null,P=Q}else for(I=0;I<y.length;I++){if(W=y[I],Q=W.instance,ae=W.currentTarget,W=W.listener,Q!==P&&A.isPropagationStopped())break e;P=W,A.currentTarget=ae;try{P(A)}catch(ge){Hv(ge)}A.currentTarget=null,P=Q}}}}function bt(u,h){var m=h[ld];m===void 0&&(m=h[ld]=new Set);var y=u+"__bubble";m.has(y)||(QI(h,u,2,!1),m.add(y))}function OE(u,h,m){var y=0;h&&(y|=4),QI(m,u,y,h)}var Ty="_reactListening"+Math.random().toString(36).slice(2);function DE(u){if(!u[Ty]){u[Ty]=!0,Rv.forEach(function(m){m!=="selectionchange"&&(Ene.has(m)||OE(m,!1,u),OE(m,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Ty]||(h[Ty]=!0,OE("selectionchange",!1,h))}}function QI(u,h,m,y){switch(Tj(h)){case 2:var A=Zne;break;case 8:A=Qne;break;default:A=YE}m=A.bind(null,h,m,u),A=void 0,!e1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(A=!0),y?A!==void 0?u.addEventListener(h,m,{capture:!0,passive:A}):u.addEventListener(h,m,!0):A!==void 0?u.addEventListener(h,m,{passive:A}):u.addEventListener(h,m,!1)}function IE(u,h,m,y,A){var P=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var I=y.tag;if(I===3||I===4){var W=y.stateNode.containerInfo;if(W===A)break;if(I===4)for(I=y.return;I!==null;){var Q=I.tag;if((Q===3||Q===4)&&I.stateNode.containerInfo===A)return;I=I.return}for(;W!==null;){if(I=ul(W),I===null)return;if(Q=I.tag,Q===5||Q===6||Q===26||Q===27){y=P=I;continue e}W=W.parentNode}}y=y.return}r2(function(){var ae=P,ge=QS(m),ye=[];e:{var de=N2.get(u);if(de!==void 0){var pe=zv,De=u;switch(u){case"keypress":if(jv(m)===0)break e;case"keydown":case"keyup":pe=gte;break;case"focusin":De="focus",pe=i1;break;case"focusout":De="blur",pe=i1;break;case"beforeblur":case"afterblur":pe=i1;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=o2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ite;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=bte;break;case T2:case R2:case k2:pe=ate;break;case P2:pe=wte;break;case"scroll":case"scrollend":pe=nte;break;case"wheel":pe=Ete;break;case"copy":case"cut":case"paste":pe=cte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=l2;break;case"toggle":case"beforetoggle":pe=Cte}var qe=(h&4)!==0,Wt=!qe&&(u==="scroll"||u==="scrollend"),re=qe?de!==null?de+"Capture":null:de;qe=[];for(var te=ae,oe;te!==null;){var ve=te;if(oe=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||oe===null||re===null||(ve=Dh(te,re),ve!=null&&qe.push(hp(te,ve,oe))),Wt)break;te=te.return}0<qe.length&&(de=new pe(de,De,null,m,ge),ye.push({event:de,listeners:qe}))}}if((h&7)===0){e:{if(de=u==="mouseover"||u==="pointerover",pe=u==="mouseout"||u==="pointerout",de&&m!==ZS&&(De=m.relatedTarget||m.fromElement)&&(ul(De)||De[ia]))break e;if((pe||de)&&(de=ge.window===ge?ge:(de=ge.ownerDocument)?de.defaultView||de.parentWindow:window,pe?(De=m.relatedTarget||m.toElement,pe=ae,De=De?ul(De):null,De!==null&&(Wt=s(De),qe=De.tag,De!==Wt||qe!==5&&qe!==27&&qe!==6)&&(De=null)):(pe=null,De=ae),pe!==De)){if(qe=o2,ve="onMouseLeave",re="onMouseEnter",te="mouse",(u==="pointerout"||u==="pointerover")&&(qe=l2,ve="onPointerLeave",re="onPointerEnter",te="pointer"),Wt=pe==null?de:fl(pe),oe=De==null?de:fl(De),de=new qe(ve,te+"leave",pe,m,ge),de.target=Wt,de.relatedTarget=oe,ve=null,ul(ge)===ae&&(qe=new qe(re,te+"enter",De,m,ge),qe.target=oe,qe.relatedTarget=Wt,ve=qe),Wt=ve,pe&&De)t:{for(qe=_ne,re=pe,te=De,oe=0,ve=re;ve;ve=qe(ve))oe++;ve=0;for(var Be=te;Be;Be=qe(Be))ve++;for(;0<oe-ve;)re=qe(re),oe--;for(;0<ve-oe;)te=qe(te),ve--;for(;oe--;){if(re===te||te!==null&&re===te.alternate){qe=re;break t}re=qe(re),te=qe(te)}qe=null}else qe=null;pe!==null&&JI(ye,de,pe,qe,!1),De!==null&&Wt!==null&&JI(ye,Wt,De,qe,!0)}}e:{if(de=ae?fl(ae):window,pe=de.nodeName&&de.nodeName.toLowerCase(),pe==="select"||pe==="input"&&de.type==="file")var kt=g2;else if(p2(de))if(v2)kt=Ite;else{kt=Ote;var ze=Mte}else pe=de.nodeName,!pe||pe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ae&&XS(ae.elementType)&&(kt=g2):kt=Dte;if(kt&&(kt=kt(u,ae))){m2(ye,kt,m,ge);break e}ze&&ze(u,de,ae),u==="focusout"&&ae&&de.type==="number"&&ae.memoizedProps.value!=null&&Oh(de,"number",de.value)}switch(ze=ae?fl(ae):window,u){case"focusin":(p2(ze)||ze.contentEditable==="true")&&(gd=ze,u1=ae,Bh=null);break;case"focusout":Bh=u1=gd=null;break;case"mousedown":d1=!0;break;case"contextmenu":case"mouseup":case"dragend":d1=!1,C2(ye,m,ge);break;case"selectionchange":if(Lte)break;case"keydown":case"keyup":C2(ye,m,ge)}var ut;if(o1)e:{switch(u){case"compositionstart":var St="onCompositionStart";break e;case"compositionend":St="onCompositionEnd";break e;case"compositionupdate":St="onCompositionUpdate";break e}St=void 0}else md?f2(u,m)&&(St="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(St="onCompositionStart");St&&(c2&&m.locale!=="ko"&&(md||St!=="onCompositionStart"?St==="onCompositionEnd"&&md&&(ut=i2()):(ml=ge,t1="value"in ml?ml.value:ml.textContent,md=!0)),ze=Ry(ae,St),0<ze.length&&(St=new a2(St,u,null,m,ge),ye.push({event:St,listeners:ze}),ut?St.data=ut:(ut=h2(m),ut!==null&&(St.data=ut)))),(ut=Tte?Rte(u,m):kte(u,m))&&(St=Ry(ae,"onBeforeInput"),0<St.length&&(ze=new a2("onBeforeInput","beforeinput",null,m,ge),ye.push({event:ze,listeners:St}),ze.data=ut)),xne(ye,u,ae,m,ge)}ZI(ye,h)})}function hp(u,h,m){return{instance:u,listener:h,currentTarget:m}}function Ry(u,h){for(var m=h+"Capture",y=[];u!==null;){var A=u,P=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||P===null||(A=Dh(u,m),A!=null&&y.unshift(hp(u,A,P)),A=Dh(u,h),A!=null&&y.push(hp(u,A,P))),u.tag===3)return y;u=u.return}return[]}function _ne(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function JI(u,h,m,y,A){for(var P=h._reactName,I=[];m!==null&&m!==y;){var W=m,Q=W.alternate,ae=W.stateNode;if(W=W.tag,Q!==null&&Q===y)break;W!==5&&W!==26&&W!==27||ae===null||(Q=ae,A?(ae=Dh(m,P),ae!=null&&I.unshift(hp(m,ae,Q))):A||(ae=Dh(m,P),ae!=null&&I.push(hp(m,ae,Q)))),m=m.return}I.length!==0&&u.push({event:h,listeners:I})}var Cne=/\r\n?/g,Ane=/\u0000|\uFFFD/g;function ej(u){return(typeof u=="string"?u:""+u).replace(Cne,`
`).replace(Ane,"")}function tj(u,h){return h=ej(h),ej(u)===h}function qt(u,h,m,y,A,P){switch(m){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||fd(u,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&fd(u,""+y);break;case"className":ud(u,"class",y);break;case"tabIndex":ud(u,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ud(u,m,y);break;case"style":t2(u,y,P);break;case"data":if(h!=="object"){ud(u,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||m!=="href")){u.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){u.removeAttribute(m);break}y=Dv(""+y),u.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(m==="formAction"?(h!=="input"&&qt(u,h,"name",A.name,A,null),qt(u,h,"formEncType",A.formEncType,A,null),qt(u,h,"formMethod",A.formMethod,A,null),qt(u,h,"formTarget",A.formTarget,A,null)):(qt(u,h,"encType",A.encType,A,null),qt(u,h,"method",A.method,A,null),qt(u,h,"target",A.target,A,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){u.removeAttribute(m);break}y=Dv(""+y),u.setAttribute(m,y);break;case"onClick":y!=null&&(u.onclick=aa);break;case"onScroll":y!=null&&bt("scroll",u);break;case"onScrollEnd":y!=null&&bt("scrollend",u);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(A.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":u.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){u.removeAttribute("xlink:href");break}m=Dv(""+y),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,""+y):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":y===!0?u.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?u.setAttribute(m,y):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?u.setAttribute(m,y):u.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?u.removeAttribute(m):u.setAttribute(m,y);break;case"popover":bt("beforetoggle",u),bt("toggle",u),cd(u,"popover",y);break;case"xlinkActuate":Ls(u,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ls(u,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ls(u,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ls(u,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ls(u,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ls(u,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ls(u,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ls(u,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ls(u,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":cd(u,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ete.get(m)||m,cd(u,m,y))}}function jE(u,h,m,y,A,P){switch(m){case"style":t2(u,y,P);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(A.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof y=="string"?fd(u,y):(typeof y=="number"||typeof y=="bigint")&&fd(u,""+y);break;case"onScroll":y!=null&&bt("scroll",u);break;case"onScrollEnd":y!=null&&bt("scrollend",u);break;case"onClick":y!=null&&(u.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kv.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),h=m.slice(2,A?m.length-7:void 0),P=u[$r]||null,P=P!=null?P[m]:null,typeof P=="function"&&u.removeEventListener(h,P,A),typeof y=="function")){typeof P!="function"&&P!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(h,y,A);break e}m in u?u[m]=y:y===!0?u.setAttribute(m,""):cd(u,m,y)}}}function kr(u,h,m){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",u),bt("load",u);var y=!1,A=!1,P;for(P in m)if(m.hasOwnProperty(P)){var I=m[P];if(I!=null)switch(P){case"src":y=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:qt(u,h,P,I,m,null)}}A&&qt(u,h,"srcSet",m.srcSet,m,null),y&&qt(u,h,"src",m.src,m,null);return;case"input":bt("invalid",u);var W=P=I=A=null,Q=null,ae=null;for(y in m)if(m.hasOwnProperty(y)){var ge=m[y];if(ge!=null)switch(y){case"name":A=ge;break;case"type":I=ge;break;case"checked":Q=ge;break;case"defaultChecked":ae=ge;break;case"value":P=ge;break;case"defaultValue":W=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,h));break;default:qt(u,h,y,ge,m,null)}}Ov(u,P,W,Q,ae,I,A,!1);return;case"select":bt("invalid",u),y=I=P=null;for(A in m)if(m.hasOwnProperty(A)&&(W=m[A],W!=null))switch(A){case"value":P=W;break;case"defaultValue":I=W;break;case"multiple":y=W;default:qt(u,h,A,W,m,null)}h=P,m=I,u.multiple=!!y,h!=null?oa(u,!!y,h,!1):m!=null&&oa(u,!!y,m,!0);return;case"textarea":bt("invalid",u),P=A=y=null;for(I in m)if(m.hasOwnProperty(I)&&(W=m[I],W!=null))switch(I){case"value":y=W;break;case"defaultValue":A=W;break;case"children":P=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:qt(u,h,I,W,m,null)}JO(u,y,A,P);return;case"option":for(Q in m)if(m.hasOwnProperty(Q)&&(y=m[Q],y!=null))switch(Q){case"selected":u.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:qt(u,h,Q,y,m,null)}return;case"dialog":bt("beforetoggle",u),bt("toggle",u),bt("cancel",u),bt("close",u);break;case"iframe":case"object":bt("load",u);break;case"video":case"audio":for(y=0;y<fp.length;y++)bt(fp[y],u);break;case"image":bt("error",u),bt("load",u);break;case"details":bt("toggle",u);break;case"embed":case"source":case"link":bt("error",u),bt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in m)if(m.hasOwnProperty(ae)&&(y=m[ae],y!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:qt(u,h,ae,y,m,null)}return;default:if(XS(h)){for(ge in m)m.hasOwnProperty(ge)&&(y=m[ge],y!==void 0&&jE(u,h,ge,y,m,void 0));return}}for(W in m)m.hasOwnProperty(W)&&(y=m[W],y!=null&&qt(u,h,W,y,m,null))}function Tne(u,h,m,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,P=null,I=null,W=null,Q=null,ae=null,ge=null;for(pe in m){var ye=m[pe];if(m.hasOwnProperty(pe)&&ye!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":Q=ye;default:y.hasOwnProperty(pe)||qt(u,h,pe,null,y,ye)}}for(var de in y){var pe=y[de];if(ye=m[de],y.hasOwnProperty(de)&&(pe!=null||ye!=null))switch(de){case"type":P=pe;break;case"name":A=pe;break;case"checked":ae=pe;break;case"defaultChecked":ge=pe;break;case"value":I=pe;break;case"defaultValue":W=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,h));break;default:pe!==ye&&qt(u,h,de,pe,y,ye)}}jc(u,I,W,Q,ae,ge,P,A);return;case"select":pe=I=W=de=null;for(P in m)if(Q=m[P],m.hasOwnProperty(P)&&Q!=null)switch(P){case"value":break;case"multiple":pe=Q;default:y.hasOwnProperty(P)||qt(u,h,P,null,y,Q)}for(A in y)if(P=y[A],Q=m[A],y.hasOwnProperty(A)&&(P!=null||Q!=null))switch(A){case"value":de=P;break;case"defaultValue":W=P;break;case"multiple":I=P;default:P!==Q&&qt(u,h,A,P,y,Q)}h=W,m=I,y=pe,de!=null?oa(u,!!m,de,!1):!!y!=!!m&&(h!=null?oa(u,!!m,h,!0):oa(u,!!m,m?[]:"",!1));return;case"textarea":pe=de=null;for(W in m)if(A=m[W],m.hasOwnProperty(W)&&A!=null&&!y.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:qt(u,h,W,null,y,A)}for(I in y)if(A=y[I],P=m[I],y.hasOwnProperty(I)&&(A!=null||P!=null))switch(I){case"value":de=A;break;case"defaultValue":pe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==P&&qt(u,h,I,A,y,P)}QO(u,de,pe);return;case"option":for(var De in m)if(de=m[De],m.hasOwnProperty(De)&&de!=null&&!y.hasOwnProperty(De))switch(De){case"selected":u.selected=!1;break;default:qt(u,h,De,null,y,de)}for(Q in y)if(de=y[Q],pe=m[Q],y.hasOwnProperty(Q)&&de!==pe&&(de!=null||pe!=null))switch(Q){case"selected":u.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:qt(u,h,Q,de,y,pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in m)de=m[qe],m.hasOwnProperty(qe)&&de!=null&&!y.hasOwnProperty(qe)&&qt(u,h,qe,null,y,de);for(ae in y)if(de=y[ae],pe=m[ae],y.hasOwnProperty(ae)&&de!==pe&&(de!=null||pe!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,h));break;default:qt(u,h,ae,de,y,pe)}return;default:if(XS(h)){for(var Wt in m)de=m[Wt],m.hasOwnProperty(Wt)&&de!==void 0&&!y.hasOwnProperty(Wt)&&jE(u,h,Wt,void 0,y,de);for(ge in y)de=y[ge],pe=m[ge],!y.hasOwnProperty(ge)||de===pe||de===void 0&&pe===void 0||jE(u,h,ge,de,y,pe);return}}for(var re in m)de=m[re],m.hasOwnProperty(re)&&de!=null&&!y.hasOwnProperty(re)&&qt(u,h,re,null,y,de);for(ye in y)de=y[ye],pe=m[ye],!y.hasOwnProperty(ye)||de===pe||de==null&&pe==null||qt(u,h,ye,de,y,pe)}function nj(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rne(){if(typeof performance.getEntriesByType=="function"){for(var u=0,h=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var A=m[y],P=A.transferSize,I=A.initiatorType,W=A.duration;if(P&&W&&nj(I)){for(I=0,W=A.responseEnd,y+=1;y<m.length;y++){var Q=m[y],ae=Q.startTime;if(ae>W)break;var ge=Q.transferSize,ye=Q.initiatorType;ge&&nj(ye)&&(Q=Q.responseEnd,I+=ge*(Q<W?1:(W-ae)/(Q-ae)))}if(--y,h+=8*(P+I)/(A.duration/1e3),u++,10<u)break}}if(0<u)return h/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var LE=null,zE=null;function ky(u){return u.nodeType===9?u:u.ownerDocument}function rj(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ij(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function FE(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var $E=null;function kne(){var u=window.event;return u&&u.type==="popstate"?u===$E?!1:($E=u,!0):($E=null,!1)}var sj=typeof setTimeout=="function"?setTimeout:void 0,Pne=typeof clearTimeout=="function"?clearTimeout:void 0,oj=typeof Promise=="function"?Promise:void 0,Nne=typeof queueMicrotask=="function"?queueMicrotask:typeof oj<"u"?function(u){return oj.resolve(null).then(u).catch(Mne)}:sj;function Mne(u){setTimeout(function(){throw u})}function Ml(u){return u==="head"}function aj(u,h){var m=h,y=0;do{var A=m.nextSibling;if(u.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(y===0){u.removeChild(A),Ud(h);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")pp(u.ownerDocument.documentElement);else if(m==="head"){m=u.ownerDocument.head,pp(m);for(var P=m.firstChild;P;){var I=P.nextSibling,W=P.nodeName;P[Dc]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=I}}else m==="body"&&pp(u.ownerDocument.body);m=A}while(m);Ud(h)}function lj(u,h){var m=u;u=0;do{var y=m.nextSibling;if(m.nodeType===1?h?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(h?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(u===0)break;u--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||u++;m=y}while(m)}function HE(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var m=h;switch(h=h.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":HE(m),Nh(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function One(u,h,m,y){for(;u.nodeType===1;){var A=m;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(y){if(!u[Dc])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(P=u.getAttribute("rel"),P==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(P!==A.rel||u.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||u.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||u.getAttribute("title")!==(A.title==null?null:A.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(P=u.getAttribute("src"),(P!==(A.src==null?null:A.src)||u.getAttribute("type")!==(A.type==null?null:A.type)||u.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&P&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var P=A.name==null?null:""+A.name;if(A.type==="hidden"&&u.getAttribute("name")===P)return u}else return u;if(u=fs(u.nextSibling),u===null)break}return null}function Dne(u,h,m){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=fs(u.nextSibling),u===null))return null;return u}function cj(u,h){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!h||(u=fs(u.nextSibling),u===null))return null;return u}function BE(u){return u.data==="$?"||u.data==="$~"}function UE(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function Ine(u,h){var m=u.ownerDocument;if(u.data==="$~")u._reactRetry=h;else if(u.data!=="$?"||m.readyState!=="loading")h();else{var y=function(){h(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),u._reactRetry=y}}function fs(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return u}var VE=null;function uj(u){u=u.nextSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"||m==="/&"){if(h===0)return fs(u.nextSibling);h--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||h++}u=u.nextSibling}return null}function dj(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(h===0)return u;h--}else m!=="/$"&&m!=="/&"||h++}u=u.previousSibling}return null}function fj(u,h,m){switch(h=ky(m),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function pp(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);Nh(u)}var hs=new Map,hj=new Set;function Py(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Ea=H.d;H.d={f:jne,r:Lne,D:zne,C:Fne,L:$ne,m:Hne,X:Une,S:Bne,M:Vne};function jne(){var u=Ea.f(),h=wy();return u||h}function Lne(u){var h=dl(u);h!==null&&h.tag===5&&h.type==="form"?PD(h):Ea.r(u)}var $d=typeof document>"u"?null:document;function pj(u,h,m){var y=$d;if(y&&typeof h=="string"&&h){var A=ci(h);A='link[rel="'+u+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),hj.has(A)||(hj.add(A),u={rel:u,crossOrigin:m,href:h},y.querySelector(A)===null&&(h=y.createElement("link"),kr(h,"link",u),Hn(h),y.head.appendChild(h)))}}function zne(u){Ea.D(u),pj("dns-prefetch",u,null)}function Fne(u,h){Ea.C(u,h),pj("preconnect",u,h)}function $ne(u,h,m){Ea.L(u,h,m);var y=$d;if(y&&u&&h){var A='link[rel="preload"][as="'+ci(h)+'"]';h==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+ci(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+ci(m.imageSizes)+'"]')):A+='[href="'+ci(u)+'"]';var P=A;switch(h){case"style":P=Hd(u);break;case"script":P=Bd(u)}hs.has(P)||(u=f({rel:"preload",href:h==="image"&&m&&m.imageSrcSet?void 0:u,as:h},m),hs.set(P,u),y.querySelector(A)!==null||h==="style"&&y.querySelector(mp(P))||h==="script"&&y.querySelector(gp(P))||(h=y.createElement("link"),kr(h,"link",u),Hn(h),y.head.appendChild(h)))}}function Hne(u,h){Ea.m(u,h);var m=$d;if(m&&u){var y=h&&typeof h.as=="string"?h.as:"script",A='link[rel="modulepreload"][as="'+ci(y)+'"][href="'+ci(u)+'"]',P=A;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Bd(u)}if(!hs.has(P)&&(u=f({rel:"modulepreload",href:u},h),hs.set(P,u),m.querySelector(A)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(gp(P)))return}y=m.createElement("link"),kr(y,"link",u),Hn(y),m.head.appendChild(y)}}}function Bne(u,h,m){Ea.S(u,h,m);var y=$d;if(y&&u){var A=hl(y).hoistableStyles,P=Hd(u);h=h||"default";var I=A.get(P);if(!I){var W={loading:0,preload:null};if(I=y.querySelector(mp(P)))W.loading=5;else{u=f({rel:"stylesheet",href:u,"data-precedence":h},m),(m=hs.get(P))&&qE(u,m);var Q=I=y.createElement("link");Hn(Q),kr(Q,"link",u),Q._p=new Promise(function(ae,ge){Q.onload=ae,Q.onerror=ge}),Q.addEventListener("load",function(){W.loading|=1}),Q.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Ny(I,h,y)}I={type:"stylesheet",instance:I,count:1,state:W},A.set(P,I)}}}function Une(u,h){Ea.X(u,h);var m=$d;if(m&&u){var y=hl(m).hoistableScripts,A=Bd(u),P=y.get(A);P||(P=m.querySelector(gp(A)),P||(u=f({src:u,async:!0},h),(h=hs.get(A))&&WE(u,h),P=m.createElement("script"),Hn(P),kr(P,"link",u),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(A,P))}}function Vne(u,h){Ea.M(u,h);var m=$d;if(m&&u){var y=hl(m).hoistableScripts,A=Bd(u),P=y.get(A);P||(P=m.querySelector(gp(A)),P||(u=f({src:u,async:!0,type:"module"},h),(h=hs.get(A))&&WE(u,h),P=m.createElement("script"),Hn(P),kr(P,"link",u),m.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},y.set(A,P))}}function mj(u,h,m,y){var A=(A=ue.current)?Py(A):null;if(!A)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(h=Hd(m.href),m=hl(A).hoistableStyles,y=m.get(h),y||(y={type:"style",instance:null,count:0,state:null},m.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=Hd(m.href);var P=hl(A).hoistableStyles,I=P.get(u);if(I||(A=A.ownerDocument||A,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(u,I),(P=A.querySelector(mp(u)))&&!P._p&&(I.instance=P,I.state.loading=5),hs.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},hs.set(u,m),P||qne(A,u,m,I.state))),h&&y===null)throw Error(r(528,""));return I}if(h&&y!==null)throw Error(r(529,""));return null;case"script":return h=m.async,m=m.src,typeof m=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Bd(m),m=hl(A).hoistableScripts,y=m.get(h),y||(y={type:"script",instance:null,count:0,state:null},m.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Hd(u){return'href="'+ci(u)+'"'}function mp(u){return'link[rel="stylesheet"]['+u+"]"}function gj(u){return f({},u,{"data-precedence":u.precedence,precedence:null})}function qne(u,h,m,y){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=u.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),kr(h,"link",m),Hn(h),u.head.appendChild(h))}function Bd(u){return'[src="'+ci(u)+'"]'}function gp(u){return"script[async]"+u}function vj(u,h,m){if(h.count++,h.instance===null)switch(h.type){case"style":var y=u.querySelector('style[data-href~="'+ci(m.href)+'"]');if(y)return h.instance=y,Hn(y),y;var A=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(u.ownerDocument||u).createElement("style"),Hn(y),kr(y,"style",A),Ny(y,m.precedence,u),h.instance=y;case"stylesheet":A=Hd(m.href);var P=u.querySelector(mp(A));if(P)return h.state.loading|=4,h.instance=P,Hn(P),P;y=gj(m),(A=hs.get(A))&&qE(y,A),P=(u.ownerDocument||u).createElement("link"),Hn(P);var I=P;return I._p=new Promise(function(W,Q){I.onload=W,I.onerror=Q}),kr(P,"link",y),h.state.loading|=4,Ny(P,m.precedence,u),h.instance=P;case"script":return P=Bd(m.src),(A=u.querySelector(gp(P)))?(h.instance=A,Hn(A),A):(y=m,(A=hs.get(P))&&(y=f({},m),WE(y,A)),u=u.ownerDocument||u,A=u.createElement("script"),Hn(A),kr(A,"link",y),u.head.appendChild(A),h.instance=A);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,Ny(y,m.precedence,u));return h.instance}function Ny(u,h,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=y.length?y[y.length-1]:null,P=A,I=0;I<y.length;I++){var W=y[I];if(W.dataset.precedence===h)P=W;else if(P!==A)break}P?P.parentNode.insertBefore(u,P.nextSibling):(h=m.nodeType===9?m.head:m,h.insertBefore(u,h.firstChild))}function qE(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function WE(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var My=null;function yj(u,h,m){if(My===null){var y=new Map,A=My=new Map;A.set(m,y)}else A=My,y=A.get(m),y||(y=new Map,A.set(m,y));if(y.has(u))return y;for(y.set(u,null),m=m.getElementsByTagName(u),A=0;A<m.length;A++){var P=m[A];if(!(P[Dc]||P[sr]||u==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var I=P.getAttribute(h)||"";I=u+I;var W=y.get(I);W?W.push(P):y.set(I,[P])}}return y}function bj(u,h,m){u=u.ownerDocument||u,u.head.insertBefore(m,h==="title"?u.querySelector("head > title"):null)}function Wne(u,h,m){if(m===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function xj(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Gne(u,h,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=Hd(y.href),P=h.querySelector(mp(A));if(P){h=P._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(u.count++,u=Oy.bind(u),h.then(u,u)),m.state.loading|=4,m.instance=P,Hn(P);return}P=h.ownerDocument||h,y=gj(y),(A=hs.get(A))&&qE(y,A),P=P.createElement("link"),Hn(P);var I=P;I._p=new Promise(function(W,Q){I.onload=W,I.onerror=Q}),kr(P,"link",y),m.instance=P}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(m,h),(h=m.state.preload)&&(m.state.loading&3)===0&&(u.count++,m=Oy.bind(u),h.addEventListener("load",m),h.addEventListener("error",m))}}var GE=0;function Kne(u,h){return u.stylesheets&&u.count===0&&Iy(u,u.stylesheets),0<u.count||0<u.imgCount?function(m){var y=setTimeout(function(){if(u.stylesheets&&Iy(u,u.stylesheets),u.unsuspend){var P=u.unsuspend;u.unsuspend=null,P()}},6e4+h);0<u.imgBytes&&GE===0&&(GE=62500*Rne());var A=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Iy(u,u.stylesheets),u.unsuspend)){var P=u.unsuspend;u.unsuspend=null,P()}},(u.imgBytes>GE?50:800)+h);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(y),clearTimeout(A)}}:null}function Oy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Dy=null;function Iy(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Dy=new Map,h.forEach(Yne,u),Dy=null,Oy.call(u))}function Yne(u,h){if(!(h.state.loading&4)){var m=Dy.get(u);if(m)var y=m.get(null);else{m=new Map,Dy.set(u,m);for(var A=u.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<A.length;P++){var I=A[P];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(m.set(I.dataset.precedence,I),y=I)}y&&m.set(null,y)}A=h.instance,I=A.getAttribute("data-precedence"),P=m.get(I)||y,P===y&&m.set(null,A),m.set(I,A),this.count++,y=Oy.bind(this),A.addEventListener("load",y),A.addEventListener("error",y),P?P.parentNode.insertBefore(A,P.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(A,u.firstChild)),h.state.loading|=4}}var vp={$$typeof:_,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Xne(u,h,m,y,A,P,I,W,Q){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=y,this.onUncaughtError=A,this.onCaughtError=P,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function wj(u,h,m,y,A,P,I,W,Q,ae,ge,ye){return u=new Xne(u,h,m,I,Q,ae,ge,ye,W),h=1,P===!0&&(h|=24),P=Fi(3,null,null,h),u.current=P,P.stateNode=u,h=A1(),h.refCount++,u.pooledCache=h,h.refCount++,P.memoizedState={element:y,isDehydrated:m,cache:h},P1(P),u}function Sj(u){return u?(u=bd,u):bd}function Ej(u,h,m,y,A,P){A=Sj(A),y.context===null?y.context=A:y.pendingContext=A,y=wl(h),y.payload={element:m},P=P===void 0?null:P,P!==null&&(y.callback=P),m=Sl(u,y,h),m!==null&&(mi(m,u,h),Yh(m,u,h))}function _j(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<h?m:h}}function KE(u,h){_j(u,h),(u=u.alternate)&&_j(u,h)}function Cj(u){if(u.tag===13||u.tag===31){var h=$c(u,67108864);h!==null&&mi(h,u,67108864),KE(u,67108864)}}function Aj(u){if(u.tag===13||u.tag===31){var h=Vi();h=cl(h);var m=$c(u,h);m!==null&&mi(m,u,h),KE(u,h)}}var jy=!0;function Zne(u,h,m,y){var A=j.T;j.T=null;var P=H.p;try{H.p=2,YE(u,h,m,y)}finally{H.p=P,j.T=A}}function Qne(u,h,m,y){var A=j.T;j.T=null;var P=H.p;try{H.p=8,YE(u,h,m,y)}finally{H.p=P,j.T=A}}function YE(u,h,m,y){if(jy){var A=XE(y);if(A===null)IE(u,h,y,Ly,m),Rj(u,y);else if(ere(A,u,h,m,y))y.stopPropagation();else if(Rj(u,y),h&4&&-1<Jne.indexOf(u)){for(;A!==null;){var P=dl(A);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var I=ss(P.pendingLanes);if(I!==0){var W=P;for(W.pendingLanes|=2,W.entangledLanes|=2;I;){var Q=1<<31-xt(I);W.entanglements[1]|=Q,I&=~Q}yo(P),(Ot&6)===0&&(by=Ee()+500,dp(0))}}break;case 31:case 13:W=$c(P,2),W!==null&&mi(W,P,2),wy(),KE(P,2)}if(P=XE(y),P===null&&IE(u,h,y,Ly,m),P===A)break;A=P}A!==null&&y.stopPropagation()}else IE(u,h,y,null,m)}}function XE(u){return u=QS(u),ZE(u)}var Ly=null;function ZE(u){if(Ly=null,u=ul(u),u!==null){var h=s(u);if(h===null)u=null;else{var m=h.tag;if(m===13){if(u=o(h),u!==null)return u;u=null}else if(m===31){if(u=a(h),u!==null)return u;u=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return Ly=u,null}function Tj(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case le:return 2;case be:return 8;case Pe:case Ve:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var QE=!1,Ol=null,Dl=null,Il=null,yp=new Map,bp=new Map,jl=[],Jne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rj(u,h){switch(u){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Dl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":yp.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(h.pointerId)}}function xp(u,h,m,y,A,P){return u===null||u.nativeEvent!==P?(u={blockedOn:h,domEventName:m,eventSystemFlags:y,nativeEvent:P,targetContainers:[A]},h!==null&&(h=dl(h),h!==null&&Cj(h)),u):(u.eventSystemFlags|=y,h=u.targetContainers,A!==null&&h.indexOf(A)===-1&&h.push(A),u)}function ere(u,h,m,y,A){switch(h){case"focusin":return Ol=xp(Ol,u,h,m,y,A),!0;case"dragenter":return Dl=xp(Dl,u,h,m,y,A),!0;case"mouseover":return Il=xp(Il,u,h,m,y,A),!0;case"pointerover":var P=A.pointerId;return yp.set(P,xp(yp.get(P)||null,u,h,m,y,A)),!0;case"gotpointercapture":return P=A.pointerId,bp.set(P,xp(bp.get(P)||null,u,h,m,y,A)),!0}return!1}function kj(u){var h=ul(u.target);if(h!==null){var m=s(h);if(m!==null){if(h=m.tag,h===13){if(h=o(m),h!==null){u.blockedOn=h,Cv(u.priority,function(){Aj(m)});return}}else if(h===31){if(h=a(m),h!==null){u.blockedOn=h,Cv(u.priority,function(){Aj(m)});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function zy(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var m=XE(u.nativeEvent);if(m===null){m=u.nativeEvent;var y=new m.constructor(m.type,m);ZS=y,m.target.dispatchEvent(y),ZS=null}else return h=dl(m),h!==null&&Cj(h),u.blockedOn=m,!1;h.shift()}return!0}function Pj(u,h,m){zy(u)&&m.delete(h)}function tre(){QE=!1,Ol!==null&&zy(Ol)&&(Ol=null),Dl!==null&&zy(Dl)&&(Dl=null),Il!==null&&zy(Il)&&(Il=null),yp.forEach(Pj),bp.forEach(Pj)}function Fy(u,h){u.blockedOn===h&&(u.blockedOn=null,QE||(QE=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tre)))}var $y=null;function Nj(u){$y!==u&&($y=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$y===u&&($y=null);for(var h=0;h<u.length;h+=3){var m=u[h],y=u[h+1],A=u[h+2];if(typeof y!="function"){if(ZE(y||m)===null)continue;break}var P=dl(m);P!==null&&(u.splice(h,3),h-=3,X1(P,{pending:!0,data:A,method:m.method,action:y},y,A))}}))}function Ud(u){function h(Q){return Fy(Q,u)}Ol!==null&&Fy(Ol,u),Dl!==null&&Fy(Dl,u),Il!==null&&Fy(Il,u),yp.forEach(h),bp.forEach(h);for(var m=0;m<jl.length;m++){var y=jl[m];y.blockedOn===u&&(y.blockedOn=null)}for(;0<jl.length&&(m=jl[0],m.blockedOn===null);)kj(m),m.blockedOn===null&&jl.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var A=m[y],P=m[y+1],I=A[$r]||null;if(typeof P=="function")I||Nj(m);else if(I){var W=null;if(P&&P.hasAttribute("formAction")){if(A=P,I=P[$r]||null)W=I.formAction;else if(ZE(A)!==null)continue}else W=I.action;typeof W=="function"?m[y+1]=W:(m.splice(y,3),y-=3),Nj(m)}}}function Mj(){function u(P){P.canIntercept&&P.info==="react-transition"&&P.intercept({handler:function(){return new Promise(function(I){return A=I})},focusReset:"manual",scroll:"manual"})}function h(){A!==null&&(A(),A=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var P=navigation.currentEntry;P&&P.url!=null&&navigation.navigate(P.url,{state:P.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,A=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),A!==null&&(A(),A=null)}}}function JE(u){this._internalRoot=u}Hy.prototype.render=JE.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var m=h.current,y=Vi();Ej(m,y,u,h,null,null)},Hy.prototype.unmount=JE.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Ej(u.current,2,null,u,null,null),wy(),h[ia]=null}};function Hy(u){this._internalRoot=u}Hy.prototype.unstable_scheduleHydration=function(u){if(u){var h=Ph();u={blockedOn:null,target:u,priority:h};for(var m=0;m<jl.length&&h!==0&&h<jl[m].priority;m++);jl.splice(m,0,u),m===0&&kj(u)}};var Oj=t.version;if(Oj!=="19.2.3")throw Error(r(527,Oj,"19.2.3"));H.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(h),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var nre={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var By=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!By.isDisabled&&By.supportsFiber)try{En=By.inject(nre),Ut=By}catch{}}return Sp.createRoot=function(u,h){if(!i(u))throw Error(r(299));var m=!1,y="",A=$D,P=HD,I=BD;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),h=wj(u,1,!1,null,null,m,y,null,A,P,I,Mj),u[ia]=h.current,DE(u),new JE(h)},Sp.hydrateRoot=function(u,h,m){if(!i(u))throw Error(r(299));var y=!1,A="",P=$D,I=HD,W=BD,Q=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(I=m.onCaughtError),m.onRecoverableError!==void 0&&(W=m.onRecoverableError),m.formState!==void 0&&(Q=m.formState)),h=wj(u,1,!0,h,m??null,y,A,Q,P,I,W,Mj),h.context=Sj(null),m=h.current,y=Vi(),y=cl(y),A=wl(y),A.callback=null,Sl(m,A,y),m=y,h.current.lanes=m,on(h,m),yo(h),u[ia]=h.current,DE(u),new Hy(h)},Sp.version="19.2.3",Sp}var Uj;function hre(){if(Uj)return n_.exports;Uj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),n_.exports=fre(),n_.exports}var dU=hre();var Vj="popstate";function pre(e={}){function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return zA("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vm(i)}return gre(t,n,null,e)}function bn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ks(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mre(){return Math.random().toString(36).substring(2,10)}function qj(e,t){return{usr:e.state,key:e.key,idx:t}}function zA(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?th(t):t,state:n,key:t&&t.key||r||mre()}}function vm({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function th(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function gre(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let w=d(),S=w==null?null:w-c;c=w,l&&l({action:a,location:b.location,delta:S})}function p(w,S){a="PUSH";let C=zA(b.location,w,S);c=d()+1;let _=qj(C,c),k=b.createHref(C);try{o.pushState(_,"",k)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(k)}s&&l&&l({action:a,location:b.location,delta:1})}function g(w,S){a="REPLACE";let C=zA(b.location,w,S);c=d();let _=qj(C,c),k=b.createHref(C);o.replaceState(_,"",k),s&&l&&l({action:a,location:b.location,delta:0})}function v(w){return vre(w)}let b={get action(){return a},get location(){return e(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vj,f),l=w,()=>{i.removeEventListener(Vj,f),l=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let S=v(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:g,go(w){return o.go(w)}};return b}function vre(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:vm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function fU(e,t,n="/"){return yre(e,t,n,!1)}function yre(e,t,n,r){let i=typeof t=="string"?th(t):t,s=$a(i.pathname||"/",n);if(s==null)return null;let o=hU(e);bre(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Pre(s);a=Rre(o[l],c,r)}return a}function hU(e,t=[],n=[],r="",i=!1){let s=(o,a,l=i,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;bn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=ja([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(bn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),hU(o.children,t,p,f,l)),!(o.path==null&&!o.index)&&t.push({path:f,score:Are(f,o.index),routesMeta:p})};return e.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of pU(o.path))s(o,a,!0,l)}),t}function pU(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pU(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function bre(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tre(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xre=/^:[\w-]+$/,wre=3,Sre=2,Ere=1,_re=10,Cre=-2,Wj=e=>e==="*";function Are(e,t){let n=e.split("/"),r=n.length;return n.some(Wj)&&(r+=Cre),t&&(r+=Sre),n.filter(i=>!Wj(i)).reduce((i,s)=>i+(xre.test(s)?wre:s===""?Ere:_re),r)}function Tre(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Rre(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=bb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=bb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ja([s,f.pathname]),pathnameBase:Ire(ja([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ja([s,f.pathnameBase]))}return o}function bb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kre(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[p];return f&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function kre(e,t=!1,n=!0){ks(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Pre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ks(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $a(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Nre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mre=e=>Nre.test(e);function Ore(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?th(e):e,s;if(n)if(Mre(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ks(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=Gj(n.substring(1),"/"):s=Gj(n,t)}else s=t;return{pathname:s,search:jre(r),hash:Lre(i)}}function Gj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o_(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _k(e){let t=Dre(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ck(e,t,n,r=!1){let i;typeof e=="string"?i=th(e):(i={...e},bn(!i.pathname||!i.pathname.includes("?"),o_("?","pathname","search",i)),bn(!i.pathname||!i.pathname.includes("#"),o_("#","pathname","hash",i)),bn(!i.search||!i.search.includes("#"),o_("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?t[f]:"/"}let l=Ore(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var ja=e=>e.join("/").replace(/\/\/+/g,"/"),Ire=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Fre(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mU=["POST","PUT","PATCH","DELETE"];new Set(mU);var $re=["GET",...mU];new Set($re);var nh=x.createContext(null);nh.displayName="DataRouter";var Wx=x.createContext(null);Wx.displayName="DataRouterState";x.createContext(!1);var gU=x.createContext({isTransitioning:!1});gU.displayName="ViewTransition";var Hre=x.createContext(new Map);Hre.displayName="Fetchers";var Bre=x.createContext(null);Bre.displayName="Await";var Os=x.createContext(null);Os.displayName="Navigation";var pg=x.createContext(null);pg.displayName="Location";var ao=x.createContext({outlet:null,matches:[],isDataRoute:!1});ao.displayName="Route";var Ak=x.createContext(null);Ak.displayName="RouteError";function Ure(e,{relative:t}={}){bn(rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Os),{hash:i,pathname:s,search:o}=mg(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:ja([n,s])),r.createHref({pathname:a,search:o,hash:i})}function rh(){return x.useContext(pg)!=null}function tl(){return bn(rh(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(pg).location}var vU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yU(e){x.useContext(Os).static||x.useLayoutEffect(e)}function Gx(){let{isDataRoute:e}=x.useContext(ao);return e?iie():Vre()}function Vre(){bn(rh(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(nh),{basename:t,navigator:n}=x.useContext(Os),{matches:r}=x.useContext(ao),{pathname:i}=tl(),s=JSON.stringify(_k(r)),o=x.useRef(!1);return yU(()=>{o.current=!0}),x.useCallback((l,c={})=>{if(ks(o.current,vU),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=Ck(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ja([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,i,e])}var qre=x.createContext(null);function Wre(e){let t=x.useContext(ao).outlet;return x.useMemo(()=>t&&x.createElement(qre.Provider,{value:e},t),[t,e])}function mg(e,{relative:t}={}){let{matches:n}=x.useContext(ao),{pathname:r}=tl(),i=JSON.stringify(_k(n));return x.useMemo(()=>Ck(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function Gre(e,t){return bU(e,t)}function bU(e,t,n,r,i){bn(rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(Os),{matches:o}=x.useContext(ao),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let C=f&&f.path||"";xU(c,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=tl(),g;if(t){let C=typeof t=="string"?th(t):t;bn(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),g=C}else g=p;let v=g.pathname||"/",b=v;if(d!=="/"){let C=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=fU(e,{pathname:b});ks(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ks(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Qre(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:ja([d,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:ja([d,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,i);return t&&S?x.createElement(pg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function Kre(){let e=rie(),t=zre(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,o)}var Yre=x.createElement(Kre,null),Xre=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(ao.Provider,{value:this.props.routeContext},x.createElement(Ak.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zre({routeContext:e,match:t,children:n}){let r=x.useContext(nh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ao.Provider,{value:e},n)}function Qre(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n?.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);bn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,l=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=d),f.route.id){let{loaderData:p,errors:g}=n,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=n&&r?(d,f)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Fre(n.matches),errorInfo:f})}:void 0;return s.reduceRight((d,f,p)=>{let g,v=!1,b=null,w=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||Yre,a&&(l<0&&p===0?(xU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):l===p&&(v=!0,w=f.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,p+1)),C=()=>{let _;return g?_=b:v?_=w:f.route.Component?_=x.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,x.createElement(Zre,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(Xre,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:c}):C()},null)}function Tk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jre(e){let t=x.useContext(nh);return bn(t,Tk(e)),t}function eie(e){let t=x.useContext(Wx);return bn(t,Tk(e)),t}function tie(e){let t=x.useContext(ao);return bn(t,Tk(e)),t}function Rk(e){let t=tie(e),n=t.matches[t.matches.length-1];return bn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nie(){return Rk("useRouteId")}function rie(){let e=x.useContext(Ak),t=eie("useRouteError"),n=Rk("useRouteError");return e!==void 0?e:t.errors?.[n]}function iie(){let{router:e}=Jre("useNavigate"),t=Rk("useNavigate"),n=x.useRef(!1);return yU(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{ks(n.current,vU),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Kj={};function xU(e,t,n){!t&&!Kj[e]&&(Kj[e]=!0,ks(!1,n))}x.memo(sie);function sie({routes:e,future:t,state:n,unstable_onError:r}){return bU(e,void 0,n,r,t)}function FA({to:e,replace:t,state:n,relative:r}){bn(rh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Os);ks(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(ao),{pathname:o}=tl(),a=Gx(),l=Ck(e,_k(s),o,r==="path"),c=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function oie(e){return Wre(e.context)}function _o(e){bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aie({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){bn(!rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=th(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:g="default"}=n,v=x.useMemo(()=>{let b=$a(c,a);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:g},navigationType:r}},[a,c,d,f,p,g,r]);return ks(v!=null,`<Router basename="${a}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(Os.Provider,{value:l},x.createElement(pg.Provider,{children:t,value:v}))}function lie({children:e,location:t}){return Gre($A(e),t)}function $A(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let s=[...t,i];if(r.type===x.Fragment){n.push.apply(n,$A(r.props.children,s));return}bn(r.type===_o,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$A(r.props.children,s)),n.push(o)}),n}var q0="get",W0="application/x-www-form-urlencoded";function Kx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function cie(e){return Kx(e)&&e.tagName.toLowerCase()==="button"}function uie(e){return Kx(e)&&e.tagName.toLowerCase()==="form"}function die(e){return Kx(e)&&e.tagName.toLowerCase()==="input"}function fie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hie(e,t){return e.button===0&&(!t||t==="_self")&&!fie(e)}var Uy=null;function pie(){if(Uy===null)try{new FormData(document.createElement("form"),0),Uy=!1}catch{Uy=!0}return Uy}var mie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function a_(e){return e!=null&&!mie.has(e)?(ks(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${W0}"`),null):e}function gie(e,t){let n,r,i,s,o;if(uie(e)){let a=e.getAttribute("action");r=a?$a(a,t):null,n=e.getAttribute("method")||q0,i=a_(e.getAttribute("enctype"))||W0,s=new FormData(e)}else if(cie(e)||die(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?$a(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||q0,i=a_(e.getAttribute("formenctype"))||a_(a.getAttribute("enctype"))||W0,s=new FormData(a,e),!pie()){let{name:c,type:d,value:f}=e;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(Kx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=q0,r=null,i=W0,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vie(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&$a(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yie(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bie(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function xie(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await yie(s,n);return o.links?o.links():[]}return[]}));return _ie(r.flat(1).filter(bie).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Yj(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function wie(e,t,{includeHydrateFallback:n}={}){return Sie(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Sie(e){return[...new Set(e)]}function Eie(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function _ie(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Eie(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function wU(){let e=x.useContext(nh);return kk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Cie(){let e=x.useContext(Wx);return kk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pk=x.createContext(void 0);Pk.displayName="FrameworkContext";function SU(){let e=x.useContext(Pk);return kk(e,"You must render this element inside a <HydratedRouter> element"),e}function Aie(e,t){let n=x.useContext(Pk),[r,i]=x.useState(!1),[s,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let b=S=>{S.forEach(C=>{o(C.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(r){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Ep(a,g),onBlur:Ep(l,v),onMouseEnter:Ep(c,g),onMouseLeave:Ep(d,v),onTouchStart:Ep(f,g)}]:[!1,p,{}]}function Ep(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Tie({page:e,...t}){let{router:n}=wU(),r=x.useMemo(()=>fU(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(kie,{page:e,matches:r,...t}):null}function Rie(e){let{manifest:t,routeModules:n}=SU(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return xie(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function kie({page:e,matches:t,...n}){let r=tl(),{manifest:i,routeModules:s}=SU(),{basename:o}=wU(),{loaderData:a,matches:l}=Cie(),c=x.useMemo(()=>Yj(e,t,l,i,r,"data"),[e,t,l,i,r]),d=x.useMemo(()=>Yj(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,b=!1;if(t.forEach(S=>{let C=i.routes[S.route.id];!C||!C.hasLoader||(!c.some(_=>_.route.id===S.route.id)&&S.route.id in a&&s[S.route.id]?.shouldRevalidate||C.hasClientLoader?b=!0:v.add(S.route.id))}),v.size===0)return[];let w=vie(e,o,"data");return b&&v.size>0&&w.searchParams.set("_routes",t.filter(S=>v.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[o,a,r,i,c,t,e,s]),p=x.useMemo(()=>wie(d,i),[d,i]),g=Rie(d);return x.createElement(x.Fragment,null,f.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:b})=>x.createElement("link",{key:v,nonce:n.nonce,...b})))}function Pie(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var EU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EU&&(window.__reactRouterVersion="7.10.1")}catch{}function Nie({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current==null&&(i.current=pre({window:r,v5Compat:!0}));let s=i.current,[o,a]=x.useState({action:s.action,location:s.location}),l=x.useCallback(c=>{n===!1?a(c):x.startTransition(()=>a(c))},[n]);return x.useLayoutEffect(()=>s.listen(l),[s,l]),x.createElement(aie,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n===!0})}var _U=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gl=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},g){let{basename:v,unstable_useTransitions:b}=x.useContext(Os),w=typeof c=="string"&&_U.test(c),S,C=!1;if(typeof c=="string"&&w&&(S=c,EU))try{let L=new URL(window.location.href),D=c.startsWith("//")?new URL(L.protocol+c):new URL(c),F=$a(D.pathname,v);D.origin===L.origin&&F!=null?c=F+D.search+D.hash:C=!0}catch{ks(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Ure(c,{relative:i}),[k,R,N]=Aie(r,p),T=Iie(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f,unstable_useTransitions:b});function M(L){t&&t(L),L.defaultPrevented||T(L)}let O=x.createElement("a",{...p,...N,href:S||_,onClick:C||s?t:M,ref:Pie(g,R),target:l,"data-discover":!w&&n==="render"?"true":void 0});return k&&!w?x.createElement(x.Fragment,null,O,x.createElement(Tie,{page:_})):O});Gl.displayName="Link";var Mie=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},d){let f=mg(o,{relative:c.relative}),p=tl(),g=x.useContext(Wx),{navigator:v,basename:b}=x.useContext(Os),w=g!=null&&$ie(f)&&a===!0,S=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,C=p.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(C=C.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&b&&(_=$a(_,b)||_);const k=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let R=C===S||!i&&C.startsWith(S)&&C.charAt(k)==="/",N=_!=null&&(_===S||!i&&_.startsWith(S)&&_.charAt(S.length)==="/"),T={isActive:R,isPending:N,isTransitioning:w},M=R?t:void 0,O;typeof r=="function"?O=r(T):O=[r,R?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(T):s;return x.createElement(Gl,{...c,"aria-current":M,className:O,ref:d,style:L,to:o,viewTransition:a},typeof l=="function"?l(T):l)});Mie.displayName="NavLink";var Oie=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=q0,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},g)=>{let{unstable_useTransitions:v}=x.useContext(Os),b=zie(),w=Fie(a,{relative:c}),S=o.toLowerCase()==="get"?"get":"post",C=typeof a=="string"&&_U.test(a),_=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,N=R?.getAttribute("formmethod")||o,T=()=>b(R||k.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f});v&&n!==!1?x.startTransition(()=>T()):T()};return x.createElement("form",{ref:g,method:S,action:w,onSubmit:r?l:_,...p,"data-discover":!C&&e==="render"?"true":void 0})});Oie.displayName="Form";function Die(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CU(e){let t=x.useContext(nh);return bn(t,Die(e)),t}function Iie(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_useTransitions:a}={}){let l=Gx(),c=tl(),d=mg(e,{relative:s});return x.useCallback(f=>{if(hie(f,t)){f.preventDefault();let p=n!==void 0?n:vm(c)===vm(d),g=()=>l(e,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o});a?x.startTransition(()=>g()):g()}},[c,l,d,n,r,t,e,i,s,o,a])}var jie=0,Lie=()=>`__${String(++jie)}__`;function zie(){let{router:e}=CU("useSubmit"),{basename:t}=x.useContext(Os),n=nie(),r=e.fetch,i=e.navigate;return x.useCallback(async(s,o={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=gie(s,t);if(o.navigate===!1){let p=o.fetcherKey||Lie();await r(p,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}function Fie(e,{relative:t}={}){let{basename:n}=x.useContext(Os),r=x.useContext(ao);bn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...mg(e||".",{relative:t})},o=tl();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ja([n,s.pathname])),vm(s)}function $ie(e,{relative:t}={}){let n=x.useContext(gU);bn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=CU("useViewTransitionState"),i=mg(e,{relative:t});if(!n.isTransitioning)return!1;let s=$a(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=$a(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bb(i.pathname,o)!=null||bb(i.pathname,s)!=null}var nl=qx();const Nk=Di(nl);class Vp extends Error{}Vp.prototype.name="InvalidTokenError";function Hie(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Bie(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Hie(t)}catch{return atob(t)}}function Uie(e,t){if(typeof e!="string")throw new Vp("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new Vp(`Invalid token specified: missing part #${n+1}`);let i;try{i=Bie(r)}catch(s){throw new Vp(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new Vp(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}var Vie={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},Ao,To,xb=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))(xb||{});(e=>{function t(){Ao=3,To=Vie}e.reset=t;function n(i){if(!(0<=i&&i<=4))throw new Error("Invalid log level");Ao=i}e.setLevel=n;function r(i){To=i}e.setLogger=r})(xb||(xb={}));var Ct=class Co{constructor(t){this._name=t}debug(...t){Ao>=4&&To.debug(Co._format(this._name,this._method),...t)}info(...t){Ao>=3&&To.info(Co._format(this._name,this._method),...t)}warn(...t){Ao>=2&&To.warn(Co._format(this._name,this._method),...t)}error(...t){Ao>=1&&To.error(Co._format(this._name,this._method),...t)}throw(t){throw this.error(t),t}create(t){const n=Object.create(this);return n._method=t,n.debug("begin"),n}static createStatic(t,n){const r=new Co(`${t}.${n}`);return r.debug("begin"),r}static _format(t,n){const r=`[${t}]`;return n?`${r} ${n}:`:r}static debug(t,...n){Ao>=4&&To.debug(Co._format(t),...n)}static info(t,...n){Ao>=3&&To.info(Co._format(t),...n)}static warn(t,...n){Ao>=2&&To.warn(Co._format(t),...n)}static error(t,...n){Ao>=1&&To.error(Co._format(t),...n)}};xb.reset();var ym=class{static decode(e){try{return Uie(e)}catch(t){throw Ct.error("JwtUtils.decode",t),t}}static async generateSignedJwt(e,t,n){const r=Qn.encodeBase64Url(new TextEncoder().encode(JSON.stringify(e))),i=Qn.encodeBase64Url(new TextEncoder().encode(JSON.stringify(t))),s=`${r}.${i}`,o=await window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,new TextEncoder().encode(s)),a=Qn.encodeBase64Url(new Uint8Array(o));return`${s}.${a}`}static async generateSignedJwtWithHmac(e,t,n){const r=Qn.encodeBase64Url(new TextEncoder().encode(JSON.stringify(e))),i=Qn.encodeBase64Url(new TextEncoder().encode(JSON.stringify(t))),s=`${r}.${i}`,o=await window.crypto.subtle.sign("HMAC",n,new TextEncoder().encode(s)),a=Qn.encodeBase64Url(new Uint8Array(o));return`${s}.${a}`}},qie="10000000-1000-4000-8000-100000000000",HA=e=>btoa([...new Uint8Array(e)].map(t=>String.fromCharCode(t)).join("")),AU=class Bs{static _randomWord(){const t=new Uint32Array(1);return crypto.getRandomValues(t),t[0]}static generateUUIDv4(){return qie.replace(/[018]/g,n=>(+n^Bs._randomWord()&15>>+n/4).toString(16)).replace(/-/g,"")}static generateCodeVerifier(){return Bs.generateUUIDv4()+Bs.generateUUIDv4()+Bs.generateUUIDv4()}static async generateCodeChallenge(t){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{const r=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",r);return HA(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(n){throw Ct.error("CryptoUtils.generateCodeChallenge",n),n}}static generateBasicAuth(t,n){const i=new TextEncoder().encode([t,n].join(":"));return HA(i)}static async hash(t,n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest(t,r);return new Uint8Array(i)}static async customCalculateJwkThumbprint(t){let n;switch(t.kty){case"RSA":n={e:t.e,kty:t.kty,n:t.n};break;case"EC":n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":n={crv:t.crv,kty:t.kty,x:t.x};break;case"oct":n={crv:t.k,kty:t.kty};break;default:throw new Error("Unknown jwk type")}const r=await Bs.hash("SHA-256",JSON.stringify(n));return Bs.encodeBase64Url(r)}static async generateDPoPProof({url:t,accessToken:n,httpMethod:r,keyPair:i,nonce:s}){let o,a;const l={jti:window.crypto.randomUUID(),htm:r??"GET",htu:t,iat:Math.floor(Date.now()/1e3)};n&&(o=await Bs.hash("SHA-256",n),a=Bs.encodeBase64Url(o),l.ath=a),s&&(l.nonce=s);try{const c=await crypto.subtle.exportKey("jwk",i.publicKey),d={alg:"ES256",typ:"dpop+jwt",jwk:{crv:c.crv,kty:c.kty,x:c.x,y:c.y}};return await ym.generateSignedJwt(d,l,i.privateKey)}catch(c){throw c instanceof TypeError?new Error(`Error exporting dpop public key: ${c.message}`):c}}static async generateDPoPJkt(t){try{const n=await crypto.subtle.exportKey("jwk",t.publicKey);return await Bs.customCalculateJwkThumbprint(n)}catch(n){throw n instanceof TypeError?new Error(`Could not retrieve dpop keys from storage: ${n.message}`):n}}static async generateDPoPKeys(){return await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"])}static async generateClientAssertionJwt(t,n,r,i="HS256"){const s=Math.floor(Date.now()/1e3),o={alg:i,typ:"JWT"},a={iss:t,sub:t,aud:r,jti:Bs.generateUUIDv4(),exp:s+300,iat:s},c={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[i];if(!c)throw new Error(`Unsupported algorithm: ${i}. Supported algorithms are: HS256, HS384, HS512`);const d=new TextEncoder,f=await crypto.subtle.importKey("raw",d.encode(n),{name:"HMAC",hash:c},!1,["sign"]);return await ym.generateSignedJwtWithHmac(o,a,f)}};AU.encodeBase64Url=e=>HA(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var Qn=AU,Kl=class{constructor(t){this._name=t,this._callbacks=[],this._logger=new Ct(`Event('${this._name}')`)}addHandler(t){return this._callbacks.push(t),()=>this.removeHandler(t)}removeHandler(t){const n=this._callbacks.lastIndexOf(t);n>=0&&this._callbacks.splice(n,1)}async raise(...t){this._logger.debug("raise:",...t);for(const n of this._callbacks)await n(...t)}},Xj=class{static center({...e}){var t,n,r;return e.width==null&&(e.width=(t=[800,720,600,480].find(i=>i<=window.outerWidth/1.618))!=null?t:360),(n=e.left)!=null||(e.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-e.width)/2))),e.height!=null&&((r=e.top)!=null||(e.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-e.height)/2)))),e}static serialize(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}=${typeof n!="boolean"?n:n?"yes":"no"}`).join(",")}},Ha=class G0 extends Kl{constructor(){super(...arguments),this._logger=new Ct(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const t=this._expiration-G0.getEpochTime();this._logger.debug("timer completes in",t),this._expiration<=G0.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(t){const n=this._logger.create("init");t=Math.max(Math.floor(t),1);const r=G0.getEpochTime()+t;if(this.expiration===r&&this._timerHandle){n.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),n.debug("using duration",t),this._expiration=r;const i=Math.min(t,5);this._timerHandle=setInterval(this._callback,i*1e3)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},BA=class{static readParams(e,t="query"){if(!e)throw new TypeError("Invalid URL");const r=new URL(e,"http://127.0.0.1")[t==="fragment"?"hash":"search"];return new URLSearchParams(r.slice(1))}},kf=";",Eu=class extends Error{constructor(e,t){var n,r,i;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw Ct.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=(n=e.error_description)!=null?n:null,this.error_uri=(r=e.error_uri)!=null?r:null,this.state=e.userState,this.session_state=(i=e.session_state)!=null?i:null,this.url_state=e.url_state}},Mk=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},Wie=class{constructor(e){this._logger=new Ct("AccessTokenEvents"),this._expiringTimer=new Ha("Access token expiring"),this._expiredTimer=new Ha("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}async load(e){const t=this._logger.create("load");if(e.access_token&&e.expires_in!==void 0){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let i=n-this._expiringNotificationTimeInSeconds;i<=0&&(i=1),t.debug("registering expiring timer, raising in",i,"seconds"),this._expiringTimer.init(i)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=n+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}async unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},Gie=class{constructor(e,t,n,r,i){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=i,this._logger=new Ct("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=o=>{o.origin===this._frame_origin&&o.source===this._frame.contentWindow&&(o.data==="error"?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):o.data==="changed"?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(o.data+" message from check session op iframe"))};const s=new URL(n);this._frame_origin=s.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=s.href}load(){return new Promise(e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{!this._frame.contentWindow||!this._session_state||this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,this._intervalInSeconds*1e3)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},TU=class{constructor(){this._logger=new Ct("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},UA=class extends Error{constructor(e,t){super(t),this.name="ErrorDPoPNonce",this.nonce=e}},Ok=class{constructor(e=[],t=null,n={}){this._jwtHandler=t,this._extraHeaders=n,this._logger=new Ct("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e,t={}){const{timeoutInSeconds:n,...r}=t;if(!n)return await fetch(e,r);const i=new AbortController,s=setTimeout(()=>i.abort(),n*1e3);try{return await fetch(e,{...t,signal:i.signal})}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?new Mk("Network timed out"):o}finally{clearTimeout(s)}}async getJson(e,{token:t,credentials:n,timeoutInSeconds:r}={}){const i=this._logger.create("getJson"),s={Accept:this._contentTypes.join(", ")};t&&(i.debug("token passed, setting Authorization header"),s.Authorization="Bearer "+t),this._appendExtraHeaders(s);let o;try{i.debug("url:",e),o=await this.fetchWithTimeout(e,{method:"GET",headers:s,timeoutInSeconds:r,credentials:n})}catch(c){throw i.error("Network Error"),c}i.debug("HTTP response received, status",o.status);const a=o.headers.get("Content-Type");if(a&&!this._contentTypes.find(c=>a.startsWith(c))&&i.throw(new Error(`Invalid response Content-Type: ${a??"undefined"}, from URL: ${e}`)),o.ok&&this._jwtHandler&&a?.startsWith("application/jwt"))return await this._jwtHandler(await o.text());let l;try{l=await o.json()}catch(c){throw i.error("Error parsing JSON response",c),o.ok?c:new Error(`${o.statusText} (${o.status})`)}if(!o.ok)throw i.error("Error from server:",l),l.error?new Eu(l):new Error(`${o.statusText} (${o.status}): ${JSON.stringify(l)}`);return l}async postForm(e,{body:t,basicAuth:n,timeoutInSeconds:r,initCredentials:i,extraHeaders:s}){const o=this._logger.create("postForm"),a={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded",...s};n!==void 0&&(a.Authorization="Basic "+n),this._appendExtraHeaders(a);let l;try{o.debug("url:",e),l=await this.fetchWithTimeout(e,{method:"POST",headers:a,body:t,timeoutInSeconds:r,credentials:i})}catch(p){throw o.error("Network error"),p}o.debug("HTTP response received, status",l.status);const c=l.headers.get("Content-Type");if(c&&!this._contentTypes.find(p=>c.startsWith(p)))throw new Error(`Invalid response Content-Type: ${c??"undefined"}, from URL: ${e}`);const d=await l.text();let f={};if(d)try{f=JSON.parse(d)}catch(p){throw o.error("Error parsing JSON response",p),l.ok?p:new Error(`${l.statusText} (${l.status})`)}if(!l.ok){if(o.error("Error from server:",f),l.headers.has("dpop-nonce")){const p=l.headers.get("dpop-nonce");throw new UA(p,`${JSON.stringify(f)}`)}throw f.error?new Eu(f,t):new Error(`${l.statusText} (${l.status}): ${JSON.stringify(f)}`)}return f}_appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),r=["accept","content-type"],i=["authorization"];n.length!==0&&n.forEach(s=>{if(r.includes(s.toLocaleLowerCase())){t.warn("Protected header could not be set",s,r);return}if(i.includes(s.toLocaleLowerCase())&&Object.keys(e).includes(s)){t.warn("Header could not be overridden",s,i);return}const o=typeof this._extraHeaders[s]=="function"?this._extraHeaders[s]():this._extraHeaders[s];o&&o!==""&&(e[s]=o)})}},Kie=class{constructor(e){this._settings=e,this._logger=new Ct("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new Ok(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},t,this._settings.metadataSeed),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(e=!0){return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(e=!0){return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(e=!0){return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e,t=!1){const n=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(n.debug("resolved"),r[e]===void 0){if(t===!0){n.warn("Metadata does not contain optional property");return}n.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t,{timeoutInSeconds:this._settings.requestTimeoutInSeconds});if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},RU=class{constructor({prefix:e="oidc.",store:t=localStorage}={}){this._logger=new Ct("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){return this._logger.create(`get('${e}')`),e=this._prefix+e,await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const r=await this._store.key(n);r&&r.indexOf(this._prefix)===0&&t.push(r.substr(this._prefix.length))}return t}},Yie="code",Xie="openid",Zie="client_secret_post",Qie=900,VA=class{constructor({authority:e,metadataUrl:t,metadata:n,signingKeys:r,metadataSeed:i,client_id:s,client_secret:o,response_type:a=Yie,scope:l=Xie,redirect_uri:c,post_logout_redirect_uri:d,client_authentication:f=Zie,token_endpoint_auth_signing_alg:p="HS256",prompt:g,display:v,max_age:b,ui_locales:w,acr_values:S,resource:C,response_mode:_,filterProtocolClaims:k=!0,loadUserInfo:R=!1,requestTimeoutInSeconds:N,staleStateAgeInSeconds:T=Qie,mergeClaimsStrategy:M={array:"replace"},disablePKCE:O=!1,stateStore:L,revokeTokenAdditionalContentTypes:D,fetchRequestCredentials:F,refreshTokenAllowedScope:G,extraQueryParams:z={},extraTokenParams:V={},extraHeaders:j={},dpop:H,omitScopeWhenRequesting:B=!1}){var K;if(this.authority=e,t?this.metadataUrl=t:(this.metadataUrl=e,e&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=n,this.metadataSeed=i,this.signingKeys=r,this.client_id=s,this.client_secret=o,this.response_type=a,this.scope=l,this.redirect_uri=c,this.post_logout_redirect_uri=d,this.client_authentication=f,this.token_endpoint_auth_signing_alg=p,this.prompt=g,this.display=v,this.max_age=b,this.ui_locales=w,this.acr_values=S,this.resource=C,this.response_mode=_,this.filterProtocolClaims=k??!0,this.loadUserInfo=!!R,this.staleStateAgeInSeconds=T,this.mergeClaimsStrategy=M,this.omitScopeWhenRequesting=B,this.disablePKCE=!!O,this.revokeTokenAdditionalContentTypes=D,this.fetchRequestCredentials=F||"same-origin",this.requestTimeoutInSeconds=N,L)this.stateStore=L;else{const U=typeof window<"u"?window.localStorage:new TU;this.stateStore=new RU({store:U})}if(this.refreshTokenAllowedScope=G,this.extraQueryParams=z,this.extraTokenParams=V,this.extraHeaders=j,this.dpop=H,this.dpop&&!((K=this.dpop)!=null&&K.store))throw new Error("A DPoPStore is required when dpop is enabled")}},Jie=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Ct("UserInfoService"),this._getClaimsFromJwt=async n=>{const r=this._logger.create("_getClaimsFromJwt");try{const i=ym.decode(n);return r.debug("JWT decoding successful"),i}catch(i){throw r.error("Error parsing JWT response"),i}},this._jsonService=new Ok(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const r=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return t.debug("got claims",r),r}},kU=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Ct("TokenClient"),this._jsonService=new Ok(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:e="authorization_code",redirect_uri:t=this._settings.redirect_uri,client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,extraHeaders:i,...s}){const o=this._logger.create("exchangeCode");n||o.throw(new Error("A client_id is required")),t||o.throw(new Error("A redirect_uri is required")),s.code||o.throw(new Error("A code is required"));const a=new URLSearchParams({grant_type:e,redirect_uri:t});for(const[f,p]of Object.entries(s))p!=null&&a.set(f,p);if((this._settings.client_authentication==="client_secret_basic"||this._settings.client_authentication==="client_secret_jwt")&&r==null)throw o.throw(new Error("A client_secret is required")),null;let l;const c=await this._metadataService.getTokenEndpoint(!1);switch(this._settings.client_authentication){case"client_secret_basic":l=Qn.generateBasicAuth(n,r);break;case"client_secret_post":a.append("client_id",n),r&&a.append("client_secret",r);break;case"client_secret_jwt":{const f=await Qn.generateClientAssertionJwt(n,r,c,this._settings.token_endpoint_auth_signing_alg);a.append("client_id",n),a.append("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.append("client_assertion",f);break}}o.debug("got token endpoint");const d=await this._jsonService.postForm(c,{body:a,basicAuth:l,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:i});return o.debug("got response"),d}async exchangeCredentials({grant_type:e="password",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,scope:r=this._settings.scope,...i}){const s=this._logger.create("exchangeCredentials");t||s.throw(new Error("A client_id is required"));const o=new URLSearchParams({grant_type:e});this._settings.omitScopeWhenRequesting||o.set("scope",r);for(const[d,f]of Object.entries(i))f!=null&&o.set(d,f);if((this._settings.client_authentication==="client_secret_basic"||this._settings.client_authentication==="client_secret_jwt")&&n==null)throw s.throw(new Error("A client_secret is required")),null;let a;const l=await this._metadataService.getTokenEndpoint(!1);switch(this._settings.client_authentication){case"client_secret_basic":a=Qn.generateBasicAuth(t,n);break;case"client_secret_post":o.append("client_id",t),n&&o.append("client_secret",n);break;case"client_secret_jwt":{const d=await Qn.generateClientAssertionJwt(t,n,l,this._settings.token_endpoint_auth_signing_alg);o.append("client_id",t),o.append("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),o.append("client_assertion",d);break}}s.debug("got token endpoint");const c=await this._jsonService.postForm(l,{body:o,basicAuth:a,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials});return s.debug("got response"),c}async exchangeRefreshToken({grant_type:e="refresh_token",client_id:t=this._settings.client_id,client_secret:n=this._settings.client_secret,timeoutInSeconds:r,extraHeaders:i,...s}){const o=this._logger.create("exchangeRefreshToken");t||o.throw(new Error("A client_id is required")),s.refresh_token||o.throw(new Error("A refresh_token is required"));const a=new URLSearchParams({grant_type:e});for(const[f,p]of Object.entries(s))Array.isArray(p)?p.forEach(g=>a.append(f,g)):p!=null&&a.set(f,p);if((this._settings.client_authentication==="client_secret_basic"||this._settings.client_authentication==="client_secret_jwt")&&n==null)throw o.throw(new Error("A client_secret is required")),null;let l;const c=await this._metadataService.getTokenEndpoint(!1);switch(this._settings.client_authentication){case"client_secret_basic":l=Qn.generateBasicAuth(t,n);break;case"client_secret_post":a.append("client_id",t),n&&a.append("client_secret",n);break;case"client_secret_jwt":{const f=await Qn.generateClientAssertionJwt(t,n,c,this._settings.token_endpoint_auth_signing_alg);a.append("client_id",t),a.append("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.append("client_assertion",f);break}}o.debug("got token endpoint");const d=await this._jsonService.postForm(c,{body:a,basicAuth:l,timeoutInSeconds:r,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:i});return o.debug("got response"),d}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${(t=e.token_type_hint)!=null?t:"default token type"}`);const i=new URLSearchParams;for(const[s,o]of Object.entries(e))o!=null&&i.set(s,o);i.set("client_id",this._settings.client_id),this._settings.client_secret&&i.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:i,timeoutInSeconds:this._settings.requestTimeoutInSeconds}),n.debug("got response")}},ese=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new Ct("ResponseValidator"),this._userInfoService=new Jie(this._settings,this._metadataService),this._tokenClient=new kU(this._settings,this._metadataService)}async validateSigninResponse(e,t,n){const r=this._logger.create("validateSigninResponse");this._processSigninState(e,t),r.debug("state processed"),await this._processCode(e,t,n),r.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,t?.skipUserInfo,e.isOpenId),r.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse"),r=e.isOpenId&&!!e.id_token;r&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,r),n.debug("claims processed")}async validateRefreshResponse(e,t){var n,r;const i=this._logger.create("validateRefreshResponse");e.userState=t.data,(n=e.session_state)!=null||(e.session_state=t.session_state),(r=e.scope)!=null||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),i.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const s=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,s),i.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new Eu(e)}_processSigninState(e,t){var n;const r=this._logger.create("_processSigninState");if(t.id!==e.state&&r.throw(new Error("State does not match")),t.client_id||r.throw(new Error("No client_id on state")),t.authority||r.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&r.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&r.throw(new Error("client_id mismatch on settings vs. signin state")),r.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,(n=e.scope)!=null||(e.scope=t.scope),e.error)throw r.warn("Response was error",e.error),new Eu(e);t.code_verifier&&!e.code&&r.throw(new Error("Expected code in response"))}async _processClaims(e,t=!1,n=!0){const r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token){r.debug("not loading user info");return}r.debug("loading user info");const i=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),n&&i.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(i)),r.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t,n){const r=this._logger.create("_processCode");if(e.code){r.debug("Validating code");const i=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,extraHeaders:n,...t.extraTokenParams});Object.assign(e,i)}else r.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const i=ym.decode((n=e.id_token)!=null?n:"");if(i.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const s=ym.decode(t);i.sub!==s.sub&&r.throw(new Error("sub in id_token does not match current sub")),i.auth_time&&i.auth_time!==s.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),i.azp&&i.azp!==s.azp&&r.throw(new Error("azp in id_token does not match original azp")),!i.azp&&s.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=i}},wb=class qA{constructor(t){this.id=t.id||Qn.generateUUIDv4(),this.data=t.data,t.created&&t.created>0?this.created=t.created:this.created=Ha.getEpochTime(),this.request_type=t.request_type,this.url_state=t.url_state}toStorageString(){return new Ct("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(t){return Ct.createStatic("State","fromStorageString"),Promise.resolve(new qA(JSON.parse(t)))}static async clearStaleState(t,n){const r=Ct.createStatic("State","clearStaleState"),i=Ha.getEpochTime()-n,s=await t.getAllKeys();r.debug("got keys",s);for(let o=0;o<s.length;o++){const a=s[o],l=await t.get(a);let c=!1;if(l)try{const d=await qA.fromStorageString(l);r.debug("got item from key:",a,d.created),d.created<=i&&(c=!0)}catch(d){r.error("Error parsing state for key:",a,d),c=!0}else r.debug("no item in storage for key:",a),c=!0;c&&(r.debug("removed item for key:",a),t.remove(a))}}},PU=class WA extends wb{constructor(t){super(t),this.code_verifier=t.code_verifier,this.code_challenge=t.code_challenge,this.authority=t.authority,this.client_id=t.client_id,this.redirect_uri=t.redirect_uri,this.scope=t.scope,this.client_secret=t.client_secret,this.extraTokenParams=t.extraTokenParams,this.response_mode=t.response_mode,this.skipUserInfo=t.skipUserInfo}static async create(t){const n=t.code_verifier===!0?Qn.generateCodeVerifier():t.code_verifier||void 0,r=n?await Qn.generateCodeChallenge(n):void 0;return new WA({...t,code_verifier:n,code_challenge:r})}toStorageString(){return new Ct("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(t){Ct.createStatic("SigninState","fromStorageString");const n=JSON.parse(t);return WA.create(n)}},NU=class MU{constructor(t){this.url=t.url,this.state=t.state}static async create({url:t,authority:n,client_id:r,redirect_uri:i,response_type:s,scope:o,state_data:a,response_mode:l,request_type:c,client_secret:d,nonce:f,url_state:p,resource:g,skipUserInfo:v,extraQueryParams:b,extraTokenParams:w,disablePKCE:S,dpopJkt:C,omitScopeWhenRequesting:_,...k}){if(!t)throw this._logger.error("create: No url passed"),new Error("url");if(!r)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!i)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!s)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!o)throw this._logger.error("create: No scope passed"),new Error("scope");if(!n)throw this._logger.error("create: No authority passed"),new Error("authority");const R=await PU.create({data:a,request_type:c,url_state:p,code_verifier:!S,client_id:r,authority:n,redirect_uri:i,response_mode:l,client_secret:d,scope:o,extraTokenParams:w,skipUserInfo:v}),N=new URL(t);N.searchParams.append("client_id",r),N.searchParams.append("redirect_uri",i),N.searchParams.append("response_type",s),_||N.searchParams.append("scope",o),f&&N.searchParams.append("nonce",f),C&&N.searchParams.append("dpop_jkt",C);let T=R.id;p&&(T=`${T}${kf}${p}`),N.searchParams.append("state",T),R.code_challenge&&(N.searchParams.append("code_challenge",R.code_challenge),N.searchParams.append("code_challenge_method","S256")),g&&(Array.isArray(g)?g:[g]).forEach(O=>N.searchParams.append("resource",O));for(const[M,O]of Object.entries({response_mode:l,...k,...b}))O!=null&&N.searchParams.append(M,O.toString());return new MU({url:N.href,state:R})}};NU._logger=new Ct("SigninRequest");var tse=NU,nse="openid",l_=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const t=decodeURIComponent(this.state).split(kf);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(kf))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Ha.getEpochTime()}set expires_in(e){typeof e=="string"&&(e=Number(e)),e!==void 0&&e>=0&&(this.expires_at=Math.floor(e)+Ha.getEpochTime())}get isOpenId(){var e;return((e=this.scope)==null?void 0:e.split(" ").includes(nse))||!!this.id_token}},rse=class{constructor({url:e,state_data:t,id_token_hint:n,post_logout_redirect_uri:r,extraQueryParams:i,request_type:s,client_id:o,url_state:a}){if(this._logger=new Ct("SignoutRequest"),!e)throw this._logger.error("ctor: No url passed"),new Error("url");const l=new URL(e);if(n&&l.searchParams.append("id_token_hint",n),o&&l.searchParams.append("client_id",o),r&&(l.searchParams.append("post_logout_redirect_uri",r),t||a)){this.state=new wb({data:t,request_type:s,url_state:a});let c=this.state.id;a&&(c=`${c}${kf}${a}`),l.searchParams.append("state",c)}for(const[c,d]of Object.entries({...i}))d!=null&&l.searchParams.append(c,d.toString());this.url=l.href}},ise=class{constructor(e){if(this.state=e.get("state"),this.state){const t=decodeURIComponent(this.state).split(kf);this.state=t[0],t.length>1&&(this.url_state=t.slice(1).join(kf))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},sse=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],ose=["sub","iss","aud","exp","iat"],ase=class{constructor(e){this._settings=e,this._logger=new Ct("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let n;Array.isArray(this._settings.filterProtocolClaims)?n=this._settings.filterProtocolClaims:n=sse;for(const r of n)ose.includes(r)||delete t[r]}return t}mergeClaims(e,t){const n={...e};for(const[r,i]of Object.entries(t))if(n[r]!==i)if(Array.isArray(n[r])||Array.isArray(i))if(this._settings.mergeClaimsStrategy.array=="replace")n[r]=i;else{const s=Array.isArray(n[r])?n[r]:[n[r]];for(const o of Array.isArray(i)?i:[i])s.includes(o)||s.push(o);n[r]=s}else typeof n[r]=="object"&&typeof i=="object"?n[r]=this.mergeClaims(n[r],i):n[r]=i;return n}},OU=class{constructor(e,t){this.keys=e,this.nonce=t}},lse=class{constructor(e,t){this._logger=new Ct("OidcClient"),this.settings=e instanceof VA?e:new VA(e),this.metadataService=t??new Kie(this.settings),this._claimsService=new ase(this.settings),this._validator=new ese(this.settings,this.metadataService,this._claimsService),this._tokenClient=new kU(this.settings,this.metadataService)}async createSigninRequest({state:e,request:t,request_uri:n,request_type:r,id_token_hint:i,login_hint:s,skipUserInfo:o,nonce:a,url_state:l,response_type:c=this.settings.response_type,scope:d=this.settings.scope,redirect_uri:f=this.settings.redirect_uri,prompt:p=this.settings.prompt,display:g=this.settings.display,max_age:v=this.settings.max_age,ui_locales:b=this.settings.ui_locales,acr_values:w=this.settings.acr_values,resource:S=this.settings.resource,response_mode:C=this.settings.response_mode,extraQueryParams:_=this.settings.extraQueryParams,extraTokenParams:k=this.settings.extraTokenParams,dpopJkt:R,omitScopeWhenRequesting:N=this.settings.omitScopeWhenRequesting}){const T=this._logger.create("createSigninRequest");if(c!=="code")throw new Error("Only the Authorization Code flow (with PKCE) is supported");const M=await this.metadataService.getAuthorizationEndpoint();T.debug("Received authorization endpoint",M);const O=await tse.create({url:M,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:f,response_type:c,scope:d,state_data:e,url_state:l,prompt:p,display:g,max_age:v,ui_locales:b,id_token_hint:i,login_hint:s,acr_values:w,dpopJkt:R,resource:S,request:t,request_uri:n,extraQueryParams:_,extraTokenParams:k,request_type:r,response_mode:C,client_secret:this.settings.client_secret,skipUserInfo:o,nonce:a,disablePKCE:this.settings.disablePKCE,omitScopeWhenRequesting:N});await this.clearStaleState();const L=O.state;return await this.settings.stateStore.set(L.id,L.toStorageString()),O}async readSigninResponseState(e,t=!1){const n=this._logger.create("readSigninResponseState"),r=new l_(BA.readParams(e,this.settings.response_mode));if(!r.state)throw n.throw(new Error("No state in response")),null;const i=await this.settings.stateStore[t?"remove":"get"](r.state);if(!i)throw n.throw(new Error("No matching state found in storage")),null;return{state:await PU.fromStorageString(i),response:r}}async processSigninResponse(e,t,n=!0){const r=this._logger.create("processSigninResponse"),{state:i,response:s}=await this.readSigninResponseState(e,n);if(r.debug("received state from storage; validating response"),this.settings.dpop&&this.settings.dpop.store){const o=await this.getDpopProof(this.settings.dpop.store);t={...t,DPoP:o}}try{await this._validator.validateSigninResponse(s,i,t)}catch(o){if(o instanceof UA&&this.settings.dpop){const a=await this.getDpopProof(this.settings.dpop.store,o.nonce);t.DPoP=a,await this._validator.validateSigninResponse(s,i,t)}else throw o}return s}async getDpopProof(e,t){let n,r;return(await e.getAllKeys()).includes(this.settings.client_id)?(r=await e.get(this.settings.client_id),r.nonce!==t&&t&&(r.nonce=t,await e.set(this.settings.client_id,r))):(n=await Qn.generateDPoPKeys(),r=new OU(n,t),await e.set(this.settings.client_id,r)),await Qn.generateDPoPProof({url:await this.metadataService.getTokenEndpoint(!1),httpMethod:"POST",keyPair:r.keys,nonce:r.nonce})}async processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n=!1,extraTokenParams:r={}}){const i=await this._tokenClient.exchangeCredentials({username:e,password:t,...r}),s=new l_(new URLSearchParams);return Object.assign(s,i),await this._validator.validateCredentialsResponse(s,n),s}async useRefreshToken({state:e,redirect_uri:t,resource:n,timeoutInSeconds:r,extraHeaders:i,extraTokenParams:s}){var o;const a=this._logger.create("useRefreshToken");let l;if(this.settings.refreshTokenAllowedScope===void 0)l=e.scope;else{const f=this.settings.refreshTokenAllowedScope.split(" ");l=(((o=e.scope)==null?void 0:o.split(" "))||[]).filter(g=>f.includes(g)).join(" ")}if(this.settings.dpop&&this.settings.dpop.store){const f=await this.getDpopProof(this.settings.dpop.store);i={...i,DPoP:f}}let c;try{c=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:l,redirect_uri:t,resource:n,timeoutInSeconds:r,extraHeaders:i,...s})}catch(f){if(f instanceof UA&&this.settings.dpop)i.DPoP=await this.getDpopProof(this.settings.dpop.store,f.nonce),c=await this._tokenClient.exchangeRefreshToken({refresh_token:e.refresh_token,scope:l,redirect_uri:t,resource:n,timeoutInSeconds:r,extraHeaders:i,...s});else throw f}const d=new l_(new URLSearchParams);return Object.assign(d,c),a.debug("validating response",d),await this._validator.validateRefreshResponse(d,{...e,scope:l}),d}async createSignoutRequest({state:e,id_token_hint:t,client_id:n,request_type:r,url_state:i,post_logout_redirect_uri:s=this.settings.post_logout_redirect_uri,extraQueryParams:o=this.settings.extraQueryParams}={}){const a=this._logger.create("createSignoutRequest"),l=await this.metadataService.getEndSessionEndpoint();if(!l)throw a.throw(new Error("No end session endpoint")),null;a.debug("Received end session endpoint",l),!n&&s&&!t&&(n=this.settings.client_id);const c=new rse({url:l,id_token_hint:t,client_id:n,post_logout_redirect_uri:s,state_data:e,extraQueryParams:o,request_type:r,url_state:i});await this.clearStaleState();const d=c.state;return d&&(a.debug("Signout request has state to persist"),await this.settings.stateStore.set(d.id,d.toStorageString())),c}async readSignoutResponseState(e,t=!1){const n=this._logger.create("readSignoutResponseState"),r=new ise(BA.readParams(e,this.settings.response_mode));if(!r.state){if(n.debug("No state in response"),r.error)throw n.warn("Response was error:",r.error),new Eu(r);return{state:void 0,response:r}}const i=await this.settings.stateStore[t?"remove":"get"](r.state);if(!i)throw n.throw(new Error("No matching state found in storage")),null;return{state:await wb.fromStorageString(i),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:r}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,n)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),wb.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},cse=class{constructor(e){this._userManager=e,this._logger=new Ct("SessionMonitor"),this._start=async t=>{const n=t.session_state;if(!n)return;const r=this._logger.create("_start");if(t.profile?(this._sub=t.profile.sub,r.debug("session_state",n,", sub",this._sub)):(this._sub=void 0,r.debug("session_state",n,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(n);return}try{const i=await this._userManager.metadataService.getCheckSessionIframe();if(i){r.debug("initializing check session iframe");const s=this._userManager.settings.client_id,o=this._userManager.settings.checkSessionIntervalInSeconds,a=this._userManager.settings.stopCheckSessionOnError,l=new Gie(this._callback,s,i,o,a);await l.load(),this._checkSessionIFrame=l,l.start(n)}else r.warn("no check session iframe found in the metadata")}catch(i){r.error("Error from getCheckSessionIframe:",i instanceof Error?i.message:i)}},this._stop=()=>{const t=this._logger.create("_stop");if(this._sub=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const n=setInterval(async()=>{clearInterval(n);try{const r=await this._userManager.querySessionStatus();if(r){const i={session_state:r.session_state,profile:r.sub?{sub:r.sub}:null};this._start(i)}}catch(r){t.error("error from querySessionStatus",r instanceof Error?r.message:r)}},1e3)}},this._callback=async()=>{const t=this._logger.create("_callback");try{const n=await this._userManager.querySessionStatus();let r=!0;n&&this._checkSessionIFrame?n.sub===this._sub?(r=!1,this._checkSessionIFrame.start(n.session_state),t.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",n.session_state),await this._userManager.events._raiseUserSessionChanged()):t.debug("different subject signed into OP",n.sub):t.debug("subject no longer signed into OP"),r?this._sub?await this._userManager.events._raiseUserSignedOut():await this._userManager.events._raiseUserSignedIn():t.debug("no change in session detected, no event to raise")}catch(n){this._sub&&(t.debug("Error calling queryCurrentSigninSession; raising signed out event",n),await this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(t=>{this._logger.error(t)})}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const t=await this._userManager.querySessionStatus();if(t){const n={session_state:t.session_state,profile:t.sub?{sub:t.sub}:null};this._start(n)}}}},c_=class DU{constructor(t){var n;this.id_token=t.id_token,this.session_state=(n=t.session_state)!=null?n:null,this.access_token=t.access_token,this.refresh_token=t.refresh_token,this.token_type=t.token_type,this.scope=t.scope,this.profile=t.profile,this.expires_at=t.expires_at,this.state=t.userState,this.url_state=t.url_state}get expires_in(){if(this.expires_at!==void 0)return this.expires_at-Ha.getEpochTime()}set expires_in(t){t!==void 0&&(this.expires_at=Math.floor(t)+Ha.getEpochTime())}get expired(){const t=this.expires_in;if(t!==void 0)return t<=0}get scopes(){var t,n;return(n=(t=this.scope)==null?void 0:t.split(" "))!=null?n:[]}toStorageString(){return new Ct("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return Ct.createStatic("User","fromStorageString"),new DU(JSON.parse(t))}},Zj="oidc-client",IU=class{constructor(){this._abort=new Kl("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:r}=await new Promise((i,s)=>{const o=l=>{var c;const d=l.data,f=(c=e.scriptOrigin)!=null?c:window.location.origin;if(!(l.origin!==f||d?.source!==Zj)){try{const p=BA.readParams(d.url,e.response_mode).get("state");if(p||t.warn("no state found in response url"),l.source!==this._window&&p!==e.state)return}catch{this._dispose(),s(new Error("Invalid response from window"))}i(d)}};window.addEventListener("message",o,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",o,!1));const a=new BroadcastChannel(`oidc-client-popup-${e.state}`);a.addEventListener("message",o,!1),this._disposeHandlers.add(()=>a.close()),this._disposeHandlers.add(this._abort.addHandler(l=>{this._dispose(),s(l)}))});return t.debug("got response from window"),this._dispose(),r||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t,n=!1,r=window.location.origin){const i={source:Zj,url:t,keepOpen:n},s=new Ct("_notifyParent");if(e)s.debug("With parent. Using parent.postMessage."),e.postMessage(i,r);else{s.debug("No parent. Using BroadcastChannel.");const o=new URL(t).searchParams.get("state");if(!o)throw new Error("No parent and no state in URL. Can't complete notification.");const a=new BroadcastChannel(`oidc-client-popup-${o}`);a.postMessage(i),a.close()}}},jU={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},LU="_blank",use=60,dse=2,zU=10,fse=class extends VA{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:r=jU,popupWindowTarget:i=LU,redirectMethod:s="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,requestTimeoutInSeconds:c,silent_redirect_uri:d=e.redirect_uri,silentRequestTimeoutInSeconds:f,automaticSilentRenew:p=!0,validateSubOnSilentRenew:g=!0,includeIdTokenInSilentRenew:v=!1,monitorSession:b=!1,monitorAnonymousSession:w=!1,checkSessionIntervalInSeconds:S=dse,query_status_response_type:C="code",stopCheckSessionOnError:_=!0,revokeTokenTypes:k=["access_token","refresh_token"],revokeTokensOnSignout:R=!1,includeIdTokenInSilentSignout:N=!1,accessTokenExpiringNotificationTimeInSeconds:T=use,userStore:M}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=r,this.popupWindowTarget=i,this.redirectMethod=s,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=l,this.silent_redirect_uri=d,this.silentRequestTimeoutInSeconds=f||c||zU,this.automaticSilentRenew=p,this.validateSubOnSilentRenew=g,this.includeIdTokenInSilentRenew=v,this.monitorSession=b,this.monitorAnonymousSession=w,this.checkSessionIntervalInSeconds=S,this.stopCheckSessionOnError=_,this.query_status_response_type=C,this.revokeTokenTypes=k,this.revokeTokensOnSignout=R,this.includeIdTokenInSilentSignout=N,this.accessTokenExpiringNotificationTimeInSeconds=T,M)this.userStore=M;else{const O=typeof window<"u"?window.sessionStorage:new TU;this.userStore=new RU({store:O})}}},Qj=class FU extends IU{constructor({silentRequestTimeoutInSeconds:t=zU}){super(),this._logger=new Ct("IFrameWindow"),this._timeoutInSeconds=t,this._frame=FU.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const t=window.document.createElement("iframe");return t.style.visibility="hidden",t.style.position="fixed",t.style.left="-1000px",t.style.top="0",t.width="0",t.height="0",window.document.body.appendChild(t),t}async navigate(t){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const n=setTimeout(()=>void this._abort.raise(new Mk("IFrame timed out without a response")),this._timeoutInSeconds*1e3);return this._disposeHandlers.add(()=>clearTimeout(n)),await super.navigate(t)}close(){var t;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",n=>{var r;const i=n.target;(r=i.parentNode)==null||r.removeChild(i),this._abort.raise(new Error("IFrame removed from DOM"))},!0),(t=this._frame.contentWindow)==null||t.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(t,n){return super._notifyParent(window.parent,t,!1,n)}},hse=class{constructor(e){this._settings=e,this._logger=new Ct("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:e=this._settings.silentRequestTimeoutInSeconds}){return new Qj({silentRequestTimeoutInSeconds:e})}async callback(e){this._logger.create("callback"),Qj.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},pse=500,mse=1e3,Jj=class extends IU{constructor({popupWindowTarget:e=LU,popupWindowFeatures:t={},popupSignal:n,popupAbortOnClose:r}){super(),this._logger=new Ct("PopupWindow");const i=Xj.center({...jU,...t});this._window=window.open(void 0,e,Xj.serialize(i)),this.abortOnClose=!!r,n&&n.addEventListener("abort",()=>{var s;this._abort.raise(new Error((s=n.reason)!=null?s:"Popup aborted"))}),t.closePopupWindowAfterInSeconds&&t.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||typeof this._window.closed!="boolean"||this._window.closed){this._abort.raise(new Error("Popup blocked by user"));return}this.close()},t.closePopupWindowAfterInSeconds*mse)}async navigate(e){var t;(t=this._window)==null||t.focus();const n=setInterval(()=>{(!this._window||this._window.closed)&&(this._logger.debug("Popup closed by user or isolated by redirect"),r(),this._disposeHandlers.delete(r),this.abortOnClose&&this._abort.raise(new Error("Popup closed by user")))},pse),r=()=>clearInterval(n);return this._disposeHandlers.add(r),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){super._notifyParent(window.opener,e,t),!t&&!window.opener&&window.close()}},gse=class{constructor(e){this._settings=e,this._logger=new Ct("PopupNavigator")}async prepare({popupWindowFeatures:e=this._settings.popupWindowFeatures,popupWindowTarget:t=this._settings.popupWindowTarget,popupSignal:n,popupAbortOnClose:r}){return new Jj({popupWindowFeatures:e,popupWindowTarget:t,popupSignal:n,popupAbortOnClose:r})}async callback(e,{keepOpen:t=!1}){this._logger.create("callback"),Jj.notifyOpener(e,t)}},vse=class{constructor(e){this._settings=e,this._logger=new Ct("RedirectNavigator")}async prepare({redirectMethod:e=this._settings.redirectMethod,redirectTarget:t=this._settings.redirectTarget}){var n;this._logger.create("prepare");let r=window.self;t==="top"&&(r=(n=window.top)!=null?n:window.self);const i=r.location[e].bind(r.location);let s;return{navigate:async o=>(this._logger.create("navigate"),await new Promise((l,c)=>{s=c,window.addEventListener("pageshow",()=>l(window.location.href)),i(o.url)})),close:()=>{this._logger.create("close"),s?.(new Error("Redirect aborted")),r.stop()}}}async callback(){}},yse=class extends Wie{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new Ct("UserManagerEvents"),this._userLoaded=new Kl("User loaded"),this._userUnloaded=new Kl("User unloaded"),this._silentRenewError=new Kl("Silent renew error"),this._userSignedIn=new Kl("User signed in"),this._userSignedOut=new Kl("User signed out"),this._userSessionChanged=new Kl("User session changed")}async load(e,t=!0){await super.load(e),t&&await this._userLoaded.raise(e)}async unload(){await super.unload(),await this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}async _raiseSilentRenewError(e){await this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}async _raiseUserSignedIn(){await this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}async _raiseUserSignedOut(){await this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}async _raiseUserSessionChanged(){await this._userSessionChanged.raise()}},bse=class{constructor(e){this._userManager=e,this._logger=new Ct("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Ha("Retry Silent Renew"),this._tokenExpiring=async()=>{const t=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),t.debug("silent token renewal successful")}catch(n){if(n instanceof Mk){t.warn("ErrorTimeout from signinSilent:",n,"retry in 5s"),this._retryTimer.init(5);return}t.error("Error from signinSilent:",n),await this._userManager.events._raiseSilentRenewError(n)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},xse=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}},wse=class{constructor(e,t,n,r){this._logger=new Ct("UserManager"),this.settings=new fse(e),this._client=new lse(e),this._redirectNavigator=t??new vse(this.settings),this._popupNavigator=n??new gse(this.settings),this._iframeNavigator=r??new hse(this.settings),this._events=new yse(this.settings),this._silentRenewService=new bse(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new cse(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(e=!1){const t=this._logger.create("getUser"),n=await this._loadUser();return n?(t.info("user loaded"),await this._events.load(n,e),n):(t.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),await this._events.unload()}async signinRedirect(e={}){var t;this._logger.create("signinRedirect");const{redirectMethod:n,...r}=e;let i;(t=this.settings.dpop)!=null&&t.bind_authorization_code&&(i=await this.generateDPoPJkt(this.settings.dpop));const s=await this._redirectNavigator.prepare({redirectMethod:n});await this._signinStart({request_type:"si:r",dpopJkt:i,...r},s)}async signinRedirectCallback(e=window.location.href){const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials({username:e,password:t,skipUserInfo:n=!1}){const r=this._logger.create("signinResourceOwnerCredential"),i=await this._client.processResourceOwnerPasswordCredentials({username:e,password:t,skipUserInfo:n,extraTokenParams:this.settings.extraTokenParams});r.debug("got signin response");const s=await this._buildUser(i);return s.profile&&s.profile.sub?r.info("success, signed in subject",s.profile.sub):r.info("no subject"),s}async signinPopup(e={}){var t;const n=this._logger.create("signinPopup");let r;(t=this.settings.dpop)!=null&&t.bind_authorization_code&&(r=await this.generateDPoPJkt(this.settings.dpop));const{popupWindowFeatures:i,popupWindowTarget:s,popupSignal:o,popupAbortOnClose:a,...l}=e,c=this.settings.popup_redirect_uri;c||n.throw(new Error("No popup_redirect_uri configured"));const d=await this._popupNavigator.prepare({popupWindowFeatures:i,popupWindowTarget:s,popupSignal:o,popupAbortOnClose:a}),f=await this._signin({request_type:"si:p",redirect_uri:c,display:"popup",dpopJkt:r,...l},d);return f&&(f.profile&&f.profile.sub?n.info("success, signed in subject",f.profile.sub):n.info("no subject")),f}async signinPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(e={}){var t,n;const r=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:i,...s}=e;let o=await this._loadUser();if(!e.forceIframeAuth&&o?.refresh_token){r.debug("using refresh token");const f=new xse(o);return await this._useRefreshToken({state:f,redirect_uri:s.redirect_uri,resource:s.resource,extraTokenParams:s.extraTokenParams,timeoutInSeconds:i})}let a;(t=this.settings.dpop)!=null&&t.bind_authorization_code&&(a=await this.generateDPoPJkt(this.settings.dpop));const l=this.settings.silent_redirect_uri;l||r.throw(new Error("No silent_redirect_uri configured"));let c;o&&this.settings.validateSubOnSilentRenew&&(r.debug("subject prior to silent renew:",o.profile.sub),c=o.profile.sub);const d=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:i});return o=await this._signin({request_type:"si:s",redirect_uri:l,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?o?.id_token:void 0,dpopJkt:a,...s},d,c),o&&((n=o.profile)!=null&&n.sub?r.info("success, signed in subject",o.profile.sub):r.info("no subject")),o}async _useRefreshToken(e){const t=await this._client.useRefreshToken({timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds,...e}),n=new c_({...e.state,...t});return await this.storeUser(n),await this._events.load(n),n}async signinSilentCallback(e=window.location.href){const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(e=window.location.href){const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":await this.signinPopupCallback(e);break;case"si:s":await this.signinSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async signoutCallback(e=window.location.href,t=!1){const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":return await this.signoutRedirectCallback(e);case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(e={}){const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...r}=e,i=this.settings.silent_redirect_uri;i||t.throw(new Error("No silent_redirect_uri configured"));const s=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),a=await this._signinStart({request_type:"si:s",redirect_uri:i,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?s?.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},o);try{const l={},c=await this._client.processSigninResponse(a.url,l);return t.debug("got signin response"),c.session_state&&c.profile.sub?(t.info("success for subject",c.profile.sub),{session_state:c.session_state,sub:c.profile.sub}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof Eu)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,n){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),r={},i=await this._client.processSigninResponse(e,r);return n.debug("got signin response"),await this._buildUser(i,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),r=new c_(e);if(t){if(t!==r.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new Eu({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(r),n.debug("user stored"),await this._events.load(r),r}async signoutRedirect(e={}){const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...r}=e,i=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},i),t.info("success")}async signoutRedirectCallback(e=window.location.href){const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(e={}){const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:r,popupSignal:i,...s}=e,o=this.settings.popup_post_logout_redirect_uri,a=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r,popupSignal:i});await this._signout({request_type:"so:p",post_logout_redirect_uri:o,state:o==null?void 0:{},...s},a),t.info("success")}async signoutPopupCallback(e=window.location.href,t=!1){const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(e={},t){var n;const r=this._logger.create("_signoutStart");try{const i=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(i);const s=e.id_token_hint||i&&i.id_token;s&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=s),await this.removeUser(),r.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:o.url,state:(n=o.state)==null?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(i){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),i}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(e={}){var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:r,...i}=e,s=this.settings.includeIdTokenInSilentSignout?(t=await this._loadUser())==null?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:s,...i},a),n.info("success")}async signoutSilentCallback(e=window.location.href){const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e,t=this.settings.revokeTokenTypes){const n=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter(i=>typeof e[i]=="string");if(!r.length){n.debug("no need to revoke due to no token(s)");return}for(const i of r)await this._client.revokeToken(e[i],i),n.info(`${i} revoked successfully`),i!=="access_token"&&(e[i]=null);await this.storeUser(e),n.debug("user stored"),await this._events.load(e)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),c_.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey),this.settings.dpop&&await this.settings.dpop.store.remove(this.settings.client_id)}async clearStaleState(){await this._client.clearStaleState()}async dpopProof(e,t,n,r){var i,s;const o=await((s=(i=this.settings.dpop)==null?void 0:i.store)==null?void 0:s.get(this.settings.client_id));if(o)return await Qn.generateDPoPProof({url:e,accessToken:t?.access_token,httpMethod:n,keyPair:o.keys,nonce:r})}async generateDPoPJkt(e){let t=await e.store.get(this.settings.client_id);if(!t){const n=await Qn.generateDPoPKeys();t=new OU(n),await e.store.set(this.settings.client_id,t)}return await Qn.generateDPoPJkt(t.keys)}},Dk=ie.createContext(void 0);Dk.displayName="AuthContext";var Sse={isLoading:!0,isAuthenticated:!1},Ese=(e,t)=>{switch(t.type){case"INITIALISED":case"USER_LOADED":return{...e,user:t.user,isLoading:!1,isAuthenticated:t.user?!t.user.expired:!1,error:void 0};case"USER_SIGNED_OUT":case"USER_UNLOADED":return{...e,user:void 0,isAuthenticated:!1};case"NAVIGATOR_INIT":return{...e,isLoading:!0,activeNavigator:t.method};case"NAVIGATOR_CLOSE":return{...e,isLoading:!1,activeNavigator:void 0};case"ERROR":{const n=t.error;return n.toString=()=>`${n.name}: ${n.message}`,{...e,isLoading:!1,error:n}}default:{const n=new TypeError(`unknown type ${t.type}`),r={name:n.name,message:n.message,innerError:n,stack:n.stack,source:"unknown"};return r.toString=()=>`${r.name}: ${r.message}`,{...e,isLoading:!1,error:r}}}},_se=(e=window.location)=>{let t=new URLSearchParams(e.search);return!!((t.get("code")||t.get("error"))&&t.get("state")||(t=new URLSearchParams(e.hash.replace("#","?")),(t.get("code")||t.get("error"))&&t.get("state")))},Cse=Ik("signinCallback","Sign-in failed"),Ase=Ik("signoutCallback","Sign-out failed"),Tse=Ik("renewSilent","Renew silent failed");function $U(e,t){return{name:u_(e,"name",()=>"Error"),message:u_(e,"message",()=>t),stack:u_(e,"stack",()=>new Error().stack),innerError:e}}function Ik(e,t){return n=>({...$U(n,t),source:e})}function u_(e,t,n){if(e&&typeof e=="object"){const r=e[t];if(typeof r=="string")return r}return n()}var Rse=["clearStaleState","querySessionStatus","revokeTokens","startSilentRenew","stopSilentRenew"],kse=["signinPopup","signinSilent","signinRedirect","signinResourceOwnerCredentials","signoutPopup","signoutRedirect","signoutSilent"],eL=e=>()=>{throw new Error(`UserManager#${e} was called from an unsupported context. If this is a server-rendered page, defer this call with useEffect() or pass a custom UserManager implementation.`)},tL=typeof window>"u"?null:wse,Pse=e=>{const{children:t,onSigninCallback:n,skipSigninCallback:r,matchSignoutCallback:i,onSignoutCallback:s,onRemoveUser:o,userManager:a=null,...l}=e,[c]=ie.useState(()=>a??(tL?new tL(l):{settings:l})),[d,f]=ie.useReducer(Ese,Sse),p=ie.useMemo(()=>Object.assign({settings:c.settings,events:c.events},Object.fromEntries(Rse.map(w=>{var S,C;return[w,(C=(S=c[w])==null?void 0:S.bind(c))!=null?C:eL(w)]})),Object.fromEntries(kse.map(w=>[w,c[w]?async S=>{f({type:"NAVIGATOR_INIT",method:w});try{return await c[w](S)}catch(C){return f({type:"ERROR",error:{...$U(C,`Unknown error while executing ${w}(...).`),source:w,args:S}}),null}finally{f({type:"NAVIGATOR_CLOSE"})}}:eL(w)]))),[c]),g=ie.useRef(!1);ie.useEffect(()=>{!c||g.current||(g.current=!0,(async()=>{try{let w=null;_se()&&!r&&(w=await c.signinCallback(),n&&await n(w)),w=w||await c.getUser(),f({type:"INITIALISED",user:w})}catch(w){f({type:"ERROR",error:Cse(w)})}try{if(i&&i(c.settings)){const w=await c.signoutCallback();s&&await s(w)}}catch(w){f({type:"ERROR",error:Ase(w)})}})())},[c,r,n,s,i]),ie.useEffect(()=>{if(!c)return;const w=k=>{f({type:"USER_LOADED",user:k})};c.events.addUserLoaded(w);const S=()=>{f({type:"USER_UNLOADED"})};c.events.addUserUnloaded(S);const C=()=>{f({type:"USER_SIGNED_OUT"})};c.events.addUserSignedOut(C);const _=k=>{f({type:"ERROR",error:Tse(k)})};return c.events.addSilentRenewError(_),()=>{c.events.removeUserLoaded(w),c.events.removeUserUnloaded(S),c.events.removeUserSignedOut(C),c.events.removeSilentRenewError(_)}},[c]);const v=ie.useCallback(async()=>{await c.removeUser(),o&&await o()},[c,o]),b=ie.useMemo(()=>({...d,...p,removeUser:v}),[d,p,v]);return ie.createElement(Dk.Provider,{value:b},t)},jk=()=>{const e=ie.useContext(Dk);return e||console.warn("AuthProvider context is undefined, please verify you are calling useAuth() as child of a <AuthProvider> component."),e};const nL=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Nse=(e=>e?nL(e):nL),Mse=e=>e;function Ose(e,t=Mse){const n=ie.useSyncExternalStore(e.subscribe,ie.useCallback(()=>t(e.getState()),[e,t]),ie.useCallback(()=>t(e.getInitialState()),[e,t]));return ie.useDebugValue(n),n}const rL=e=>{const t=Nse(e),n=r=>Ose(t,r);return Object.assign(n,t),n},Wu=(e=>e?rL(e):rL);function Dse(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const GA=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return GA(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return GA(r)(n)}}}},Ise=(e,t)=>(n,r,i)=>{let s={storage:Dse(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...t},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const d=()=>{const b=s.partialize({...r()});return c.setItem(s.name,{state:b,version:s.version})},f=i.setState;i.setState=(b,w)=>(f(b,w),d());const p=e((...b)=>(n(...b),d()),r,i);i.getInitialState=()=>p;let g;const v=()=>{var b,w;if(!c)return;o=!1,a.forEach(C=>{var _;return C((_=r())!=null?_:p)});const S=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(b=r())!=null?b:p))||void 0;return GA(c.getItem.bind(c))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate){const _=s.migrate(C.state,C.version);return _ instanceof Promise?_.then(k=>[!0,k]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var _;const[k,R]=C;if(g=s.merge(R,(_=r())!=null?_:p),n(g,!0),k)return d()}).then(()=>{S?.(g,void 0),g=r(),o=!0,l.forEach(C=>C(g))}).catch(C=>{S?.(void 0,C)})};return i.persist={setOptions:b=>{s={...s,...b},b.storage&&(c=b.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},s.skipHydration||v(),g||p},Lk=Ise,Ln=Wu()(Lk(e=>({isAuthenticated:!1,isGuest:!1,user:null,guestUniverse:null,setAuthData:t=>e(n=>({...n,isAuthenticated:t.isAuthenticated,isGuest:!1,guestUniverse:null,user:t.user})),enterGuestMode:()=>{const t=`guest-${Math.random().toString(36).substring(7)}`;e({isAuthenticated:!0,isGuest:!0,user:{id:t,name:"Visitante",role:"explorer",avatarUrl:`https://api.dicebear.com/9.x/bottts-neutral/svg?seed=${t}`},guestUniverse:null})},setGuestUniverse:t=>{e({guestUniverse:t})},logout:()=>{e({isAuthenticated:!1,isGuest:!1,user:null,guestUniverse:null}),localStorage.removeItem("logos-auth-storage")}}),{name:"logos-auth-storage",partialize:e=>({isAuthenticated:e.isAuthenticated,isGuest:e.isGuest,guestUniverse:e.guestUniverse,user:e.user})}));const jse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lse=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),iL=e=>{const t=Lse(e);return t.charAt(0).toUpperCase()+t.slice(1)},HU=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),zse=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Fse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $se=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...Fse,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:HU("lucide",i),...!s&&!zse(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>x.createElement(c,d)),...Array.isArray(s)?s:[s]]));const Le=(e,t)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement($se,{ref:s,iconNode:t,className:HU(`lucide-${jse(iL(e))}`,`lucide-${e}`,r),...i}));return n.displayName=iL(e),n};const Hse=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Bse=Le("arrow-down",Hse);const Use=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zk=Le("arrow-left",Use);const Vse=[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]],sL=Le("arrow-right-to-line",Vse);const qse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wse=Le("arrow-right",qse);const Gse=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Kse=Le("award",Gse);const Yse=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xse=Le("book-open",Yse);const Zse=[["path",{d:"m14.5 7-5 5",key:"dy991v"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9.5 7 5 5",key:"s45iea"}]],Qse=Le("book-x",Zse);const Jse=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],BU=Le("book",Jse);const eoe=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],UU=Le("brain-circuit",eoe);const toe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],VU=Le("calendar",toe);const noe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],roe=Le("camera",noe);const ioe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gg=Le("check",ioe);const soe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qU=Le("chevron-down",soe);const ooe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WU=Le("chevron-right",ooe);const aoe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],loe=Le("chevron-up",aoe);const coe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],GU=Le("circle-check",coe);const uoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KU=Le("circle",uoe);const doe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fk=Le("clock",doe);const foe=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],hoe=Le("cloud-lightning",foe);const poe=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],moe=Le("cloud-upload",poe);const goe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],voe=Le("columns-2",goe);const yoe=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],boe=Le("compass",yoe);const xoe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],woe=Le("download",xoe);const Soe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Eoe=Le("ellipsis-vertical",Soe);const _oe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Coe=Le("external-link",_oe);const Aoe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Toe=Le("eye",Aoe);const Roe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],koe=Le("file-search",Roe);const Poe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gu=Le("file-text",Poe);const Noe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Moe=Le("funnel",Noe);const Ooe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Doe=Le("globe",Ooe);const Ioe=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],joe=Le("hard-drive",Ioe);const Loe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],zoe=Le("info",Loe);const Foe=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],$oe=Le("landmark",Foe);const Hoe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Boe=Le("layers",Hoe);const Uoe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Voe=Le("layout-grid",Uoe);const qoe=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],YU=Le("library",qoe);const Woe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Goe=Le("list",Woe);const Koe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],no=Le("loader-circle",Koe);const Yoe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XU=Le("log-out",Yoe);const Xoe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zoe=Le("mail",Xoe);const Qoe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Joe=Le("map",Qoe);const eae=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tae=Le("message-square",eae);const nae=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],rae=Le("microscope",nae);const iae=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],ZU=Le("mouse-pointer-2",iae);const sae=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],QU=Le("network",sae);const oae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$k=Le("plus",oae);const aae=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lae=Le("refresh-cw",aae);const cae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JU=Le("save",cae);const uae=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],dae=Le("scale",uae);const fae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],eV=Le("search",fae);const hae=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],pae=Le("settings-2",hae);const mae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gae=Le("shield",mae);const vae=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],yae=Le("shopping-bag",vae);const bae=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ba=Le("sparkles",bae);const xae=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wae=Le("square-pen",xae);const Sae=[["path",{d:"M17 22h-1a4 4 0 0 1-4-4V6a4 4 0 0 1 4-4h1",key:"uvaxm9"}],["path",{d:"M7 22h1a4 4 0 0 0 4-4v-1",key:"11xy8d"}],["path",{d:"M7 2h1a4 4 0 0 1 4 4v1",key:"1uw06m"}]],Eae=Le("text-cursor",Sae);const _ae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hk=Le("trash-2",_ae);const Cae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Aae=Le("upload",Cae);const Tae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tV=Le("user",Tae);const Rae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vg=Le("x",Rae);const kae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pae=Le("zap",kae);const Nae=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],nV=Le("zoom-in",Nae);const Mae=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Oae=Le("zoom-out",Mae);function oL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nr(...e){return t=>{let n=!1;const r=e.map(i=>{const s=oL(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():oL(e[i],null)}}}}function pt(...e){return x.useCallback(nr(...e),e)}var Dae=Symbol.for("react.lazy"),Sb=Vx[" use ".trim().toString()];function Iae(e){return typeof e=="object"&&e!==null&&"then"in e}function rV(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Dae&&"_payload"in e&&Iae(e._payload)}function iV(e){const t=Lae(e),n=x.forwardRef((r,i)=>{let{children:s,...o}=r;rV(s)&&typeof Sb=="function"&&(s=Sb(s._payload));const a=x.Children.toArray(s),l=a.find(Fae);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var jae=iV("Slot");function Lae(e){const t=x.forwardRef((n,r)=>{let{children:i,...s}=n;if(rV(i)&&typeof Sb=="function"&&(i=Sb(i._payload)),x.isValidElement(i)){const o=Hae(i),a=$ae(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zae=Symbol("radix.slottable");function Fae(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zae}function $ae(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Hae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function sV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ir(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sV(e))&&(r&&(r+=" "),r+=t);return r}const aL=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lL=Ir,Yx=(e,t)=>n=>{var r;if(t?.variants==null)return lL(e,n?.class,n?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const d=n?.[c],f=s?.[c];if(d===null)return null;const p=aL(d)||aL(f);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(v=>{let[b,w]=v;return Array.isArray(w)?w.includes({...s,...a}[b]):{...s,...a}[b]===w})?[...c,f,p]:c},[]);return lL(e,o,l,n?.class,n?.className)},Bae=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},Uae=(e,t)=>({classGroupId:e,validator:t}),oV=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Eb="-",cL=[],Vae="arbitrary..",qae=e=>{const t=Gae(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Wae(o);const a=o.split(Eb),l=a[0]===""&&a.length>1?1:0;return aV(a,l,t)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],c=n[o];return l?c?Bae(c,l):l:c||cL}return n[o]||cL}}},aV=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const c=aV(e,t+1,s);if(c)return c}const o=n.validators;if(o===null)return;const a=t===0?e.join(Eb):e.slice(t).join(Eb),l=o.length;for(let c=0;c<l;c++){const d=o[c];if(d.validator(a))return d.classGroupId}},Wae=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?Vae+r:void 0})(),Gae=e=>{const{theme:t,classGroups:n}=e;return Kae(n,t)},Kae=(e,t)=>{const n=oV();for(const r in e){const i=e[r];Bk(i,n,r,t)}return n},Bk=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const o=e[s];Yae(o,t,n,r)}},Yae=(e,t,n,r)=>{if(typeof e=="string"){Xae(e,t,n);return}if(typeof e=="function"){Zae(e,t,n,r);return}Qae(e,t,n,r)},Xae=(e,t,n)=>{const r=e===""?t:lV(t,e);r.classGroupId=n},Zae=(e,t,n,r)=>{if(Jae(e)){Bk(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Uae(n,e))},Qae=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];Bk(l,lV(t,a),n,r)}},lV=(e,t)=>{let n=e;const r=t.split(Eb),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=oV(),n.nextPart.set(o,a)),n=a}return n},Jae=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,ele=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},KA="!",uL=":",tle=[],dL=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),nle=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,a=0,l=0,c;const d=i.length;for(let b=0;b<d;b++){const w=i[b];if(o===0&&a===0){if(w===uL){s.push(i.slice(l,b)),l=b+1;continue}if(w==="/"){c=b;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const f=s.length===0?i:i.slice(l);let p=f,g=!1;f.endsWith(KA)?(p=f.slice(0,-1),g=!0):f.startsWith(KA)&&(p=f.slice(1),g=!0);const v=c&&c>l?c-l:void 0;return dL(s,g,p,v)};if(t){const i=t+uL,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):dL(tle,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},rle=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=t.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},ile=e=>({cache:ele(e.cacheSize),parseClassName:nle(e),sortModifiers:rle(e),...qae(e)}),sle=/\s+/,ole=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],a=e.trim().split(sle);let l="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:b}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let w=!!b,S=r(w?v.substring(0,b):v);if(!S){if(!w){l=d+(l.length>0?" "+l:l);continue}if(S=r(v),!S){l=d+(l.length>0?" "+l:l);continue}w=!1}const C=p.length===0?"":p.length===1?p[0]:s(p).join(":"),_=g?C+KA:C,k=_+S;if(o.indexOf(k)>-1)continue;o.push(k);const R=i(S,w);for(let N=0;N<R.length;++N){const T=R[N];o.push(_+T)}l=d+(l.length>0?" "+l:l)}return l},ale=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=cV(n))&&(i&&(i+=" "),i+=r);return i},cV=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=cV(e[r]))&&(n&&(n+=" "),n+=t);return n},lle=(e,...t)=>{let n,r,i,s;const o=l=>{const c=t.reduce((d,f)=>f(d),e());return n=ile(c),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const c=r(l);if(c)return c;const d=ole(l,n);return i(l,d),d};return s=o,(...l)=>s(ale(...l))},cle=[],ar=e=>{const t=n=>n[e]||cle;return t.isThemeGetter=!0,t},uV=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dV=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ule=/^\d+\/\d+$/,dle=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ple=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vd=e=>ule.test(e),gt=e=>!!e&&!Number.isNaN(Number(e)),zl=e=>!!e&&Number.isInteger(Number(e)),d_=e=>e.endsWith("%")&&gt(e.slice(0,-1)),_a=e=>dle.test(e),gle=()=>!0,vle=e=>fle.test(e)&&!hle.test(e),fV=()=>!1,yle=e=>ple.test(e),ble=e=>mle.test(e),xle=e=>!Ie(e)&&!je(e),wle=e=>ih(e,mV,fV),Ie=e=>uV.test(e),Jc=e=>ih(e,gV,vle),f_=e=>ih(e,Ale,gt),fL=e=>ih(e,hV,fV),Sle=e=>ih(e,pV,ble),Vy=e=>ih(e,vV,yle),je=e=>dV.test(e),_p=e=>sh(e,gV),Ele=e=>sh(e,Tle),hL=e=>sh(e,hV),_le=e=>sh(e,mV),Cle=e=>sh(e,pV),qy=e=>sh(e,vV,!0),ih=(e,t,n)=>{const r=uV.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},sh=(e,t,n=!1)=>{const r=dV.exec(e);return r?r[1]?t(r[1]):n:!1},hV=e=>e==="position"||e==="percentage",pV=e=>e==="image"||e==="url",mV=e=>e==="length"||e==="size"||e==="bg-size",gV=e=>e==="length",Ale=e=>e==="number",Tle=e=>e==="family-name",vV=e=>e==="shadow",Rle=()=>{const e=ar("color"),t=ar("font"),n=ar("text"),r=ar("font-weight"),i=ar("tracking"),s=ar("leading"),o=ar("breakpoint"),a=ar("container"),l=ar("spacing"),c=ar("radius"),d=ar("shadow"),f=ar("inset-shadow"),p=ar("text-shadow"),g=ar("drop-shadow"),v=ar("blur"),b=ar("perspective"),w=ar("aspect"),S=ar("ease"),C=ar("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...k(),je,Ie],N=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],M=()=>[je,Ie,l],O=()=>[Vd,"full","auto",...M()],L=()=>[zl,"none","subgrid",je,Ie],D=()=>["auto",{span:["full",zl,je,Ie]},zl,je,Ie],F=()=>[zl,"auto",je,Ie],G=()=>["auto","min","max","fr",je,Ie],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...M()],H=()=>[Vd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],B=()=>[e,je,Ie],K=()=>[...k(),hL,fL,{position:[je,Ie]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",_le,wle,{size:[je,Ie]}],Y=()=>[d_,_p,Jc],$=()=>["","none","full",c,je,Ie],J=()=>["",gt,_p,Jc],se=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[gt,d_,hL,fL],Z=()=>["","none",v,je,Ie],X=()=>["none",gt,je,Ie],fe=()=>["none",gt,je,Ie],me=()=>[gt,je,Ie],ne=()=>[Vd,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_a],breakpoint:[_a],color:[gle],container:[_a],"drop-shadow":[_a],ease:["in","out","in-out"],font:[xle],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_a],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_a],shadow:[_a],spacing:["px",gt],text:[_a],"text-shadow":[_a],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vd,Ie,je,w]}],container:["container"],columns:[{columns:[gt,Ie,je,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[zl,"auto",je,Ie]}],basis:[{basis:[Vd,"full","auto",a,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,Vd,"auto","initial","none",Ie]}],grow:[{grow:["",gt,je,Ie]}],shrink:[{shrink:["",gt,je,Ie]}],order:[{order:[zl,"first","last","none",je,Ie]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[a,"screen",...H()]}],"min-w":[{"min-w":[a,"screen","none",...H()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,_p,Jc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,f_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",d_,Ie]}],"font-family":[{font:[Ele,Ie,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,je,Ie]}],"line-clamp":[{"line-clamp":[gt,"none",je,f_]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",je,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",je,Jc]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[gt,"auto",je,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zl,je,Ie],radial:["",je,Ie],conic:[zl,je,Ie]},Cle,Sle]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...se(),"hidden","none"]}],"divide-style":[{divide:[...se(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,je,Ie]}],"outline-w":[{outline:["",gt,_p,Jc]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",d,qy,Vy]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",f,qy,Vy]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[gt,Jc]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",p,qy,Vy]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[gt,je,Ie]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[je,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,Ie]}],filter:[{filter:["","none",je,Ie]}],blur:[{blur:Z()}],brightness:[{brightness:[gt,je,Ie]}],contrast:[{contrast:[gt,je,Ie]}],"drop-shadow":[{"drop-shadow":["","none",g,qy,Vy]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",gt,je,Ie]}],"hue-rotate":[{"hue-rotate":[gt,je,Ie]}],invert:[{invert:["",gt,je,Ie]}],saturate:[{saturate:[gt,je,Ie]}],sepia:[{sepia:["",gt,je,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",je,Ie]}],"backdrop-blur":[{"backdrop-blur":Z()}],"backdrop-brightness":[{"backdrop-brightness":[gt,je,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[gt,je,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,je,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,je,Ie]}],"backdrop-invert":[{"backdrop-invert":["",gt,je,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[gt,je,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[gt,je,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,je,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",je,Ie]}],ease:[{ease:["linear","initial",S,je,Ie]}],delay:[{delay:[gt,je,Ie]}],animate:[{animate:["none",C,je,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,je,Ie]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[je,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,Ie]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[gt,_p,Jc,f_]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kle=lle(Rle);function ot(...e){return kle(Ir(e))}const Ple=Yx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ct=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?jae:"button";return E.jsx(o,{className:ot(Ple({variant:t,size:n,className:e})),ref:s,...i})});ct.displayName="Button";const tt=e=>typeof e=="string",Cp=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},pL=e=>e==null?"":""+e,Nle=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Mle=/###/g,mL=e=>e&&e.indexOf("###")>-1?e.replace(Mle,"."):e,gL=e=>!e||tt(e),tm=(e,t,n)=>{const r=tt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(gL(e))return{};const s=mL(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return gL(e)?{}:{obj:e,k:mL(r[i])}},vL=(e,t,n)=>{const{obj:r,k:i}=tm(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],o=t.slice(0,t.length-1),a=tm(e,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=tm(e,o,Object),a?.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},Ole=(e,t,n,r)=>{const{obj:i,k:s}=tm(e,t,Object);i[s]=i[s]||[],i[s].push(n)},_b=(e,t)=>{const{obj:n,k:r}=tm(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Dle=(e,t,n)=>{const r=_b(e,n);return r!==void 0?r:_b(t,n)},yV=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?tt(e[r])||e[r]instanceof String||tt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):yV(e[r],t[r],n):e[r]=t[r]);return e},qd=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ile={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jle=e=>tt(e)?e.replace(/[&<>"'\/]/g,t=>Ile[t]):e;class Lle{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const zle=[" ",",","?","!",";"],Fle=new Lle(20),$le=(e,t,n)=>{t=t||"",n=n||"";const r=zle.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=Fle.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(e);if(!s){const o=e.indexOf(n);o>0&&!i.test(e.substring(0,o))&&(s=!0)}return s},YA=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},bm=e=>e?.replace("_","-"),Hle={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Cb{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Hle,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(tt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Cb(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Cb(this.logger,t)}}var jo=new Cb;let Xx=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[t,...n])})}};class yL extends Xx{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):tt(r)&&s?a.push(...r.split(s)):a.push(r)));const l=_b(this.data,a);return!l&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!tt(r)?l:YA(this.data?.[t]?.[n],r,s)}addResource(t,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),vL(this.data,a,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const s in r)(tt(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=_b(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?yV(l,r,s):l={...l,...r},vL(this.data,a,l),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var bV={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{t=this.processors[s]?.process(t,n,r,i)??t}),t}};const xV=Symbol("i18next/PATH_KEY");function Ble(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>(n?.revoke?.(),i===xV?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function XA(e,t){const{[xV]:n}=e(Ble());return n.join(t?.keySeparator??".")}const bL={},h_=e=>!tt(e)&&typeof e!="boolean"&&typeof e!="number";class Ab extends Xx{constructor(t,n={}){super(),Nle(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);if(i?.res===void 0)return!1;const s=h_(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!$le(t,r,i);if(o&&!a){const l=t.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:t,namespaces:tt(s)?[s]:s};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),t=c.join(i)}return{key:t,namespaces:tt(s)?[s]:s}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=XA(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(t[t.length-1],i),c=l[l.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return p?s?{res:`${c}${d}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${d}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a;const g=this.resolve(t,i);let v=g?.res;const b=g?.usedKey||a,w=g?.exactUsedKey||a,S=["[object Number]","[object Function]","[object RegExp]"],C=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,k=i.count!==void 0&&!tt(i.count),R=Ab.hasDefaultValue(i),N=k?this.pluralResolver.getSuffix(f,i.count,i):"",T=i.ordinal&&k?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",M=k&&!i.ordinal&&i.count===0,O=M&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${N}`]||i[`defaultValue${T}`]||i.defaultValue;let L=v;_&&!v&&R&&(L=O);const D=h_(L),F=Object.prototype.toString.apply(L);if(_&&L&&D&&S.indexOf(F)<0&&!(tt(C)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const G=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,L,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(g.res=G,g.usedParams=this.getUsedParamsDetails(i),g):G}if(o){const G=Array.isArray(L),z=G?[]:{},V=G?w:b;for(const j in L)if(Object.prototype.hasOwnProperty.call(L,j)){const H=`${V}${o}${j}`;R&&!v?z[j]=this.translate(H,{...i,defaultValue:h_(O)?O[j]:void 0,joinArrays:!1,ns:l}):z[j]=this.translate(H,{...i,joinArrays:!1,ns:l}),z[j]===H&&(z[j]=L[j])}v=z}}else if(_&&tt(C)&&Array.isArray(v))v=v.join(C),v&&(v=this.extendTranslation(v,t,i,r));else{let G=!1,z=!1;!this.isValidLookup(v)&&R&&(G=!0,v=O),this.isValidLookup(v)||(z=!0,v=a);const j=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:v,H=R&&O!==v&&this.options.updateMissing;if(z||G||H){if(this.logger.log(H?"updateKey":"missingKey",f,c,a,H?O:v),o){const q=this.resolve(a,{...i,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let q=0;q<K.length;q++)B.push(K[q]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(i.lng||this.language):B.push(i.lng||this.language);const U=(q,Y,$)=>{const J=R&&$!==v?$:j;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,Y,J,H,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(q,c,Y,J,H,i),this.emit("missingKey",q,c,Y,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?B.forEach(q=>{const Y=this.pluralResolver.getSuffixes(q,i);M&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach($=>{U([q],a+$,i[`defaultValue${$}`]||O)})}):U(B,a,O))}v=this.extendTranslation(v,t,i,g,r),z&&v===a&&this.options.appendNamespaceToMissingKey&&(v=`${c}${d}${a}`),(z||G)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${d}${a}`:a,G?v:void 0,i))}return s?(g.res=v,g.usedParams=this.getUsedParamsDetails(i),g):v}extendTranslation(t,n,r,i,s){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=tt(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const f=t.match(this.interpolator.nestingRegexp);c=f&&f.length}let d=r.replace&&!tt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),t=this.interpolator.interpolate(t,d,r.lng||this.language||i.usedLng,r),l){const f=t.match(this.interpolator.nestingRegexp),p=f&&f.length;c<p&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>s?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=tt(o)?[o]:o;return t!=null&&a?.length&&r.applyPostProcessor!==!1&&(t=bV.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,s,o,a;return tt(t)&&(t=[t]),t.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!tt(n.count),g=p&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(tt(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(w=>{this.isValidLookup(r)||(a=w,!bL[`${b[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(bL[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(S=>{if(this.isValidLookup(r))return;o=S;const C=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,d,S,w,n);else{let k;p&&(k=this.pluralResolver.getSuffix(S,n.count,n));const R=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&k.indexOf(N)===0&&C.push(d+k.replace(N,this.options.pluralSeparator)),C.push(d+k),g&&C.push(d+R)),v){const T=`${d}${this.options.contextSeparator||"_"}${n.context}`;C.push(T),p&&(n.ordinal&&k.indexOf(N)===0&&C.push(T+k.replace(N,this.options.pluralSeparator)),C.push(T+k),g&&C.push(T+R))}}let _;for(;_=C.pop();)this.isValidLookup(r)||(s=_,r=this.getResource(S,w,_,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!tt(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class xL{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jo.create("languageUtils")}getScriptPartFromCode(t){if(t=bm(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=bm(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(tt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),tt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return tt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):tt(t)&&s(this.formatLanguageCode(t)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const wL={zero:0,one:1,two:2,few:3,many:4,other:5},SL={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ule{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=jo.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=bm(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),SL;if(!t.match(/-|_/))return SL;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>wL[i]-wL[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const EL=(e,t,n,r=".",i=!0)=>{let s=Dle(e,t,n);return!s&&i&&tt(n)&&(s=YA(e,n,r),s===void 0&&(s=YA(t,n,r))),s},p_=e=>e.replace(/\$/g,"$$$$");class _L{constructor(t={}){this.logger=jo.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:S,alwaysFormat:C}=t.interpolation;this.escape=n!==void 0?n:jle,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?qd(s):o||"{{",this.suffix=a?qd(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?qd(p):g||qd("$t("),this.nestingSuffix=v?qd(v):b||qd(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=S||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const S=EL(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,r,{...i,...n,interpolationkey:g}):S}const v=g.split(this.formatSeparator),b=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(EL(n,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>p_(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?p_(this.escape(g)):p_(g)}].forEach(g=>{for(a=0;s=g.regex.exec(t);){const v=s[1].trim();if(o=c(v),o===void 0)if(typeof d=="function"){const w=d(t,s,i);o=tt(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),o="";else!tt(o)&&!this.useRawValueToEscape&&(o=pL(o));const b=g.safeValue(o);if(t=t.replace(s[0],b),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,s,o;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,o);const g=p.match(/'/g),v=p.match(/"/g);((g?.length??0)%2===0&&!v||v.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,b),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(t);){let l=[];o={...r},o=o.replace&&!tt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===t&&!tt(s))return s;tt(s)||(s=pL(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),l.length&&(s=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const Vle=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},CL=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=t[o];return a||(a=e(bm(r),i),t[o]=a),a(n)}},qle=e=>(t,n,r)=>e(bm(n),r)(t);class Wle{constructor(t={}){this.logger=jo.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?CL:qle;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=CL(n)}format(t,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:c,formatOptions:d}=Vle(l);if(this.formats[c]){let f=a;try{const p=i?.formatParams?.[i.interpolationkey]||{},g=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[c](a,g,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},t)}}const Gle=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Kle extends Xx{constructor(t,n,r,i={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(t,n,r,i){const s={},o={},a={},l={};return t.forEach(c=>{let d=!0;n.forEach(f=>{const p=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(t,n,r){const i=t.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(l=>{Ole(l.loaded,[s],o),Gle(l,t),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(t,n,r,i=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,o)},s);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(t,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(t,n,a)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();tt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),tt(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,i,s,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(t,n,r,i,l):d=c(t,n,r,i),d&&typeof d.then=="function"?d.then(f=>a(null,f)).catch(a):a(null,d)}catch(d){a(d)}else c(t,n,r,i,a,l)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const m_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),tt(e[1])&&(t.defaultValue=e[1]),tt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),AL=e=>(tt(e.ns)&&(e.ns=[e.ns]),tt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),tt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Wy=()=>{},Yle=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class nm extends Xx{constructor(t={},n){if(super(),this.options=AL(t),this.services={},this.logger=jo,this.modules={external:[]},Yle(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(tt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=m_();this.options={...r,...this.options,...AL(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?jo.init(i(this.modules.logger),this.options):jo.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Wle;const d=new xL(this.options);this.store=new yL(this.options.resources,this.options);const f=this.services;f.logger=jo,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Ule(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new _L(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Kle(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(g,...v)=>{this.emit(g,...v)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Ab(this.services,this.options),this.translator.on("*",(g,...v)=>{this.emit(g,...v)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Wy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...d)=>this.store[c](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...d)=>(this.store[c](...d),this)});const a=Cp(),l=()=>{const c=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(d,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(t,n=Wy){let r=n;const i=tt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload?.forEach?.(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=Cp();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Wy),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&bV.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Cp();this.emit("languageChanging",t);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===t&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{!t&&!a&&this.services.languageDetector&&(a=[]);const l=tt(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(tt(a)?[a]:a);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,d=>{s(d,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=XA(f,{...this.options,...o})),`${l.keyPrefix}${c}${f}`)):(typeof s=="function"&&(s=XA(s,{...this.options,...o})),d=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s),this.t(d,l)};return tt(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}loadNamespaces(t,n){const r=Cp();return this.options.ns?(tt(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Cp();tt(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new xL(m_());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new nm(t,n);return r.createInstance=nm.createInstance,r}cloneInstance(t={},n=Wy){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new nm(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((d,f)=>(d[f]={...l[c][f]},d),l[c]),l),{});s.store=new yL(a,i),s.services.resourceStore=s.store}if(t.interpolation){const l={...m_().interpolation,...this.options.interpolation,...t.interpolation},c={...i,interpolation:l};s.services.interpolator=new _L(c)}return s.translator=new Ab(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Yr=nm.createInstance();Yr.createInstance;Yr.dir;Yr.init;Yr.loadResources;Yr.reloadResources;Yr.use;Yr.changeLanguage;Yr.getFixedT;const ws=Yr.t;Yr.exists;Yr.setDefaultNamespace;Yr.hasLoadedNamespace;Yr.loadNamespaces;Yr.loadLanguages;const Xle=(e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);_u(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},TL={},wV=(e,t,n,r)=>{_u(n)&&TL[n]||(_u(n)&&(TL[n]=new Date),Xle(e,t,n,r))},SV=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},ZA=(e,t,n)=>{e.loadNamespaces(t,SV(e,n))},RL=(e,t,n,r)=>{if(_u(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return ZA(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,SV(e,r))},Zle=(e,t,n={})=>!t.languages||!t.languages.length?(wV(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),_u=e=>typeof e=="string",Qle=e=>typeof e=="object"&&e!==null,Jle=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ece={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tce=e=>ece[e],nce=e=>e.replace(Jle,tce);let QA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:nce,transDefaultProps:void 0};const rce=(e={})=>{QA={...QA,...e}},ice=()=>QA;let EV;const sce=e=>{EV=e},oce=()=>EV,ace={type:"3rdParty",init(e){rce(e.options.react),sce(e)}},lce=x.createContext();class cce{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var g_={exports:{}},v_={};var kL;function uce(){if(kL)return v_;kL=1;var e=gc();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(f,p){var g=p(),v=r({inst:{value:g,getSnapshot:p}}),b=v[0].inst,w=v[1];return s(function(){b.value=g,b.getSnapshot=p,l(b)&&w({inst:b})},[f,g,p]),i(function(){return l(b)&&w({inst:b}),f(function(){l(b)&&w({inst:b})})},[f]),o(g),g}function l(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function c(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return v_.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,v_}var PL;function _V(){return PL||(PL=1,g_.exports=uce()),g_.exports}var CV=_V();const dce=(e,t)=>_u(t)?t:Qle(t)&&_u(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,fce={t:dce,ready:!1},hce=()=>()=>{},lo=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:i}=x.useContext(lce)||{},s=n||r||oce();s&&!s.reportNamespaces&&(s.reportNamespaces=new cce),s||wV(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>({...ice(),...s?.options?.react,...t}),[s,t]),{useSuspense:a,keyPrefix:l}=o,c=i||s?.options?.defaultNS,d=_u(c)?[c]:c||["translation"],f=x.useMemo(()=>d,d);s?.reportNamespaces?.addUsedNamespaces?.(f);const p=x.useRef(0),g=x.useCallback(O=>{if(!s)return hce;const{bindI18n:L,bindI18nStore:D}=o,F=()=>{p.current+=1,O()};return L&&s.on(L,F),D&&s.store.on(D,F),()=>{L&&L.split(" ").forEach(G=>s.off(G,F)),D&&D.split(" ").forEach(G=>s.store.off(G,F))}},[s,o]),v=x.useRef(),b=x.useCallback(()=>{if(!s)return fce;const O=!!(s.isInitialized||s.initializedStoreOnce)&&f.every(V=>Zle(V,s,o)),L=t.lng||s.language,D=p.current,F=v.current;if(F&&F.ready===O&&F.lng===L&&F.keyPrefix===l&&F.revision===D)return F;const z={t:s.getFixedT(L,o.nsMode==="fallback"?f:f[0],l),ready:O,lng:L,keyPrefix:l,revision:D};return v.current=z,z},[s,f,l,o,t.lng]),[w,S]=x.useState(0),{t:C,ready:_}=CV.useSyncExternalStore(g,b,b);x.useEffect(()=>{if(s&&!_&&!a){const O=()=>S(L=>L+1);t.lng?RL(s,t.lng,f,O):ZA(s,f,O)}},[s,t.lng,f,_,a,w]);const k=s||{},R=x.useRef(null),N=x.useRef(),T=O=>{const L=Object.getOwnPropertyDescriptors(O);L.__original&&delete L.__original;const D=Object.create(Object.getPrototypeOf(O),L);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:O,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},M=x.useMemo(()=>{const O=k,L=O?.language;let D=O;O&&(R.current&&R.current.__original===O?N.current!==L?(D=T(O),R.current=D,N.current=L):D=R.current:(D=T(O),R.current=D,N.current=L));const F=[C,D,_];return F.t=C,F.i18n=D,F.ready=_,F},[C,k,_,k.resolvedLanguage,k.language,k.languages]);if(s&&a&&!_)throw new Promise(O=>{const L=()=>O();t.lng?RL(s,t.lng,f,L):ZA(s,f,L)});return M};function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function pce(e,t){const n=x.createContext(t),r=s=>{const{children:o,...a}=s,l=x.useMemo(()=>a,Object.values(a));return E.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(s){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Ds(e,t=[]){let n=[];function r(s,o){const a=x.createContext(o),l=n.length;n=[...n,o];const c=f=>{const{scope:p,children:g,...v}=f,b=p?.[e]?.[l]||a,w=x.useMemo(()=>v,Object.values(v));return E.jsx(b.Provider,{value:w,children:g})};c.displayName=s+"Provider";function d(f,p){const g=p?.[e]?.[l]||a,v=x.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=a?.[e]||s;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,mce(i,...t)]}function mce(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var tr=globalThis?.document?x.useLayoutEffect:()=>{},gce=Vx[" useInsertionEffect ".trim().toString()]||tr;function sc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=vce({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=x.useCallback(d=>{if(a){const f=yce(d)?d(e):d;f!==e&&o.current?.(f)}else s(d)},[a,e,s,o]);return[l,c]}function vce({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),i=x.useRef(n),s=x.useRef(t);return gce(()=>{s.current=t},[t]),x.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function yce(e){return typeof e=="function"}function bce(e){const t=xce(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Sce);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function xce(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=_ce(i),a=Ece(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wce=Symbol("radix.slottable");function Sce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wce}function Ece(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function _ce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Cce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ace=Cce.reduce((e,t)=>{const n=bce(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function NL(e){const t=Tce(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(kce);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Tce(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=Nce(i),a=Pce(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rce=Symbol("radix.slottable");function kce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rce}function Pce(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Nce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Uk(e){const t=e+"CollectionProvider",[n,r]=Ds(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:w,children:S}=b,C=ie.useRef(null),_=ie.useRef(new Map).current;return E.jsx(i,{scope:w,itemMap:_,collectionRef:C,children:S})};o.displayName=t;const a=e+"CollectionSlot",l=NL(a),c=ie.forwardRef((b,w)=>{const{scope:S,children:C}=b,_=s(a,S),k=pt(w,_.collectionRef);return E.jsx(l,{ref:k,children:C})});c.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=NL(d),g=ie.forwardRef((b,w)=>{const{scope:S,children:C,..._}=b,k=ie.useRef(null),R=pt(w,k),N=s(d,S);return ie.useEffect(()=>(N.itemMap.set(k,{ref:k,..._}),()=>void N.itemMap.delete(k))),E.jsx(p,{[f]:"",ref:R,children:C})});g.displayName=d;function v(b){const w=s(e+"CollectionConsumer",b);return ie.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const _=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,T)=>_.indexOf(N.ref.current)-_.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},v,r]}var Mce=x.createContext(void 0);function yg(e){const t=x.useContext(Mce);return e||t||"ltr"}function Oce(e){const t=Dce(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(jce);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Dce(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=zce(i),a=Lce(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ice=Symbol("radix.slottable");function jce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ice}function Lce(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function zce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AV=Fce.reduce((e,t)=>{const n=Oce(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $ce(e,t){e&&nl.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>t.current?.(...n),[])}function Hce(e,t=globalThis?.document){const n=xr(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Bce="DismissableLayer",JA="dismissableLayer.update",Uce="dismissableLayer.pointerDownOutside",Vce="dismissableLayer.focusOutside",ML,TV=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bg=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=x.useContext(TV),[d,f]=x.useState(null),p=d?.ownerDocument??globalThis?.document,[,g]=x.useState({}),v=pt(t,T=>f(T)),b=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=b.indexOf(w),C=d?b.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,k=C>=S,R=Gce(T=>{const M=T.target,O=[...c.branches].some(L=>L.contains(M));!k||O||(i?.(T),o?.(T),T.defaultPrevented||a?.())},p),N=Kce(T=>{const M=T.target;[...c.branches].some(L=>L.contains(M))||(s?.(T),o?.(T),T.defaultPrevented||a?.())},p);return Hce(T=>{C===c.layers.size-1&&(r?.(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),x.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ML=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),OL(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ML)}},[d,p,n,c]),x.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),OL())},[d,c]),x.useEffect(()=>{const T=()=>g({});return document.addEventListener(JA,T),()=>document.removeEventListener(JA,T)},[]),E.jsx(AV.div,{...l,ref:v,style:{pointerEvents:_?k?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,R.onPointerDownCapture)})});bg.displayName=Bce;var qce="DismissableLayerBranch",Wce=x.forwardRef((e,t)=>{const n=x.useContext(TV),r=x.useRef(null),i=pt(t,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(AV.div,{...e,ref:i})});Wce.displayName=qce;function Gce(e,t=globalThis?.document){const n=xr(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){RV(Uce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Kce(e,t=globalThis?.document){const n=xr(e),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&RV(Vce,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OL(){const e=new CustomEvent(JA);document.dispatchEvent(e)}function RV(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$ce(i,s):i.dispatchEvent(s)}var y_=0;function Zx(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??DL()),document.body.insertAdjacentElement("beforeend",e[1]??DL()),y_++,()=>{y_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),y_--}},[])}function DL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Yce(e){const t=Xce(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Qce);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Xce(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=eue(i),a=Jce(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zce=Symbol("radix.slottable");function Qce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zce}function Jce(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function eue(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nue=tue.reduce((e,t)=>{const n=Yce(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),b_="focusScope.autoFocusOnMount",x_="focusScope.autoFocusOnUnmount",IL={bubbles:!1,cancelable:!0},rue="FocusScope",xg=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=x.useState(null),c=xr(i),d=xr(s),f=x.useRef(null),p=pt(t,b=>l(b)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let b=function(_){if(g.paused||!a)return;const k=_.target;a.contains(k)?f.current=k:Vl(f.current,{select:!0})},w=function(_){if(g.paused||!a)return;const k=_.relatedTarget;k!==null&&(a.contains(k)||Vl(f.current,{select:!0}))},S=function(_){if(document.activeElement===document.body)for(const R of _)R.removedNodes.length>0&&Vl(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const C=new MutationObserver(S);return a&&C.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),C.disconnect()}}},[r,a,g.paused]),x.useEffect(()=>{if(a){LL.add(g);const b=document.activeElement;if(!a.contains(b)){const S=new CustomEvent(b_,IL);a.addEventListener(b_,c),a.dispatchEvent(S),S.defaultPrevented||(iue(cue(kV(a)),{select:!0}),document.activeElement===b&&Vl(a))}return()=>{a.removeEventListener(b_,c),setTimeout(()=>{const S=new CustomEvent(x_,IL);a.addEventListener(x_,d),a.dispatchEvent(S),S.defaultPrevented||Vl(b??document.body,{select:!0}),a.removeEventListener(x_,d),LL.remove(g)},0)}}},[a,c,d,g]);const v=x.useCallback(b=>{if(!n&&!r||g.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,S=document.activeElement;if(w&&S){const C=b.currentTarget,[_,k]=sue(C);_&&k?!b.shiftKey&&S===k?(b.preventDefault(),n&&Vl(_,{select:!0})):b.shiftKey&&S===_&&(b.preventDefault(),n&&Vl(k,{select:!0})):S===C&&b.preventDefault()}},[n,r,g.paused]);return E.jsx(nue.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});xg.displayName=rue;function iue(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Vl(r,{select:t}),document.activeElement!==n)return}function sue(e){const t=kV(e),n=jL(t,e),r=jL(t.reverse(),e);return[n,r]}function kV(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jL(e,t){for(const n of e)if(!oue(n,{upTo:t}))return n}function oue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aue(e){return e instanceof HTMLInputElement&&"select"in e}function Vl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aue(e)&&t&&e.select()}}var LL=lue();function lue(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=zL(e,t),e.unshift(t)},remove(t){e=zL(e,t),e[0]?.resume()}}}function zL(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cue(e){return e.filter(t=>t.tagName!=="A")}var uue=Vx[" useId ".trim().toString()]||(()=>{}),due=0;function $o(e){const[t,n]=x.useState(uue());return tr(()=>{n(r=>r??String(due++))},[e]),t?`radix-${t}`:""}const fue=["top","right","bottom","left"],oc=Math.min,Ki=Math.max,Tb=Math.round,Gy=Math.floor,Ho=e=>({x:e,y:e}),hue={left:"right",right:"left",bottom:"top",top:"bottom"},pue={start:"end",end:"start"};function eT(e,t,n){return Ki(e,oc(t,n))}function Ua(e,t){return typeof e=="function"?e(t):e}function Va(e){return e.split("-")[0]}function oh(e){return e.split("-")[1]}function Vk(e){return e==="x"?"y":"x"}function qk(e){return e==="y"?"height":"width"}const mue=new Set(["top","bottom"]);function Lo(e){return mue.has(Va(e))?"y":"x"}function Wk(e){return Vk(Lo(e))}function gue(e,t,n){n===void 0&&(n=!1);const r=oh(e),i=Wk(e),s=qk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Rb(o)),[o,Rb(o)]}function vue(e){const t=Rb(e);return[tT(e),t,tT(t)]}function tT(e){return e.replace(/start|end/g,t=>pue[t])}const FL=["left","right"],$L=["right","left"],yue=["top","bottom"],bue=["bottom","top"];function xue(e,t,n){switch(e){case"top":case"bottom":return n?t?$L:FL:t?FL:$L;case"left":case"right":return t?yue:bue;default:return[]}}function wue(e,t,n,r){const i=oh(e);let s=xue(Va(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(tT)))),s}function Rb(e){return e.replace(/left|right|bottom|top/g,t=>hue[t])}function Sue(e){return{top:0,right:0,bottom:0,left:0,...e}}function PV(e){return typeof e!="number"?Sue(e):{top:e,right:e,bottom:e,left:e}}function kb(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function HL(e,t,n){let{reference:r,floating:i}=e;const s=Lo(t),o=Wk(t),a=qk(o),l=Va(t),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-i.width,y:f};break;default:g={x:r.x,y:r.y}}switch(oh(t)){case"start":g[o]-=p*(n&&c?-1:1);break;case"end":g[o]+=p*(n&&c?-1:1);break}return g}const Eue=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=HL(c,r,l),p=r,g={},v=0;for(let b=0;b<a.length;b++){const{name:w,fn:S}=a[b],{x:C,y:_,data:k,reset:R}=await S({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:e,floating:t}});d=C??d,f=_??f,g={...g,[w]:{...g[w],...k}},R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:d,y:f}=HL(c,p,l)),b=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:g}};async function xm(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Ua(t,e),v=PV(g),w=a[p?f==="floating"?"reference":"floating":f],S=kb(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),C=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),k=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},R=kb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:_,strategy:l}):C);return{top:(S.top-R.top+v.top)/k.y,bottom:(R.bottom-S.bottom+v.bottom)/k.y,left:(S.left-R.left+v.left)/k.x,right:(R.right-S.right+v.right)/k.x}}const _ue=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=Ua(e,t)||{};if(c==null)return{};const f=PV(d),p={x:n,y:r},g=Wk(i),v=qk(g),b=await o.getDimensions(c),w=g==="y",S=w?"top":"left",C=w?"bottom":"right",_=w?"clientHeight":"clientWidth",k=s.reference[v]+s.reference[g]-p[g]-s.floating[v],R=p[g]-s.reference[g],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=N?N[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(N)))&&(T=a.floating[_]||s.floating[v]);const M=k/2-R/2,O=T/2-b[v]/2-1,L=oc(f[S],O),D=oc(f[C],O),F=L,G=T-b[v]-D,z=T/2-b[v]/2+M,V=eT(F,z,G),j=!l.arrow&&oh(i)!=null&&z!==V&&s.reference[v]/2-(z<F?L:D)-b[v]/2<0,H=j?z<F?z-F:z-G:0;return{[g]:p[g]+H,data:{[g]:V,centerOffset:z-V-H,...j&&{alignmentOffset:H}},reset:j}}}),Cue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:b=!0,...w}=Ua(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const S=Va(i),C=Lo(a),_=Va(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=p||(_||!b?[Rb(a)]:vue(a)),N=v!=="none";!p&&N&&R.push(...wue(a,b,v,k));const T=[a,...R],M=await xm(t,w),O=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&O.push(M[S]),f){const z=gue(i,o,k);O.push(M[z[0]],M[z[1]])}if(L=[...L,{placement:i,overflows:O}],!O.every(z=>z<=0)){var D,F;const z=(((D=s.flip)==null?void 0:D.index)||0)+1,V=T[z];if(V&&(!(f==="alignment"?C!==Lo(V):!1)||L.every(B=>Lo(B.placement)===C?B.overflows[0]>0:!0)))return{data:{index:z,overflows:L},reset:{placement:V}};let j=(F=L.filter(H=>H.overflows[0]<=0).sort((H,B)=>H.overflows[1]-B.overflows[1])[0])==null?void 0:F.placement;if(!j)switch(g){case"bestFit":{var G;const H=(G=L.filter(B=>{if(N){const K=Lo(B.placement);return K===C||K==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(K=>K>0).reduce((K,U)=>K+U,0)]).sort((B,K)=>B[1]-K[1])[0])==null?void 0:G[0];H&&(j=H);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function BL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UL(e){return fue.some(t=>e[t]>=0)}const Aue=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ua(e,t);switch(r){case"referenceHidden":{const s=await xm(t,{...i,elementContext:"reference"}),o=BL(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UL(o)}}}case"escaped":{const s=await xm(t,{...i,altBoundary:!0}),o=BL(s,n.floating);return{data:{escapedOffsets:o,escaped:UL(o)}}}default:return{}}}}},NV=new Set(["left","top"]);async function Tue(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Va(n),a=oh(n),l=Lo(n)==="y",c=NV.has(o)?-1:1,d=s&&l?-1:1,f=Ua(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const Rue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Tue(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},kue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:S,y:C}=w;return{x:S,y:C}}},...l}=Ua(e,t),c={x:n,y:r},d=await xm(t,l),f=Lo(Va(i)),p=Vk(f);let g=c[p],v=c[f];if(s){const w=p==="y"?"top":"left",S=p==="y"?"bottom":"right",C=g+d[w],_=g-d[S];g=eT(C,g,_)}if(o){const w=f==="y"?"top":"left",S=f==="y"?"bottom":"right",C=v+d[w],_=v-d[S];v=eT(C,v,_)}const b=a.fn({...t,[p]:g,[f]:v});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[p]:s,[f]:o}}}}}},Pue=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ua(e,t),d={x:n,y:r},f=Lo(i),p=Vk(f);let g=d[p],v=d[f];const b=Ua(a,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const _=p==="y"?"height":"width",k=s.reference[p]-s.floating[_]+w.mainAxis,R=s.reference[p]+s.reference[_]-w.mainAxis;g<k?g=k:g>R&&(g=R)}if(c){var S,C;const _=p==="y"?"width":"height",k=NV.has(Va(i)),R=s.reference[f]-s.floating[_]+(k&&((S=o.offset)==null?void 0:S[f])||0)+(k?0:w.crossAxis),N=s.reference[f]+s.reference[_]+(k?0:((C=o.offset)==null?void 0:C[f])||0)-(k?w.crossAxis:0);v<R?v=R:v>N&&(v=N)}return{[p]:g,[f]:v}}}},Nue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:l=()=>{},...c}=Ua(e,t),d=await xm(t,c),f=Va(i),p=oh(i),g=Lo(i)==="y",{width:v,height:b}=s.floating;let w,S;f==="top"||f==="bottom"?(w=f,S=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=f,w=p==="end"?"top":"bottom");const C=b-d.top-d.bottom,_=v-d.left-d.right,k=oc(b-d[w],C),R=oc(v-d[S],_),N=!t.middlewareData.shift;let T=k,M=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=C),N&&!p){const L=Ki(d.left,0),D=Ki(d.right,0),F=Ki(d.top,0),G=Ki(d.bottom,0);g?M=v-2*(L!==0||D!==0?L+D:Ki(d.left,d.right)):T=b-2*(F!==0||G!==0?F+G:Ki(d.top,d.bottom))}await l({...t,availableWidth:M,availableHeight:T});const O=await o.getDimensions(a.floating);return v!==O.width||b!==O.height?{reset:{rects:!0}}:{}}}};function Qx(){return typeof window<"u"}function ah(e){return MV(e)?(e.nodeName||"").toLowerCase():"#document"}function Ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xo(e){var t;return(t=(MV(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function MV(e){return Qx()?e instanceof Node||e instanceof Ji(e).Node:!1}function ro(e){return Qx()?e instanceof Element||e instanceof Ji(e).Element:!1}function qo(e){return Qx()?e instanceof HTMLElement||e instanceof Ji(e).HTMLElement:!1}function VL(e){return!Qx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ji(e).ShadowRoot}const Mue=new Set(["inline","contents"]);function wg(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=io(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Mue.has(i)}const Oue=new Set(["table","td","th"]);function Due(e){return Oue.has(ah(e))}const Iue=[":popover-open",":modal"];function Jx(e){return Iue.some(t=>{try{return e.matches(t)}catch{return!1}})}const jue=["transform","translate","scale","rotate","perspective"],Lue=["transform","translate","scale","rotate","perspective","filter"],zue=["paint","layout","strict","content"];function Gk(e){const t=Kk(),n=ro(e)?io(e):e;return jue.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Lue.some(r=>(n.willChange||"").includes(r))||zue.some(r=>(n.contain||"").includes(r))}function Fue(e){let t=ac(e);for(;qo(t)&&!Pf(t);){if(Gk(t))return t;if(Jx(t))return null;t=ac(t)}return null}function Kk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $ue=new Set(["html","body","#document"]);function Pf(e){return $ue.has(ah(e))}function io(e){return Ji(e).getComputedStyle(e)}function ew(e){return ro(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ac(e){if(ah(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VL(e)&&e.host||Xo(e);return VL(t)?t.host:t}function OV(e){const t=ac(e);return Pf(t)?e.ownerDocument?e.ownerDocument.body:e.body:qo(t)&&wg(t)?t:OV(t)}function wm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=OV(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ji(i);if(s){const a=nT(o);return t.concat(o,o.visualViewport||[],wg(i)?i:[],a&&n?wm(a):[])}return t.concat(i,wm(i,[],n))}function nT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DV(e){const t=io(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=qo(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Tb(n)!==s||Tb(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Yk(e){return ro(e)?e:e.contextElement}function yf(e){const t=Yk(e);if(!qo(t))return Ho(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=DV(t);let o=(s?Tb(n.width):n.width)/r,a=(s?Tb(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Hue=Ho(0);function IV(e){const t=Ji(e);return!Kk()||!t.visualViewport?Hue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bue(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ji(e)?!1:t}function Cu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Yk(e);let o=Ho(1);t&&(r?ro(r)&&(o=yf(r)):o=yf(e));const a=Bue(s,n,r)?IV(s):Ho(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=Ji(s),g=r&&ro(r)?Ji(r):r;let v=p,b=nT(v);for(;b&&r&&g!==v;){const w=yf(b),S=b.getBoundingClientRect(),C=io(b),_=S.left+(b.clientLeft+parseFloat(C.paddingLeft))*w.x,k=S.top+(b.clientTop+parseFloat(C.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,f*=w.y,l+=_,c+=k,v=Ji(b),b=nT(v)}}return kb({width:d,height:f,x:l,y:c})}function tw(e,t){const n=ew(e).scrollLeft;return t?t.left+n:Cu(Xo(e)).left+n}function jV(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-tw(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function Uue(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Xo(r),a=t?Jx(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ho(1);const d=Ho(0),f=qo(r);if((f||!f&&!s)&&((ah(r)!=="body"||wg(o))&&(l=ew(r)),qo(r))){const g=Cu(r);c=yf(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!f&&!s?jV(o,l):Ho(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function Vue(e){return Array.from(e.getClientRects())}function que(e){const t=Xo(e),n=ew(e),r=e.ownerDocument.body,i=Ki(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ki(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tw(e);const a=-n.scrollTop;return io(r).direction==="rtl"&&(o+=Ki(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const qL=25;function Wue(e,t){const n=Ji(e),r=Xo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const d=Kk();(!d||d&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=tw(r);if(c<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-f.clientWidth-g);v<=qL&&(s-=v)}else c<=qL&&(s+=c);return{width:s,height:o,x:a,y:l}}const Gue=new Set(["absolute","fixed"]);function Kue(e,t){const n=Cu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=qo(e)?yf(e):Ho(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function WL(e,t,n){let r;if(t==="viewport")r=Wue(e,n);else if(t==="document")r=que(Xo(e));else if(ro(t))r=Kue(t,n);else{const i=IV(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return kb(r)}function LV(e,t){const n=ac(e);return n===t||!ro(n)||Pf(n)?!1:io(n).position==="fixed"||LV(n,t)}function Yue(e,t){const n=t.get(e);if(n)return n;let r=wm(e,[],!1).filter(a=>ro(a)&&ah(a)!=="body"),i=null;const s=io(e).position==="fixed";let o=s?ac(e):e;for(;ro(o)&&!Pf(o);){const a=io(o),l=Gk(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&Gue.has(i.position)||wg(o)&&!l&&LV(e,o))?r=r.filter(d=>d!==o):i=a,o=ac(o)}return t.set(e,r),r}function Xue(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Jx(t)?[]:Yue(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=WL(t,d,i);return c.top=Ki(f.top,c.top),c.right=oc(f.right,c.right),c.bottom=oc(f.bottom,c.bottom),c.left=Ki(f.left,c.left),c},WL(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Zue(e){const{width:t,height:n}=DV(e);return{width:t,height:n}}function Que(e,t,n){const r=qo(t),i=Xo(t),s=n==="fixed",o=Cu(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Ho(0);function c(){l.x=tw(i)}if(r||!r&&!s)if((ah(t)!=="body"||wg(i))&&(a=ew(t)),r){const g=Cu(t,!0,s,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?jV(i,a):Ho(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function w_(e){return io(e).position==="static"}function GL(e,t){if(!qo(e)||io(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xo(e)===n&&(n=n.ownerDocument.body),n}function zV(e,t){const n=Ji(e);if(Jx(e))return n;if(!qo(e)){let i=ac(e);for(;i&&!Pf(i);){if(ro(i)&&!w_(i))return i;i=ac(i)}return n}let r=GL(e,t);for(;r&&Due(r)&&w_(r);)r=GL(r,t);return r&&Pf(r)&&w_(r)&&!Gk(r)?n:r||Fue(e)||n}const Jue=async function(e){const t=this.getOffsetParent||zV,n=this.getDimensions,r=await n(e.floating);return{reference:Que(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ede(e){return io(e).direction==="rtl"}const tde={convertOffsetParentRelativeRectToViewportRelativeRect:Uue,getDocumentElement:Xo,getClippingRect:Xue,getOffsetParent:zV,getElementRects:Jue,getClientRects:Vue,getDimensions:Zue,getScale:yf,isElement:ro,isRTL:ede};function FV(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nde(e,t){let n=null,r;const i=Xo(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=c;if(a||t(),!p||!g)return;const v=Gy(f),b=Gy(i.clientWidth-(d+p)),w=Gy(i.clientHeight-(f+g)),S=Gy(d),_={rootMargin:-v+"px "+-b+"px "+-w+"px "+-S+"px",threshold:Ki(0,oc(1,l))||1};let k=!0;function R(N){const T=N[0].intersectionRatio;if(T!==l){if(!k)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!FV(c,e.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(R,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,_)}n.observe(e)}return o(!0),s}function rde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Yk(e),d=i||s?[...c?wm(c):[],...wm(t)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),s&&S.addEventListener("resize",n)});const f=c&&a?nde(c,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(S=>{let[C]=S;C&&C.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let v,b=l?Cu(e):null;l&&w();function w(){const S=Cu(e);b&&!FV(b,S)&&n(),b=S,v=requestAnimationFrame(w)}return n(),()=>{var S;d.forEach(C=>{i&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),f?.(),(S=g)==null||S.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const ide=Rue,sde=kue,ode=Cue,ade=Nue,lde=Aue,KL=_ue,cde=Pue,ude=(e,t,n)=>{const r=new Map,i={platform:tde,...n},s={...i.platform,_c:r};return Eue(e,t,{...i,platform:s})};var dde=typeof document<"u",fde=function(){},K0=dde?x.useLayoutEffect:fde;function Pb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Pb(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Pb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function $V(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YL(e,t){const n=$V(e);return Math.round(t*n)/n}function S_(e){const t=x.useRef(e);return K0(()=>{t.current=e}),t}function hde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,f]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=x.useState(r);Pb(p,r)||g(r);const[v,b]=x.useState(null),[w,S]=x.useState(null),C=x.useCallback(B=>{B!==N.current&&(N.current=B,b(B))},[]),_=x.useCallback(B=>{B!==T.current&&(T.current=B,S(B))},[]),k=s||v,R=o||w,N=x.useRef(null),T=x.useRef(null),M=x.useRef(d),O=l!=null,L=S_(l),D=S_(i),F=S_(c),G=x.useCallback(()=>{if(!N.current||!T.current)return;const B={placement:t,strategy:n,middleware:p};D.current&&(B.platform=D.current),ude(N.current,T.current,B).then(K=>{const U={...K,isPositioned:F.current!==!1};z.current&&!Pb(M.current,U)&&(M.current=U,nl.flushSync(()=>{f(U)}))})},[p,t,n,D,F]);K0(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[c]);const z=x.useRef(!1);K0(()=>(z.current=!0,()=>{z.current=!1}),[]),K0(()=>{if(k&&(N.current=k),R&&(T.current=R),k&&R){if(L.current)return L.current(k,R,G);G()}},[k,R,G,L,O]);const V=x.useMemo(()=>({reference:N,floating:T,setReference:C,setFloating:_}),[C,_]),j=x.useMemo(()=>({reference:k,floating:R}),[k,R]),H=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!j.floating)return B;const K=YL(j.floating,d.x),U=YL(j.floating,d.y);return a?{...B,transform:"translate("+K+"px, "+U+"px)",...$V(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:U}},[n,a,j.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:G,refs:V,elements:j,floatingStyles:H}),[d,G,V,j,H])}const pde=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?KL({element:r.current,padding:i}).fn(n):{}:r?KL({element:r,padding:i}).fn(n):{}}}},mde=(e,t)=>({...ide(e),options:[e,t]}),gde=(e,t)=>({...sde(e),options:[e,t]}),vde=(e,t)=>({...cde(e),options:[e,t]}),yde=(e,t)=>({...ode(e),options:[e,t]}),bde=(e,t)=>({...ade(e),options:[e,t]}),xde=(e,t)=>({...lde(e),options:[e,t]}),wde=(e,t)=>({...pde(e),options:[e,t]});function Sde(e){const t=Ede(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Cde);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Ede(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=Tde(i),a=Ade(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _de=Symbol("radix.slottable");function Cde(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_de}function Ade(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Tde(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kde=Rde.reduce((e,t)=>{const n=Sde(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Pde="Arrow",HV=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return E.jsx(kde.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});HV.displayName=Pde;var Nde=HV;function Mde(e){const t=Ode(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Ide);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Ode(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=Lde(i),a=jde(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dde=Symbol("radix.slottable");function Ide(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dde}function jde(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Lde(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BV=zde.reduce((e,t)=>{const n=Mde(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Xk(e){const[t,n]=x.useState(void 0);return tr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Zk="Popper",[UV,lh]=Ds(Zk),[Fde,VV]=UV(Zk),qV=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return E.jsx(Fde,{scope:t,anchor:r,onAnchorChange:i,children:n})};qV.displayName=Zk;var WV="PopperAnchor",GV=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=VV(WV,n),o=x.useRef(null),a=pt(t,o),l=x.useRef(null);return x.useEffect(()=>{const c=l.current;l.current=r?.current||o.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:E.jsx(BV.div,{...i,ref:a})});GV.displayName=WV;var Qk="PopperContent",[$de,Hde]=UV(Qk),KV=x.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...b}=e,w=VV(Qk,n),[S,C]=x.useState(null),_=pt(t,ee=>C(ee)),[k,R]=x.useState(null),N=Xk(k),T=N?.width??0,M=N?.height??0,O=r+(s!=="center"?"-"+s:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],F=D.length>0,G={padding:L,boundary:D.filter(Ude),altBoundary:F},{refs:z,floatingStyles:V,placement:j,isPositioned:H,middlewareData:B}=hde({strategy:"fixed",placement:O,whileElementsMounted:(...ee)=>rde(...ee,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[mde({mainAxis:i+M,alignmentAxis:o}),l&&gde({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vde():void 0,...G}),l&&yde({...G}),bde({...G,apply:({elements:ee,rects:Z,availableWidth:X,availableHeight:fe})=>{const{width:me,height:ne}=Z.reference,we=ee.floating.style;we.setProperty("--radix-popper-available-width",`${X}px`),we.setProperty("--radix-popper-available-height",`${fe}px`),we.setProperty("--radix-popper-anchor-width",`${me}px`),we.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),k&&wde({element:k,padding:a}),Vde({arrowWidth:T,arrowHeight:M}),p&&xde({strategy:"referenceHidden",...G})]}),[K,U]=ZV(j),q=xr(v);tr(()=>{H&&q?.()},[H,q]);const Y=B.arrow?.x,$=B.arrow?.y,J=B.arrow?.centerOffset!==0,[se,ue]=x.useState();return tr(()=>{S&&ue(window.getComputedStyle(S).zIndex)},[S]),E.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:H?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:E.jsx($de,{scope:n,placedSide:K,onArrowChange:R,arrowX:Y,arrowY:$,shouldHideArrow:J,children:E.jsx(BV.div,{"data-side":K,"data-align":U,...b,ref:_,style:{...b.style,animation:H?void 0:"none"}})})})});KV.displayName=Qk;var YV="PopperArrow",Bde={top:"bottom",right:"left",bottom:"top",left:"right"},XV=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=Hde(YV,r),o=Bde[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(Nde,{...i,ref:n,style:{...i.style,display:"block"}})})});XV.displayName=YV;function Ude(e){return e!==null}var Vde=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=ZV(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(i.arrow?.x??0)+a/2,g=(i.arrow?.y??0)+l/2;let v="",b="";return c==="bottom"?(v=o?f:`${p}px`,b=`${-l}px`):c==="top"?(v=o?f:`${p}px`,b=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,b=o?f:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,b=o?f:`${g}px`),{data:{x:v,y:b}}}});function ZV(e){const[t,n="center"]=e.split("-");return[t,n]}var Jk=qV,nw=GV,eP=KV,tP=XV;function qde(e){const t=Wde(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Kde);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Wde(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=Xde(i),a=Yde(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gde=Symbol("radix.slottable");function Kde(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gde}function Yde(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Xde(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qde=Zde.reduce((e,t)=>{const n=qde(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Jde="Portal",Sg=x.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=x.useState(!1);tr(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?Nk.createPortal(E.jsx(Qde.div,{...r,ref:t}),o):null});Sg.displayName=Jde;function efe(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var Xr=e=>{const{present:t,children:n}=e,r=tfe(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),s=pt(r.ref,nfe(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:s}):null};Xr.displayName="Presence";function tfe(e){const[t,n]=x.useState(),r=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[a,l]=efe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=Ky(r.current);s.current=a==="mounted"?c:"none"},[a]),tr(()=>{const c=r.current,d=i.current;if(d!==e){const p=s.current,g=Ky(c);e?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),tr(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=g=>{const b=Ky(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&b&&(l("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=g=>{g.target===t&&(s.current=Ky(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Ky(e){return e?.animationName||"none"}function nfe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function QV(e){const t=rfe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(sfe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function rfe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=afe(i),a=ofe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ife=Symbol("radix.slottable");function sfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ife}function ofe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function afe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Eg=lfe.reduce((e,t)=>{const n=QV(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cfe(e,t){e&&nl.flushSync(()=>e.dispatchEvent(t))}function ufe(e){const t=dfe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(hfe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function dfe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=mfe(i),a=pfe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ffe=Symbol("radix.slottable");function hfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ffe}function pfe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function mfe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JV=gfe.reduce((e,t)=>{const n=ufe(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),E_="rovingFocusGroup.onEntryFocus",vfe={bubbles:!1,cancelable:!0},_g="RovingFocusGroup",[rT,e6,yfe]=Uk(_g),[bfe,rw]=Ds(_g,[yfe]),[xfe,wfe]=bfe(_g),t6=x.forwardRef((e,t)=>E.jsx(rT.Provider,{scope:e.__scopeRovingFocusGroup,children:E.jsx(rT.Slot,{scope:e.__scopeRovingFocusGroup,children:E.jsx(Sfe,{...e,ref:t})})}));t6.displayName=_g;var Sfe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,p=x.useRef(null),g=pt(t,p),v=yg(s),[b,w]=sc({prop:o,defaultProp:a??null,onChange:l,caller:_g}),[S,C]=x.useState(!1),_=xr(c),k=e6(n),R=x.useRef(!1),[N,T]=x.useState(0);return x.useEffect(()=>{const M=p.current;if(M)return M.addEventListener(E_,_),()=>M.removeEventListener(E_,_)},[_]),E.jsx(xfe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:b,onItemFocus:x.useCallback(M=>w(M),[w]),onItemShiftTab:x.useCallback(()=>C(!0),[]),onFocusableItemAdd:x.useCallback(()=>T(M=>M+1),[]),onFocusableItemRemove:x.useCallback(()=>T(M=>M-1),[]),children:E.jsx(JV.div,{tabIndex:S||N===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{R.current=!0}),onFocus:ke(e.onFocus,M=>{const O=!R.current;if(M.target===M.currentTarget&&O&&!S){const L=new CustomEvent(E_,vfe);if(M.currentTarget.dispatchEvent(L),!L.defaultPrevented){const D=k().filter(j=>j.focusable),F=D.find(j=>j.active),G=D.find(j=>j.id===b),V=[F,G,...D].filter(Boolean).map(j=>j.ref.current);i6(V,d)}}R.current=!1}),onBlur:ke(e.onBlur,()=>C(!1))})})}),n6="RovingFocusGroupItem",r6=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=e,l=$o(),c=s||l,d=wfe(n6,n),f=d.currentTabStopId===c,p=e6(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:b}=d;return x.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),E.jsx(rT.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:E.jsx(JV.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:ke(e.onMouseDown,w=>{r?d.onItemFocus(c):w.preventDefault()}),onFocus:ke(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ke(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const S=Cfe(w,d.orientation,d.dir);if(S!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=p().filter(k=>k.focusable).map(k=>k.ref.current);if(S==="last")_.reverse();else if(S==="prev"||S==="next"){S==="prev"&&_.reverse();const k=_.indexOf(w.currentTarget);_=d.loop?Afe(_,k+1):_.slice(k+1)}setTimeout(()=>i6(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:b!=null}):o})})});r6.displayName=n6;var Efe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _fe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Cfe(e,t,n){const r=_fe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Efe[r]}function i6(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Afe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var s6=t6,o6=r6,Tfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wd=new WeakMap,Yy=new WeakMap,Xy={},__=0,a6=function(e){return e&&(e.host||a6(e.parentNode))},Rfe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=a6(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},kfe=function(e,t,n,r){var i=Rfe(t,Array.isArray(e)?e:[e]);Xy[n]||(Xy[n]=new WeakMap);var s=Xy[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",b=(Wd.get(p)||0)+1,w=(s.get(p)||0)+1;Wd.set(p,b),s.set(p,w),o.push(p),b===1&&v&&Yy.set(p,!0),w===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",p,S)}})};return d(t),a.clear(),__++,function(){o.forEach(function(f){var p=Wd.get(f)-1,g=s.get(f)-1;Wd.set(f,p),s.set(f,g),p||(Yy.has(f)||f.removeAttribute(r),Yy.delete(f)),g||f.removeAttribute(n)}),__--,__||(Wd=new WeakMap,Wd=new WeakMap,Yy=new WeakMap,Xy={})}},iw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Tfe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),kfe(r,i,n,"aria-hidden")):function(){return null}},Mo=function(){return Mo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Mo.apply(this,arguments)};function l6(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Ku(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function Pfe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Y0="right-scroll-bar-position",X0="width-before-scroll-bar",Nfe="with-scroll-bars-hidden",Mfe="--removed-body-scroll-bar-size";function C_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ofe(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Dfe=typeof window<"u"?x.useLayoutEffect:x.useEffect,XL=new WeakMap;function Ife(e,t){var n=Ofe(null,function(r){return e.forEach(function(i){return C_(i,r)})});return Dfe(function(){var r=XL.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||C_(a,null)}),s.forEach(function(a){i.has(a)||C_(a,o)})}XL.set(n,e)},[e]),n}function jfe(e){return e}function Lfe(e,t){t===void 0&&(t=jfe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function zfe(e){e===void 0&&(e={});var t=Lfe(null);return t.options=Mo({async:!0,ssr:!1},e),t}var c6=function(e){var t=e.sideCar,n=l6(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Mo({},n))};c6.isSideCarExport=!0;function Ffe(e,t){return e.useMedium(t),c6}var u6=zfe(),A_=function(){},sw=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:A_,onWheelCapture:A_,onTouchMoveCapture:A_}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,g=e.noRelative,v=e.noIsolation,b=e.inert,w=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,_=e.gapMode,k=l6(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,N=Ife([n,t]),T=Mo(Mo({},k),i);return x.createElement(x.Fragment,null,d&&x.createElement(R,{sideCar:u6,removeScrollBar:c,shards:f,noRelative:g,noIsolation:v,inert:b,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:_}),o?x.cloneElement(x.Children.only(a),Mo(Mo({},T),{ref:N})):x.createElement(C,Mo({},T,{className:l,ref:N}),a))});sw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sw.classNames={fullWidth:X0,zeroRight:Y0};var $fe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$fe();return t&&e.setAttribute("nonce",t),e}function Bfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ufe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Vfe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Hfe())&&(Bfe(t,n),Ufe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qfe=function(){var e=Vfe();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},d6=function(){var e=qfe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Wfe={left:0,top:0,right:0,gap:0},T_=function(e){return parseInt(e||"",10)||0},Gfe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[T_(n),T_(r),T_(i)]},Kfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Wfe;var t=Gfe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Yfe=d6(),bf="data-scroll-locked",Xfe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Y0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(X0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Y0," .").concat(Y0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(X0," .").concat(X0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bf,`] {
    `).concat(Mfe,": ").concat(a,`px;
  }
`)},ZL=function(){var e=parseInt(document.body.getAttribute(bf)||"0",10);return isFinite(e)?e:0},Zfe=function(){x.useEffect(function(){return document.body.setAttribute(bf,(ZL()+1).toString()),function(){var e=ZL()-1;e<=0?document.body.removeAttribute(bf):document.body.setAttribute(bf,e.toString())}},[])},Qfe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Zfe();var s=x.useMemo(function(){return Kfe(i)},[i]);return x.createElement(Yfe,{styles:Xfe(s,!t,i,n?"":"!important")})},iT=!1;if(typeof window<"u")try{var Zy=Object.defineProperty({},"passive",{get:function(){return iT=!0,!0}});window.addEventListener("test",Zy,Zy),window.removeEventListener("test",Zy,Zy)}catch{iT=!1}var Gd=iT?{passive:!1}:!1,Jfe=function(e){return e.tagName==="TEXTAREA"},f6=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Jfe(e)&&n[t]==="visible")},ehe=function(e){return f6(e,"overflowY")},the=function(e){return f6(e,"overflowX")},QL=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=h6(e,r);if(i){var s=p6(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nhe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},rhe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},h6=function(e,t){return e==="v"?ehe(t):the(t)},p6=function(e,t){return e==="v"?nhe(t):rhe(t)},ihe=function(e,t){return e==="h"&&t==="rtl"?-1:1},she=function(e,t,n,r,i){var s=ihe(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),c=!1,d=o>0,f=0,p=0;do{if(!a)break;var g=p6(e,a),v=g[0],b=g[1],w=g[2],S=b-w-s*v;(v||S)&&h6(e,a)&&(f+=S,p+=v);var C=a.parentNode;a=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},Qy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},JL=function(e){return[e.deltaX,e.deltaY]},ez=function(e){return e&&"current"in e?e.current:e},ohe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ahe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lhe=0,Kd=[];function che(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(lhe++)[0],s=x.useState(d6)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Pfe([e.lockRef.current],(e.shards||[]).map(ez),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=x.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var S=Qy(b),C=n.current,_="deltaX"in b?b.deltaX:C[0]-S[0],k="deltaY"in b?b.deltaY:C[1]-S[1],R,N=b.target,T=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in b&&T==="h"&&N.type==="range")return!1;var M=window.getSelection(),O=M&&M.anchorNode,L=O?O===N||O.contains(N):!1;if(L)return!1;var D=QL(T,N);if(!D)return!0;if(D?R=T:(R=T==="v"?"h":"v",D=QL(T,N)),!D)return!1;if(!r.current&&"changedTouches"in b&&(_||k)&&(r.current=R),!R)return!0;var F=r.current||R;return she(F,w,b,F==="h"?_:k)},[]),l=x.useCallback(function(b){var w=b;if(!(!Kd.length||Kd[Kd.length-1]!==s)){var S="deltaY"in w?JL(w):Qy(w),C=t.current.filter(function(R){return R.name===w.type&&(R.target===w.target||w.target===R.shadowParent)&&ohe(R.delta,S)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var _=(o.current.shards||[]).map(ez).filter(Boolean).filter(function(R){return R.contains(w.target)}),k=_.length>0?a(w,_[0]):!o.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),c=x.useCallback(function(b,w,S,C){var _={name:b,delta:w,target:S,should:C,shadowParent:uhe(S)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(k){return k!==_})},1)},[]),d=x.useCallback(function(b){n.current=Qy(b),r.current=void 0},[]),f=x.useCallback(function(b){c(b.type,JL(b),b.target,a(b,e.lockRef.current))},[]),p=x.useCallback(function(b){c(b.type,Qy(b),b.target,a(b,e.lockRef.current))},[]);x.useEffect(function(){return Kd.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Gd),document.addEventListener("touchmove",l,Gd),document.addEventListener("touchstart",d,Gd),function(){Kd=Kd.filter(function(b){return b!==s}),document.removeEventListener("wheel",l,Gd),document.removeEventListener("touchmove",l,Gd),document.removeEventListener("touchstart",d,Gd)}},[]);var g=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:ahe(i)}):null,g?x.createElement(Qfe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dhe=Ffe(u6,che);var Cg=x.forwardRef(function(e,t){return x.createElement(sw,Mo({},e,{ref:t,sideCar:dhe}))});Cg.classNames=sw.classNames;var sT=["Enter"," "],fhe=["ArrowDown","PageUp","Home"],m6=["ArrowUp","PageDown","End"],hhe=[...fhe,...m6],phe={ltr:[...sT,"ArrowRight"],rtl:[...sT,"ArrowLeft"]},mhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ag="Menu",[Sm,ghe,vhe]=Uk(Ag),[Yu,g6]=Ds(Ag,[vhe,lh,rw]),ow=lh(),v6=rw(),[yhe,Xu]=Yu(Ag),[bhe,Tg]=Yu(Ag),y6=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=ow(t),[l,c]=x.useState(null),d=x.useRef(!1),f=xr(s),p=yg(i);return x.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),E.jsx(Jk,{...a,children:E.jsx(yhe,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:E.jsx(bhe,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};y6.displayName=Ag;var xhe="MenuAnchor",nP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ow(n);return E.jsx(nw,{...i,...r,ref:t})});nP.displayName=xhe;var rP="MenuPortal",[whe,b6]=Yu(rP,{forceMount:void 0}),x6=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=Xu(rP,t);return E.jsx(whe,{scope:t,forceMount:n,children:E.jsx(Xr,{present:n||s.open,children:E.jsx(Sg,{asChild:!0,container:i,children:r})})})};x6.displayName=rP;var Ts="MenuContent",[She,iP]=Yu(Ts),w6=x.forwardRef((e,t)=>{const n=b6(Ts,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Xu(Ts,e.__scopeMenu),o=Tg(Ts,e.__scopeMenu);return E.jsx(Sm.Provider,{scope:e.__scopeMenu,children:E.jsx(Xr,{present:r||s.open,children:E.jsx(Sm.Slot,{scope:e.__scopeMenu,children:o.modal?E.jsx(Ehe,{...i,ref:t}):E.jsx(_he,{...i,ref:t})})})})}),Ehe=x.forwardRef((e,t)=>{const n=Xu(Ts,e.__scopeMenu),r=x.useRef(null),i=pt(t,r);return x.useEffect(()=>{const s=r.current;if(s)return iw(s)},[]),E.jsx(sP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_he=x.forwardRef((e,t)=>{const n=Xu(Ts,e.__scopeMenu);return E.jsx(sP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Che=QV("MenuContent.ScrollLock"),sP=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...b}=e,w=Xu(Ts,n),S=Tg(Ts,n),C=ow(n),_=v6(n),k=ghe(n),[R,N]=x.useState(null),T=x.useRef(null),M=pt(t,T,w.onContentChange),O=x.useRef(0),L=x.useRef(""),D=x.useRef(0),F=x.useRef(null),G=x.useRef("right"),z=x.useRef(0),V=v?Cg:x.Fragment,j=v?{as:Che,allowPinchZoom:!0}:void 0,H=K=>{const U=L.current+K,q=k().filter(ee=>!ee.disabled),Y=document.activeElement,$=q.find(ee=>ee.ref.current===Y)?.textValue,J=q.map(ee=>ee.textValue),se=Lhe(J,U,$),ue=q.find(ee=>ee.textValue===se)?.ref.current;(function ee(Z){L.current=Z,window.clearTimeout(O.current),Z!==""&&(O.current=window.setTimeout(()=>ee(""),1e3))})(U),ue&&setTimeout(()=>ue.focus())};x.useEffect(()=>()=>window.clearTimeout(O.current),[]),Zx();const B=x.useCallback(K=>G.current===F.current?.side&&Fhe(K,F.current?.area),[]);return E.jsx(She,{scope:n,searchRef:L,onItemEnter:x.useCallback(K=>{B(K)&&K.preventDefault()},[B]),onItemLeave:x.useCallback(K=>{B(K)||(T.current?.focus(),N(null))},[B]),onTriggerLeave:x.useCallback(K=>{B(K)&&K.preventDefault()},[B]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback(K=>{F.current=K},[]),children:E.jsx(V,{...j,children:E.jsx(xg,{asChild:!0,trapped:i,onMountAutoFocus:ke(s,K=>{K.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:E.jsx(bg,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:E.jsx(s6,{asChild:!0,..._,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:R,onCurrentTabStopIdChange:N,onEntryFocus:ke(l,K=>{S.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(eP,{role:"menu","aria-orientation":"vertical","data-state":L6(w.open),"data-radix-menu-content":"",dir:S.dir,...C,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:ke(b.onKeyDown,K=>{const q=K.target.closest("[data-radix-menu-content]")===K.currentTarget,Y=K.ctrlKey||K.altKey||K.metaKey,$=K.key.length===1;q&&(K.key==="Tab"&&K.preventDefault(),!Y&&$&&H(K.key));const J=T.current;if(K.target!==J||!hhe.includes(K.key))return;K.preventDefault();const ue=k().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);m6.includes(K.key)&&ue.reverse(),Ihe(ue)}),onBlur:ke(e.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(O.current),L.current="")}),onPointerMove:ke(e.onPointerMove,Em(K=>{const U=K.target,q=z.current!==K.clientX;if(K.currentTarget.contains(U)&&q){const Y=K.clientX>z.current?"right":"left";G.current=Y,z.current=K.clientX}}))})})})})})})});w6.displayName=Ts;var Ahe="MenuGroup",oP=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return E.jsx(Eg.div,{role:"group",...r,ref:t})});oP.displayName=Ahe;var The="MenuLabel",S6=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return E.jsx(Eg.div,{...r,ref:t})});S6.displayName=The;var Nb="MenuItem",tz="menu.itemSelect",aw=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=x.useRef(null),o=Tg(Nb,e.__scopeMenu),a=iP(Nb,e.__scopeMenu),l=pt(t,s),c=x.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(tz,{bubbles:!0,cancelable:!0});f.addEventListener(tz,g=>r?.(g),{once:!0}),cfe(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return E.jsx(E6,{...i,ref:l,disabled:n,onClick:ke(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),c.current=!0},onPointerUp:ke(e.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:ke(e.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||sT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});aw.displayName=Nb;var E6=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=iP(Nb,n),a=v6(n),l=x.useRef(null),c=pt(t,l),[d,f]=x.useState(!1),[p,g]=x.useState("");return x.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[s.children]),E.jsx(Sm.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:E.jsx(o6,{asChild:!0,...a,focusable:!r,children:E.jsx(Eg.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ke(e.onPointerMove,Em(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,Em(v=>o.onItemLeave(v))),onFocus:ke(e.onFocus,()=>f(!0)),onBlur:ke(e.onBlur,()=>f(!1))})})})}),Rhe="MenuCheckboxItem",_6=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return E.jsx(k6,{scope:e.__scopeMenu,checked:n,children:E.jsx(aw,{role:"menuitemcheckbox","aria-checked":Mb(n)?"mixed":n,...i,ref:t,"data-state":lP(n),onSelect:ke(i.onSelect,()=>r?.(Mb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_6.displayName=Rhe;var C6="MenuRadioGroup",[khe,Phe]=Yu(C6,{value:void 0,onValueChange:()=>{}}),A6=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=xr(r);return E.jsx(khe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:E.jsx(oP,{...i,ref:t})})});A6.displayName=C6;var T6="MenuRadioItem",R6=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=Phe(T6,e.__scopeMenu),s=n===i.value;return E.jsx(k6,{scope:e.__scopeMenu,checked:s,children:E.jsx(aw,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":lP(s),onSelect:ke(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});R6.displayName=T6;var aP="MenuItemIndicator",[k6,Nhe]=Yu(aP,{checked:!1}),P6=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=Nhe(aP,n);return E.jsx(Xr,{present:r||Mb(s.checked)||s.checked===!0,children:E.jsx(Eg.span,{...i,ref:t,"data-state":lP(s.checked)})})});P6.displayName=aP;var Mhe="MenuSeparator",N6=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return E.jsx(Eg.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});N6.displayName=Mhe;var Ohe="MenuArrow",M6=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=ow(n);return E.jsx(tP,{...i,...r,ref:t})});M6.displayName=Ohe;var Dhe="MenuSub",[h7e,O6]=Yu(Dhe),qp="MenuSubTrigger",D6=x.forwardRef((e,t)=>{const n=Xu(qp,e.__scopeMenu),r=Tg(qp,e.__scopeMenu),i=O6(qp,e.__scopeMenu),s=iP(qp,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),E.jsx(nP,{asChild:!0,...c,children:E.jsx(E6,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":L6(n.open),...e,ref:nr(t,i.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,Em(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ke(e.onPointerLeave,Em(f=>{d();const p=n.content?.getBoundingClientRect();if(p){const g=n.content?.dataset.side,v=g==="right",b=v?-5:5,w=p[v?"left":"right"],S=p[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:w,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:w,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,f=>{const p=s.searchRef.current!=="";e.disabled||p&&f.key===" "||phe[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});D6.displayName=qp;var I6="MenuSubContent",j6=x.forwardRef((e,t)=>{const n=b6(Ts,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Xu(Ts,e.__scopeMenu),o=Tg(Ts,e.__scopeMenu),a=O6(I6,e.__scopeMenu),l=x.useRef(null),c=pt(t,l);return E.jsx(Sm.Provider,{scope:e.__scopeMenu,children:E.jsx(Xr,{present:r||s.open,children:E.jsx(Sm.Slot,{scope:e.__scopeMenu,children:E.jsx(sP,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ke(e.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ke(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),p=mhe[o.dir].includes(d.key);f&&p&&(s.onOpenChange(!1),a.trigger?.focus(),d.preventDefault())})})})})})});j6.displayName=I6;function L6(e){return e?"open":"closed"}function Mb(e){return e==="indeterminate"}function lP(e){return Mb(e)?"indeterminate":e?"checked":"unchecked"}function Ihe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function jhe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Lhe(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=jhe(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function zhe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s],l=t[o],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function Fhe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return zhe(n,t)}function Em(e){return t=>t.pointerType==="mouse"?e(t):void 0}var $he=y6,Hhe=nP,Bhe=x6,Uhe=w6,Vhe=oP,qhe=S6,Whe=aw,Ghe=_6,Khe=A6,Yhe=R6,Xhe=P6,Zhe=N6,Qhe=M6,Jhe=D6,epe=j6,lw="DropdownMenu",[tpe]=Ds(lw,[g6]),si=g6(),[npe,z6]=tpe(lw),F6=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=si(t),c=x.useRef(null),[d,f]=sc({prop:i,defaultProp:s??!1,onChange:o,caller:lw});return E.jsx(npe,{scope:t,triggerId:$o(),triggerRef:c,contentId:$o(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),modal:a,children:E.jsx($he,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};F6.displayName=lw;var $6="DropdownMenuTrigger",H6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=z6($6,n),o=si(n);return E.jsx(Hhe,{asChild:!0,...o,children:E.jsx(Ace.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:nr(t,s.triggerRef),onPointerDown:ke(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ke(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});H6.displayName=$6;var rpe="DropdownMenuPortal",B6=e=>{const{__scopeDropdownMenu:t,...n}=e,r=si(t);return E.jsx(Bhe,{...r,...n})};B6.displayName=rpe;var U6="DropdownMenuContent",V6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=z6(U6,n),s=si(n),o=x.useRef(!1);return E.jsx(Uhe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,a=>{o.current||i.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V6.displayName=U6;var ipe="DropdownMenuGroup",spe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Vhe,{...i,...r,ref:t})});spe.displayName=ipe;var ope="DropdownMenuLabel",q6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(qhe,{...i,...r,ref:t})});q6.displayName=ope;var ape="DropdownMenuItem",W6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Whe,{...i,...r,ref:t})});W6.displayName=ape;var lpe="DropdownMenuCheckboxItem",G6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Ghe,{...i,...r,ref:t})});G6.displayName=lpe;var cpe="DropdownMenuRadioGroup",upe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Khe,{...i,...r,ref:t})});upe.displayName=cpe;var dpe="DropdownMenuRadioItem",K6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Yhe,{...i,...r,ref:t})});K6.displayName=dpe;var fpe="DropdownMenuItemIndicator",Y6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Xhe,{...i,...r,ref:t})});Y6.displayName=fpe;var hpe="DropdownMenuSeparator",X6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Zhe,{...i,...r,ref:t})});X6.displayName=hpe;var ppe="DropdownMenuArrow",mpe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Qhe,{...i,...r,ref:t})});mpe.displayName=ppe;var gpe="DropdownMenuSubTrigger",Z6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(Jhe,{...i,...r,ref:t})});Z6.displayName=gpe;var vpe="DropdownMenuSubContent",Q6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=si(n);return E.jsx(epe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q6.displayName=vpe;var ype=F6,bpe=H6,xpe=B6,J6=V6,e8=q6,t8=W6,n8=G6,r8=K6,i8=Y6,s8=X6,o8=Z6,a8=Q6;const l8=ype,c8=bpe,wpe=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>E.jsxs(o8,{ref:i,className:ot("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,E.jsx(WU,{className:"ml-auto"})]}));wpe.displayName=o8.displayName;const Spe=x.forwardRef(({className:e,...t},n)=>E.jsx(a8,{ref:n,className:ot("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Spe.displayName=a8.displayName;const cP=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>E.jsx(xpe,{children:E.jsx(J6,{ref:r,sideOffset:t,className:ot("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));cP.displayName=J6.displayName;const rm=x.forwardRef(({className:e,inset:t,...n},r)=>E.jsx(t8,{ref:r,className:ot("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));rm.displayName=t8.displayName;const Epe=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>E.jsxs(n8,{ref:i,className:ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(i8,{children:E.jsx(gg,{className:"h-4 w-4"})})}),t]}));Epe.displayName=n8.displayName;const _pe=x.forwardRef(({className:e,children:t,...n},r)=>E.jsxs(r8,{ref:r,className:ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(i8,{children:E.jsx(KU,{className:"h-2 w-2 fill-current"})})}),t]}));_pe.displayName=r8.displayName;const u8=x.forwardRef(({className:e,inset:t,...n},r)=>E.jsx(e8,{ref:r,className:ot("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));u8.displayName=e8.displayName;const d8=x.forwardRef(({className:e,...t},n)=>E.jsx(s8,{ref:n,className:ot("-mx-1 my-1 h-px bg-muted",e),...t}));d8.displayName=s8.displayName;function f8(e){const t=Cpe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(Tpe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Cpe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=kpe(i),a=Rpe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ape=Symbol("radix.slottable");function Tpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ape}function Rpe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function kpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ppe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rg=Ppe.reduce((e,t)=>{const n=f8(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),cw="Dialog",[h8]=Ds(cw),[Npe,co]=h8(cw),p8=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=x.useRef(null),l=x.useRef(null),[c,d]=sc({prop:r,defaultProp:i??!1,onChange:s,caller:cw});return E.jsx(Npe,{scope:t,triggerRef:a,contentRef:l,contentId:$o(),titleId:$o(),descriptionId:$o(),open:c,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};p8.displayName=cw;var m8="DialogTrigger",g8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=co(m8,n),s=pt(t,i.triggerRef);return E.jsx(Rg.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fP(i.open),...r,ref:s,onClick:ke(e.onClick,i.onOpenToggle)})});g8.displayName=m8;var uP="DialogPortal",[Mpe,v8]=h8(uP,{forceMount:void 0}),y8=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=co(uP,t);return E.jsx(Mpe,{scope:t,forceMount:n,children:x.Children.map(r,o=>E.jsx(Xr,{present:n||s.open,children:E.jsx(Sg,{asChild:!0,container:i,children:o})}))})};y8.displayName=uP;var Ob="DialogOverlay",b8=x.forwardRef((e,t)=>{const n=v8(Ob,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=co(Ob,e.__scopeDialog);return s.modal?E.jsx(Xr,{present:r||s.open,children:E.jsx(Dpe,{...i,ref:t})}):null});b8.displayName=Ob;var Ope=f8("DialogOverlay.RemoveScroll"),Dpe=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=co(Ob,n);return E.jsx(Cg,{as:Ope,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(Rg.div,{"data-state":fP(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Au="DialogContent",x8=x.forwardRef((e,t)=>{const n=v8(Au,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=co(Au,e.__scopeDialog);return E.jsx(Xr,{present:r||s.open,children:s.modal?E.jsx(Ipe,{...i,ref:t}):E.jsx(jpe,{...i,ref:t})})});x8.displayName=Au;var Ipe=x.forwardRef((e,t)=>{const n=co(Au,e.__scopeDialog),r=x.useRef(null),i=pt(t,n.contentRef,r);return x.useEffect(()=>{const s=r.current;if(s)return iw(s)},[]),E.jsx(w8,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,s=>s.preventDefault())})}),jpe=x.forwardRef((e,t)=>{const n=co(Au,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return E.jsx(w8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),w8=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,a=co(Au,n),l=x.useRef(null),c=pt(t,l);return Zx(),E.jsxs(E.Fragment,{children:[E.jsx(xg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:E.jsx(bg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":fP(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(Lpe,{titleId:a.titleId}),E.jsx(Fpe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),dP="DialogTitle",S8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=co(dP,n);return E.jsx(Rg.h2,{id:i.titleId,...r,ref:t})});S8.displayName=dP;var E8="DialogDescription",_8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=co(E8,n);return E.jsx(Rg.p,{id:i.descriptionId,...r,ref:t})});_8.displayName=E8;var C8="DialogClose",A8=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=co(C8,n);return E.jsx(Rg.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,()=>i.onOpenChange(!1))})});A8.displayName=C8;function fP(e){return e?"open":"closed"}var T8="DialogTitleWarning",[p7e,R8]=pce(T8,{contentName:Au,titleName:dP,docsSlug:"dialog"}),Lpe=({titleId:e})=>{const t=R8(T8),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},zpe="DialogDescriptionWarning",Fpe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R8(zpe).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},k8=p8,P8=g8,N8=y8,uw=b8,dw=x8,fw=S8,hw=_8,M8=A8;const kg=k8,O8=P8,$pe=N8,D8=x.forwardRef(({className:e,...t},n)=>E.jsx(uw,{ref:n,className:ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));D8.displayName=uw.displayName;const ch=x.forwardRef(({className:e,children:t,...n},r)=>E.jsxs($pe,{children:[E.jsx(D8,{}),E.jsxs(dw,{ref:r,className:ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,E.jsxs(M8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[E.jsx(vg,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ch.displayName=dw.displayName;const pw=({className:e,...t})=>E.jsx("div",{className:ot("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pw.displayName="DialogHeader";const uh=x.forwardRef(({className:e,...t},n)=>E.jsx(fw,{ref:n,className:ot("text-lg font-semibold leading-none tracking-tight",e),...t}));uh.displayName=fw.displayName;const Hpe=x.forwardRef(({className:e,...t},n)=>E.jsx(hw,{ref:n,className:ot("text-sm text-muted-foreground",e),...t}));Hpe.displayName=hw.displayName;function I8(e,t){return function(){return e.apply(t,arguments)}}const{toString:Bpe}=Object.prototype,{getPrototypeOf:hP}=Object,{iterator:mw,toStringTag:j8}=Symbol,gw=(e=>t=>{const n=Bpe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),uo=e=>(e=e.toLowerCase(),t=>gw(t)===e),vw=e=>t=>typeof t===e,{isArray:dh}=Array,Nf=vw("undefined");function Pg(e){return e!==null&&!Nf(e)&&e.constructor!==null&&!Nf(e.constructor)&&Ti(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const L8=uo("ArrayBuffer");function Upe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&L8(e.buffer),t}const Vpe=vw("string"),Ti=vw("function"),z8=vw("number"),Ng=e=>e!==null&&typeof e=="object",qpe=e=>e===!0||e===!1,Z0=e=>{if(gw(e)!=="object")return!1;const t=hP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(j8 in e)&&!(mw in e)},Wpe=e=>{if(!Ng(e)||Pg(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Gpe=uo("Date"),Kpe=uo("File"),Ype=uo("Blob"),Xpe=uo("FileList"),Zpe=e=>Ng(e)&&Ti(e.pipe),Qpe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ti(e.append)&&((t=gw(e))==="formdata"||t==="object"&&Ti(e.toString)&&e.toString()==="[object FormData]"))},Jpe=uo("URLSearchParams"),[eme,tme,nme,rme]=["ReadableStream","Request","Response","Headers"].map(uo),ime=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mg(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),dh(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Pg(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function F8(e,t){if(Pg(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const au=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$8=e=>!Nf(e)&&e!==au;function oT(){const{caseless:e,skipUndefined:t}=$8(this)&&this||{},n={},r=(i,s)=>{const o=e&&F8(n,s)||s;Z0(n[o])&&Z0(i)?n[o]=oT(n[o],i):Z0(i)?n[o]=oT({},i):dh(i)?n[o]=i.slice():(!t||!Nf(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Mg(arguments[i],r);return n}const sme=(e,t,n,{allOwnKeys:r}={})=>(Mg(t,(i,s)=>{n&&Ti(i)?e[s]=I8(i,n):e[s]=i},{allOwnKeys:r}),e),ome=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ame=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},lme=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&hP(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},cme=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ume=e=>{if(!e)return null;if(dh(e))return e;let t=e.length;if(!z8(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},dme=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hP(Uint8Array)),fme=(e,t)=>{const r=(e&&e[mw]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},hme=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},pme=uo("HTMLFormElement"),mme=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nz=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),gme=uo("RegExp"),H8=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Mg(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},vme=e=>{H8(e,(t,n)=>{if(Ti(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ti(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yme=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return dh(e)?r(e):r(String(e).split(t)),n},bme=()=>{},xme=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function wme(e){return!!(e&&Ti(e.append)&&e[j8]==="FormData"&&e[mw])}const Sme=e=>{const t=new Array(10),n=(r,i)=>{if(Ng(r)){if(t.indexOf(r)>=0)return;if(Pg(r))return r;if(!("toJSON"in r)){t[i]=r;const s=dh(r)?[]:{};return Mg(r,(o,a)=>{const l=n(o,i+1);!Nf(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},Eme=uo("AsyncFunction"),_me=e=>e&&(Ng(e)||Ti(e))&&Ti(e.then)&&Ti(e.catch),B8=((e,t)=>e?setImmediate:t?((n,r)=>(au.addEventListener("message",({source:i,data:s})=>{i===au&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),au.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ti(au.postMessage)),Cme=typeof queueMicrotask<"u"?queueMicrotask.bind(au):typeof process<"u"&&process.nextTick||B8,Ame=e=>e!=null&&Ti(e[mw]),he={isArray:dh,isArrayBuffer:L8,isBuffer:Pg,isFormData:Qpe,isArrayBufferView:Upe,isString:Vpe,isNumber:z8,isBoolean:qpe,isObject:Ng,isPlainObject:Z0,isEmptyObject:Wpe,isReadableStream:eme,isRequest:tme,isResponse:nme,isHeaders:rme,isUndefined:Nf,isDate:Gpe,isFile:Kpe,isBlob:Ype,isRegExp:gme,isFunction:Ti,isStream:Zpe,isURLSearchParams:Jpe,isTypedArray:dme,isFileList:Xpe,forEach:Mg,merge:oT,extend:sme,trim:ime,stripBOM:ome,inherits:ame,toFlatObject:lme,kindOf:gw,kindOfTest:uo,endsWith:cme,toArray:ume,forEachEntry:fme,matchAll:hme,isHTMLForm:pme,hasOwnProperty:nz,hasOwnProp:nz,reduceDescriptors:H8,freezeMethods:vme,toObjectSet:yme,toCamelCase:mme,noop:bme,toFiniteNumber:xme,findKey:F8,global:au,isContextDefined:$8,isSpecCompliantForm:wme,toJSONObject:Sme,isAsyncFn:Eme,isThenable:_me,setImmediate:B8,asap:Cme,isIterable:Ame};function lt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}he.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const U8=lt.prototype,V8={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{V8[e]={value:e}});Object.defineProperties(lt,V8);Object.defineProperty(U8,"isAxiosError",{value:!0});lt.from=(e,t,n,r,i,s)=>{const o=Object.create(U8);he.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return lt.call(o,a,l,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const Tme=null;function aT(e){return he.isPlainObject(e)||he.isArray(e)}function q8(e){return he.endsWith(e,"[]")?e.slice(0,-2):e}function rz(e,t,n){return e?e.concat(t).map(function(i,s){return i=q8(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Rme(e){return he.isArray(e)&&!e.some(aT)}const kme=he.toFlatObject(he,{},null,function(t){return/^is[A-Z]/.test(t)});function yw(e,t,n){if(!he.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=he.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!he.isUndefined(w[b])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(t);if(!he.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(he.isDate(v))return v.toISOString();if(he.isBoolean(v))return v.toString();if(!l&&he.isBlob(v))throw new lt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(v)||he.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,b,w){let S=v;if(v&&!w&&typeof v=="object"){if(he.endsWith(b,"{}"))b=r?b:b.slice(0,-2),v=JSON.stringify(v);else if(he.isArray(v)&&Rme(v)||(he.isFileList(v)||he.endsWith(b,"[]"))&&(S=he.toArray(v)))return b=q8(b),S.forEach(function(_,k){!(he.isUndefined(_)||_===null)&&t.append(o===!0?rz([b],k,s):o===null?b:b+"[]",c(_))}),!1}return aT(v)?!0:(t.append(rz(w,b,s),c(v)),!1)}const f=[],p=Object.assign(kme,{defaultVisitor:d,convertValue:c,isVisitable:aT});function g(v,b){if(!he.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(v),he.forEach(v,function(S,C){(!(he.isUndefined(S)||S===null)&&i.call(t,S,he.isString(C)?C.trim():C,b,p))===!0&&g(S,b?b.concat(C):[C])}),f.pop()}}if(!he.isObject(e))throw new TypeError("data must be an object");return g(e),t}function iz(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function pP(e,t){this._pairs=[],e&&yw(e,this,t)}const W8=pP.prototype;W8.append=function(t,n){this._pairs.push([t,n])};W8.toString=function(t){const n=t?function(r){return t.call(this,r,iz)}:iz;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Pme(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function G8(e,t,n){if(!t)return e;const r=n&&n.encode||Pme;he.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=he.isURLSearchParams(t)?t.toString():new pP(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class sz{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){he.forEach(this.handlers,function(r){r!==null&&t(r)})}}const K8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nme=typeof URLSearchParams<"u"?URLSearchParams:pP,Mme=typeof FormData<"u"?FormData:null,Ome=typeof Blob<"u"?Blob:null,Dme={isBrowser:!0,classes:{URLSearchParams:Nme,FormData:Mme,Blob:Ome},protocols:["http","https","file","blob","url","data"]},mP=typeof window<"u"&&typeof document<"u",lT=typeof navigator=="object"&&navigator||void 0,Ime=mP&&(!lT||["ReactNative","NativeScript","NS"].indexOf(lT.product)<0),jme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lme=mP&&window.location.href||"http://localhost",zme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mP,hasStandardBrowserEnv:Ime,hasStandardBrowserWebWorkerEnv:jme,navigator:lT,origin:Lme},Symbol.toStringTag,{value:"Module"})),Vr={...zme,...Dme};function Fme(e,t){return yw(e,new Vr.classes.URLSearchParams,{visitor:function(n,r,i,s){return Vr.isNode&&he.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function $me(e){return he.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Hme(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Y8(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&he.isArray(i)?i.length:o,l?(he.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!he.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&he.isArray(i[o])&&(i[o]=Hme(i[o])),!a)}if(he.isFormData(e)&&he.isFunction(e.entries)){const n={};return he.forEachEntry(e,(r,i)=>{t($me(r),i,n,0)}),n}return null}function Bme(e,t,n){if(he.isString(e))try{return(t||JSON.parse)(e),he.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Og={transitional:K8,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=he.isObject(t);if(s&&he.isHTMLForm(t)&&(t=new FormData(t)),he.isFormData(t))return i?JSON.stringify(Y8(t)):t;if(he.isArrayBuffer(t)||he.isBuffer(t)||he.isStream(t)||he.isFile(t)||he.isBlob(t)||he.isReadableStream(t))return t;if(he.isArrayBufferView(t))return t.buffer;if(he.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Fme(t,this.formSerializer).toString();if((a=he.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yw(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Bme(t)):t}],transformResponse:[function(t){const n=this.transitional||Og.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(he.isResponse(t)||he.isReadableStream(t))return t;if(t&&he.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?lt.from(a,lt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],e=>{Og.headers[e]={}});const Ume=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vme=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Ume[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},oz=Symbol("internals");function Ap(e){return e&&String(e).trim().toLowerCase()}function Q0(e){return e===!1||e==null?e:he.isArray(e)?e.map(Q0):String(e)}function qme(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Wme=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function R_(e,t,n,r,i){if(he.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!he.isString(t)){if(he.isString(r))return t.indexOf(r)!==-1;if(he.isRegExp(r))return r.test(t)}}function Gme(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Kme(e,t){const n=he.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let Ri=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,c){const d=Ap(l);if(!d)throw new Error("header name must be a non-empty string");const f=he.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=Q0(a))}const o=(a,l)=>he.forEach(a,(c,d)=>s(c,d,l));if(he.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(he.isString(t)&&(t=t.trim())&&!Wme(t))o(Vme(t),n);else if(he.isObject(t)&&he.isIterable(t)){let a={},l,c;for(const d of t){if(!he.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?he.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Ap(t),t){const r=he.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return qme(i);if(he.isFunction(n))return n.call(this,i,r);if(he.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ap(t),t){const r=he.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||R_(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Ap(o),o){const a=he.findKey(r,o);a&&(!n||R_(r,r[a],a,n))&&(delete r[a],i=!0)}}return he.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||R_(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return he.forEach(this,(i,s)=>{const o=he.findKey(r,s);if(o){n[o]=Q0(i),delete n[s];return}const a=t?Gme(s):String(s).trim();a!==s&&delete n[s],n[a]=Q0(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return he.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&he.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[oz]=this[oz]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ap(o);r[a]||(Kme(i,o),r[a]=!0)}return he.isArray(t)?t.forEach(s):s(t),this}};Ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Ri.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});he.freezeMethods(Ri);function k_(e,t){const n=this||Og,r=t||n,i=Ri.from(r.headers);let s=r.data;return he.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function X8(e){return!!(e&&e.__CANCEL__)}function fh(e,t,n){lt.call(this,e??"canceled",lt.ERR_CANCELED,t,n),this.name="CanceledError"}he.inherits(fh,lt,{__CANCEL__:!0});function Z8(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Yme(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Xme(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const g=d&&c-d;return g?Math.round(p*1e3/g):void 0}}function Zme(e,t){let n=0,r=1e3/t,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Db=(e,t,n=3)=>{let r=0;const i=Xme(50,250);return Zme(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},az=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},lz=e=>(...t)=>he.asap(()=>e(...t)),Qme=Vr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vr.origin),Vr.navigator&&/(msie|trident)/i.test(Vr.navigator.userAgent)):()=>!0,Jme=Vr.hasStandardBrowserEnv?{write(e,t,n,r,i,s,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];he.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),he.isString(r)&&a.push(`path=${r}`),he.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),he.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ege(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tge(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Q8(e,t,n){let r=!ege(t);return e&&(r||n==!1)?tge(e,t):t}const cz=e=>e instanceof Ri?{...e}:e;function Tu(e,t){t=t||{};const n={};function r(c,d,f,p){return he.isPlainObject(c)&&he.isPlainObject(d)?he.merge.call({caseless:p},c,d):he.isPlainObject(d)?he.merge({},d):he.isArray(d)?d.slice():d}function i(c,d,f,p){if(he.isUndefined(d)){if(!he.isUndefined(c))return r(void 0,c,f,p)}else return r(c,d,f,p)}function s(c,d){if(!he.isUndefined(d))return r(void 0,d)}function o(c,d){if(he.isUndefined(d)){if(!he.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,f)=>i(cz(c),cz(d),f,!0)};return he.forEach(Object.keys({...e,...t}),function(d){const f=l[d]||i,p=f(e[d],t[d],d);he.isUndefined(p)&&f!==a||(n[d]=p)}),n}const J8=e=>{const t=Tu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=Ri.from(o),t.url=G8(Q8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),he.isFormData(n)){if(Vr.hasStandardBrowserEnv||Vr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(he.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if(Vr.hasStandardBrowserEnv&&(r&&he.isFunction(r)&&(r=r(t)),r||r!==!1&&Qme(t.url))){const l=i&&s&&Jme.read(s);l&&o.set(i,l)}return t},nge=typeof XMLHttpRequest<"u",rge=nge&&function(e){return new Promise(function(n,r){const i=J8(e);let s=i.data;const o=Ri.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,f,p,g,v;function b(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function S(){if(!w)return;const _=Ri.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:e,request:w};Z8(function(T){n(T),b()},function(T){r(T),b()},R),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(r(new lt("Request aborted",lt.ECONNABORTED,e,w)),w=null)},w.onerror=function(k){const R=k&&k.message?k.message:"Network Error",N=new lt(R,lt.ERR_NETWORK,e,w);N.event=k||null,r(N),w=null},w.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||K8;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new lt(k,R.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&he.forEach(o.toJSON(),function(k,R){w.setRequestHeader(R,k)}),he.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([p,v]=Db(c,!0),w.addEventListener("progress",p)),l&&w.upload&&([f,g]=Db(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=_=>{w&&(r(!_||_.type?new fh(null,e,w):_),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const C=Yme(i.url);if(C&&Vr.protocols.indexOf(C)===-1){r(new lt("Unsupported protocol "+C+":",lt.ERR_BAD_REQUEST,e));return}w.send(s||null)})},ige=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof lt?d:new fh(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new lt(`timeout ${t} of ms exceeded`,lt.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>he.asap(a),l}},sge=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},oge=async function*(e,t){for await(const n of age(e))yield*sge(n,t)},age=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},uz=(e,t,n,r)=>{const i=oge(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},dz=64*1024,{isFunction:Jy}=he,lge=(({Request:e,Response:t})=>({Request:e,Response:t}))(he.global),{ReadableStream:fz,TextEncoder:hz}=he.global,pz=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cge=e=>{e=he.merge.call({skipUndefined:!0},lge,e);const{fetch:t,Request:n,Response:r}=e,i=t?Jy(t):typeof fetch=="function",s=Jy(n),o=Jy(r);if(!i)return!1;const a=i&&Jy(fz),l=i&&(typeof hz=="function"?(v=>b=>v.encode(b))(new hz):async v=>new Uint8Array(await new n(v).arrayBuffer())),c=s&&a&&pz(()=>{let v=!1;const b=new n(Vr.origin,{body:new fz,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!b}),d=o&&a&&pz(()=>he.isReadableStream(new r("").body)),f={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(b,w)=>{let S=b&&b[v];if(S)return S.call(b);throw new lt(`Response type '${v}' is not supported`,lt.ERR_NOT_SUPPORT,w)})});const p=async v=>{if(v==null)return 0;if(he.isBlob(v))return v.size;if(he.isSpecCompliantForm(v))return(await new n(Vr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(he.isArrayBufferView(v)||he.isArrayBuffer(v))return v.byteLength;if(he.isURLSearchParams(v)&&(v=v+""),he.isString(v))return(await l(v)).byteLength},g=async(v,b)=>{const w=he.toFiniteNumber(v.getContentLength());return w??p(b)};return async v=>{let{url:b,method:w,data:S,signal:C,cancelToken:_,timeout:k,onDownloadProgress:R,onUploadProgress:N,responseType:T,headers:M,withCredentials:O="same-origin",fetchOptions:L}=J8(v),D=t||fetch;T=T?(T+"").toLowerCase():"text";let F=ige([C,_&&_.toAbortSignal()],k),G=null;const z=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let V;try{if(N&&c&&w!=="get"&&w!=="head"&&(V=await g(M,S))!==0){let q=new n(b,{method:"POST",body:S,duplex:"half"}),Y;if(he.isFormData(S)&&(Y=q.headers.get("content-type"))&&M.setContentType(Y),q.body){const[$,J]=az(V,Db(lz(N)));S=uz(q.body,dz,$,J)}}he.isString(O)||(O=O?"include":"omit");const j=s&&"credentials"in n.prototype,H={...L,signal:F,method:w.toUpperCase(),headers:M.normalize().toJSON(),body:S,duplex:"half",credentials:j?O:void 0};G=s&&new n(b,H);let B=await(s?D(G,L):D(b,H));const K=d&&(T==="stream"||T==="response");if(d&&(R||K&&z)){const q={};["status","statusText","headers"].forEach(se=>{q[se]=B[se]});const Y=he.toFiniteNumber(B.headers.get("content-length")),[$,J]=R&&az(Y,Db(lz(R),!0))||[];B=new r(uz(B.body,dz,$,()=>{J&&J(),z&&z()}),q)}T=T||"text";let U=await f[he.findKey(f,T)||"text"](B,v);return!K&&z&&z(),await new Promise((q,Y)=>{Z8(q,Y,{data:U,headers:Ri.from(B.headers),status:B.status,statusText:B.statusText,config:v,request:G})})}catch(j){throw z&&z(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,v,G),{cause:j.cause||j}):lt.from(j,j&&j.code,v,G)}}},uge=new Map,eq=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let o=s.length,a=o,l,c,d=uge;for(;a--;)l=s[a],c=d.get(l),c===void 0&&d.set(l,c=a?new Map:cge(t)),d=c;return c};eq();const gP={http:Tme,xhr:rge,fetch:{get:eq}};he.forEach(gP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mz=e=>`- ${e}`,dge=e=>he.isFunction(e)||e===null||e===!1;function fge(e,t){e=he.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let o=0;o<n;o++){r=e[o];let a;if(i=r,!dge(r)&&(i=gP[(a=String(r)).toLowerCase()],i===void 0))throw new lt(`Unknown adapter '${a}'`);if(i&&(he.isFunction(i)||(i=i.get(t))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(mz).join(`
`):" "+mz(o[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const tq={getAdapter:fge,adapters:gP};function P_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fh(null,e)}function gz(e){return P_(e),e.headers=Ri.from(e.headers),e.data=k_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tq.getAdapter(e.adapter||Og.adapter,e)(e).then(function(r){return P_(e),r.data=k_.call(e,e.transformResponse,r),r.headers=Ri.from(r.headers),r},function(r){return X8(r)||(P_(e),r&&r.response&&(r.response.data=k_.call(e,e.transformResponse,r.response),r.response.headers=Ri.from(r.response.headers))),Promise.reject(r)})}const nq="1.13.2",bw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const vz={};bw.transitional=function(t,n,r){function i(s,o){return"[Axios v"+nq+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new lt(i(o," has been removed"+(n?" in "+n:"")),lt.ERR_DEPRECATED);return n&&!vz[o]&&(vz[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};bw.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function hge(e,t,n){if(typeof e!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new lt("option "+s+" must be "+l,lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new lt("Unknown option "+s,lt.ERR_BAD_OPTION)}}const J0={assertOptions:hge,validators:bw},bo=J0.validators;let gu=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sz,response:new sz}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Tu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&J0.assertOptions(r,{silentJSONParsing:bo.transitional(bo.boolean),forcedJSONParsing:bo.transitional(bo.boolean),clarifyTimeoutError:bo.transitional(bo.boolean)},!1),i!=null&&(he.isFunction(i)?n.paramsSerializer={serialize:i}:J0.assertOptions(i,{encode:bo.function,serialize:bo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),J0.assertOptions(n,{baseUrl:bo.spelling("baseURL"),withXsrfToken:bo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&he.merge(s.common,s[n.method]);s&&he.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Ri.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,f=0,p;if(!l){const v=[gz.bind(this),void 0];for(v.unshift(...a),v.push(...c),p=v.length,d=Promise.resolve(n);f<p;)d=d.then(v[f++],v[f++]);return d}p=a.length;let g=n;for(;f<p;){const v=a[f++],b=a[f++];try{g=v(g)}catch(w){b.call(this,w);break}}try{d=gz.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=Tu(this.defaults,t);const n=Q8(t.baseURL,t.url,t.allowAbsoluteUrls);return G8(n,t.params,t.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(t){gu.prototype[t]=function(n,r){return this.request(Tu(r||{},{method:t,url:n,data:(r||{}).data}))}});he.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Tu(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}gu.prototype[t]=n(),gu.prototype[t+"Form"]=n(!0)});let pge=class rq{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new fh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new rq(function(i){t=i}),cancel:t}}};function mge(e){return function(n){return e.apply(null,n)}}function gge(e){return he.isObject(e)&&e.isAxiosError===!0}const cT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cT).forEach(([e,t])=>{cT[t]=e});function iq(e){const t=new gu(e),n=I8(gu.prototype.request,t);return he.extend(n,gu.prototype,t,{allOwnKeys:!0}),he.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return iq(Tu(e,i))},n}const zn=iq(Og);zn.Axios=gu;zn.CanceledError=fh;zn.CancelToken=pge;zn.isCancel=X8;zn.VERSION=nq;zn.toFormData=yw;zn.AxiosError=lt;zn.Cancel=zn.CanceledError;zn.all=function(t){return Promise.all(t)};zn.spread=mge;zn.isAxiosError=gge;zn.mergeConfig=Tu;zn.AxiosHeaders=Ri;zn.formToJSON=e=>Y8(he.isHTMLForm(e)?new FormData(e):e);zn.getAdapter=tq.getAdapter;zn.HttpStatusCode=cT;zn.default=zn;const{Axios:v7e,AxiosError:y7e,CanceledError:b7e,isCancel:x7e,CancelToken:w7e,VERSION:S7e,all:E7e,Cancel:_7e,isAxiosError:C7e,spread:A7e,toFormData:T7e,AxiosHeaders:R7e,HttpStatusCode:k7e,formToJSON:P7e,getAdapter:N7e,mergeConfig:M7e}=zn,{slice:vge,forEach:yge}=[];function bge(e){return yge.call(vge.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function xge(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const yz=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,wge=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let s=`${e}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!yz.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!yz.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},bz={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=wge(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Sge={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return bz.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=t;n&&typeof document<"u"&&bz.create(n,e,r,i,s)}},Ege={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const s=r.substring(1).split("&");for(let o=0;o<s.length;o++){const a=s[o].indexOf("=");a>0&&s[o].substring(0,a)===t&&(n=s[o].substring(a+1))}}return n}},_ge={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const s=i.substring(1);if(t){const o=s.split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===t&&(r=o[a].substring(l+1))}}if(r)return r;if(!r&&n>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let Yd=null;const xz=()=>{if(Yd!==null)return Yd;try{if(Yd=typeof window<"u"&&window.localStorage!==null,!Yd)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Yd=!1}return Yd};var Cge={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&xz())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&xz()&&window.localStorage.setItem(n,e)}};let Xd=null;const wz=()=>{if(Xd!==null)return Xd;try{if(Xd=typeof window<"u"&&window.sessionStorage!==null,!Xd)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Xd=!1}return Xd};var Age={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&wz())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&wz()&&window.sessionStorage.setItem(n,e)}},Tge={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)t.push(n[s]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},Rge={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},kge={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},Pge={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let sq=!1;try{document.cookie,sq=!0}catch{}const oq=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];sq||oq.splice(1,1);const Nge=()=>({order:oq,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class aq{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=bge(n,this.options||{},Nge()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Sge),this.addDetector(Ege),this.addDetector(Cge),this.addDetector(Age),this.addDetector(Tge),this.addDetector(Rge),this.addDetector(kge),this.addDetector(Pge),this.addDetector(_ge)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!xge(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}aq.type="languageDetector";function uT(e){"@babel/helpers - typeof";return uT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uT(e)}function lq(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":uT(XMLHttpRequest))==="object"}function Mge(e){return!!e&&typeof e.then=="function"}function Oge(e){return Mge(e)?e:Promise.resolve(e)}const Dge="modulepreload",Ige=function(e){return"/logos/"+e},Sz={},of=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(n.map(c=>{if(c=Ige(c),c in Sz)return;Sz[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Dge,d||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ez(Object(n),!0).forEach(function(r){jge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jge(e,t,n){return(t=Lge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lge(e){var t=zge(e,"string");return Ru(t)=="symbol"?t:t+""}function zge(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var lc=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?lc=global.fetch:typeof window<"u"&&window.fetch&&(lc=window.fetch);var _m;lq()&&(typeof global<"u"&&global.XMLHttpRequest?_m=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(_m=window.XMLHttpRequest));var Ib;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Ib=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Ib=window.ActiveXObject));typeof lc!="function"&&(lc=void 0);if(!lc&&!_m&&!Ib)try{of(()=>import("./browser-ponyfill-CCJoU_sS.js").then(e=>e.b),[]).then(function(e){lc=e.default}).catch(function(){})}catch{}var dT=function(t,n){if(n&&Ru(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},Cz=function(t,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(c){r(null,{status:l.status,data:c})}).catch(r)};if(i){var o=i(t,n);if(o instanceof Promise){o.then(s).catch(r);return}}typeof fetch=="function"?fetch(t,n).then(s).catch(r):lc(t,n).then(s).catch(r)},Az=!1,Fge=function(t,n,r,i){t.queryStringParams&&(n=dT(n,t.queryStringParams));var s=_z({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var o=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,a=_z({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:s},Az?{}:o),l=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{Cz(n,a,i,l)}catch(c){if(!o||Object.keys(o).length===0||!c.message||c.message.indexOf("not implemented")<0)return i(c);try{Object.keys(o).forEach(function(d){delete a[d]}),Cz(n,a,i,l),Az=!0}catch(d){i(d)}}},$ge=function(t,n,r,i){r&&Ru(r)==="object"&&(r=dT("",r).slice(1)),t.queryStringParams&&(n=dT(n,t.queryStringParams));try{var s=_m?new _m:new Ib("MSXML2.XMLHTTP.3.0");s.open(r?"POST":"GET",n,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=t.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},Hge=function(t,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},lc&&n.indexOf("file:")!==0)return Fge(t,n,r,i);if(lq()||typeof ActiveXObject=="function")return $ge(t,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(n),!0).forEach(function(r){cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uq(r.key),r)}}function Vge(e,t,n){return t&&Uge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=qge(e,"string");return Mf(t)=="symbol"?t:t+""}function qge(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wge=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return cq({},r,i||"")},parseLoadPayload:function(n,r){},request:Hge,reloadInterval:typeof window<"u"?!1:3600*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},dq=(function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bge(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return Vge(e,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=N_(N_(N_({},Wge()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return r.reload()},this.options.reloadInterval);Mf(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=Oge(l),l.then(function(c){if(!c)return o(null,{});var d=a.services.interpolator.interpolate(c,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(d,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this,a=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,c=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,c,function(d,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&d&&d.message){var p=d.message.toLowerCase(),g=["failed","fetch","network","load"].find(function(w){return p.indexOf(w)>-1});if(g)return r("failed loading "+n+": "+d.message,!0)}if(d)return r(d,!1);var v,b;try{typeof f.data=="string"?v=o.options.parse(f.data,i,s):v=f.data}catch{b="failed parsing "+n+" to json"}if(b)return r(b,!1);r(null,v)})}},{key:"create",value:function(n,r,i,s,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),c=0,d=[],f=[];n.forEach(function(p){var g=a.options.addPath;typeof a.options.addPath=="function"&&(g=a.options.addPath(p,r));var v=a.services.interpolator.interpolate(g,{lng:p,ns:r});a.options.request(a.options,v,l,function(b,w){c+=1,d.push(b),f.push(w),c===n.length&&typeof o=="function"&&o(d,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],c=function(f){var p=s.toResolveHierarchy(f);p.forEach(function(g){l.indexOf(g)<0&&l.push(g)})};c(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return c(d)}),l.forEach(function(d){n.allOptions.ns.forEach(function(f){i.read(d,f,"read",null,null,function(p,g){p&&o.warn("loading namespace ".concat(f," for language ").concat(d," failed"),p),!p&&g&&o.log("loaded namespace ".concat(f," for language ").concat(d),g),i.loaded("".concat(d,"|").concat(f),p,g)})})})}}}])})();dq.type="backend";Yr.use(dq).use(aq).use(ace).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},backend:{loadPath:"/logos/locales/{{lng}}.json".replace(/\/+/g,"/"),queryStringParams:{v:"1.0.5"}},react:{useSuspense:!0}});const Gt=zn.create({baseURL:"https://16.58.117.143.sslip.io/api"});Gt.interceptors.request.use(e=>{const{user:t,isGuest:n,guestUniverse:r}=Ln.getState();return e.headers["Accept-Language"]=Yr.language||"en",n?(console.log(" [API] Enviando request como Guest"),e.headers["X-Guest-Mode"]="true",t?.id&&(e.headers["X-User-Id"]=t.id),r&&(e.headers["X-Target-Universe"]=r.pineconeFilter,e.headers["X-Target-Lang"]=r.lang)):t?.token&&(e.headers.Authorization=`Bearer ${t.token}`),e},e=>Promise.reject(e));Gt.interceptors.response.use(e=>e,e=>{if(e.response?.status===401){const{logout:t,isGuest:n}=Ln.getState();if(!n){t();const r="/logos/login".replace(/\/+/g,"/");window.location.href=r}}return Promise.reject(e)});function Gge({isOpen:e,onClose:t,onSelect:n,onSelectEmpty:r}){const{t:i}=lo(),[s,o]=x.useState([]),[a,l]=x.useState(!1);return x.useEffect(()=>{e&&(l(!0),Gt.get("/public/universes").then(c=>o(c.data)).catch(c=>console.error("Erro ao carregar universos",c)).finally(()=>l(!1)))},[e]),E.jsx(kg,{open:e,onOpenChange:t,children:E.jsx(ch,{className:"max-w-4xl bg-[#0a0a0a] border-white/10 text-white p-0 overflow-hidden shadow-2xl",children:E.jsxs("div",{className:"p-8",children:[E.jsxs(pw,{className:"mb-8",children:[E.jsx(uh,{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:i("tour.modal_title")}),E.jsx("p",{className:"text-gray-400",children:i("tour.modal_desc")})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a&&E.jsxs("div",{className:"h-64 rounded-2xl border border-white/5 bg-zinc-900/50 animate-pulse relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"}),E.jsxs("div",{className:"absolute bottom-6 left-6 right-6 space-y-3",children:[E.jsx("div",{className:"h-6 w-2/3 bg-white/10 rounded"}),E.jsx("div",{className:"h-4 w-full bg-white/5 rounded"}),E.jsx("div",{className:"h-6 w-24 bg-blue-900/20 rounded mt-2"})]})]}),!a&&s.map(c=>E.jsxs("div",{className:"group relative h-64 rounded-2xl overflow-hidden border border-white/10 bg-zinc-900 cursor-default transition-all hover:border-white/20",children:[E.jsx("img",{src:c.imageUrl,alt:"Cover",className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:opacity-20 transition-opacity duration-500"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),E.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-end",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:i(c.titleKey)}),E.jsx("p",{className:"text-sm text-gray-300 line-clamp-2 mb-4",children:i(c.descriptionKey)}),E.jsx("div",{className:"flex items-center gap-2 mb-4 group-hover:opacity-0 transition-opacity duration-300",children:E.jsxs("span",{className:"text-xs font-mono text-cyan-400 bg-cyan-950/30 px-2 py-1 rounded border border-cyan-500/20",children:[c.nodeCount?.toLocaleString()," ",i("tour.stars_count")]})}),E.jsx("div",{className:"translate-y-20 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 absolute inset-x-6 bottom-6 flex gap-2",children:c.availableLanguages.map(d=>E.jsxs(ct,{size:"sm",onClick:()=>n(c.id,d,c.pineconeFilterValue),className:"flex-1 bg-white/10 hover:bg-white text-white hover:text-black border border-white/20 backdrop-blur-md transition-colors",children:[d==="pt"&&" PT",d==="en"&&" EN",d==="pl"&&" PL"]},d))})]})]},c.id)),E.jsxs("div",{onClick:r,className:"group h-64 rounded-2xl border-2 border-dashed border-white/10 hover:border-white/30 bg-transparent hover:bg-white/5 flex flex-col items-center justify-center cursor-pointer transition-all",children:[E.jsx("div",{className:"p-4 rounded-full bg-white/5 group-hover:bg-white/10 mb-4 transition-transform group-hover:scale-110",children:E.jsx(Ba,{className:"w-8 h-8 text-gray-400 group-hover:text-white"})}),E.jsx("h3",{className:"text-xl font-bold text-gray-300 group-hover:text-white transition-colors",children:i("universe.empty.title")}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:i("universe.empty.desc")})]})]})]})})})}function Kge(){const e=jk(),{logout:t,user:n,isGuest:r,guestUniverse:i,setGuestUniverse:s}=Ln(),o=tl(),{t:a,i18n:l}=lo(),c=Gx(),d=o.pathname.startsWith("/universe"),f=R=>o.pathname===R,p=`/universe/${n?.id||"user-1"}`,[g,v]=x.useState(!1);x.useEffect(()=>{v(!!(r&&!i))},[r,i]);const b=(R,N,T)=>{s({id:R,lang:N,pineconeFilter:T}),v(!1),c("/universe/guest")},w=()=>{s({id:"empty",lang:l.language,pineconeFilter:"none"}),v(!1),c("/universe/guest")},S=R=>{l.changeLanguage(R),localStorage.setItem("i18nextLng",R)},C=R=>`rounded-full px-4 transition-all duration-300 ${R?"bg-white/10 text-white hover:bg-white/20":"text-zinc-400 hover:text-white hover:bg-white/5"}`,_=()=>l.language==="pl"?"":l.language==="pt"?"":"",k=()=>{t();const R="/logos/login".replace(/\/+/g,"/");if(r){window.location.href=R;return}e.signoutRedirect({post_logout_redirect_uri:window.location.origin+R})};return E.jsxs("div",{className:"h-screen w-screen bg-[#050505] text-white flex flex-col overflow-hidden font-sans relative",children:[E.jsxs("header",{className:"h-16 shrink-0 border-b border-white/10 bg-black/50 backdrop-blur-md z-[100] flex items-center justify-between px-6",children:[E.jsxs(Gl,{to:p,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 bg-blue-500 blur-lg opacity-20 rounded-full"}),E.jsx("img",{src:"/logo-icon.png",alt:"Logos",className:"w-8 h-8 relative z-10"})]}),E.jsx("span",{className:"font-bold text-xl tracking-widest text-white font-sans",children:"LOGOS"})]}),E.jsxs("nav",{className:"hidden md:flex items-center gap-1 bg-white/5 p-1 rounded-full border border-white/5 shadow-lg",children:[E.jsx(Gl,{to:p,children:E.jsxs(ct,{variant:"ghost",size:"sm",className:C(d),children:[E.jsx(Voe,{className:"w-4 h-4 mr-2"})," ",a("nav.galaxy")]})}),E.jsx(Gl,{to:"/library",children:E.jsxs(ct,{variant:"ghost",size:"sm",className:C(f("/library")),children:[E.jsx(YU,{className:"w-4 h-4 mr-2"})," ",a("nav.library")]})}),E.jsx(Gl,{to:"/store",children:E.jsxs(ct,{variant:"ghost",size:"sm",className:C(f("/store")),children:[E.jsx(yae,{className:"w-4 h-4 mr-2"})," ",a("nav.store")]})}),E.jsx(Gl,{to:"/research",children:E.jsxs(ct,{variant:"ghost",size:"sm",className:C(f("/research")),children:[E.jsx(rae,{className:"w-4 h-4 mr-2"})," ",a("nav.research")]})}),E.jsx(Gl,{to:"/profile",children:E.jsxs(ct,{variant:"ghost",size:"sm",className:C(f("/profile")),children:[E.jsx(tV,{className:"w-4 h-4 mr-2"})," ",a("nav.profile")]})})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs(l8,{children:[E.jsx(c8,{asChild:!0,children:E.jsx(ct,{variant:"ghost",size:"sm",className:"h-8 w-12 px-0 rounded-full border border-white/10 bg-white/5",children:E.jsx("span",{className:"text-lg",children:_()})})}),E.jsxs(cP,{align:"end",className:"bg-[#0a0a0a] border-white/10 text-white min-w-[120px]",children:[E.jsxs(rm,{onClick:()=>S("en"),children:[E.jsx("span",{children:""})," English"]}),E.jsxs(rm,{onClick:()=>S("pt"),children:[E.jsx("span",{children:""})," Portugus"]}),E.jsxs(rm,{onClick:()=>S("pl"),children:[E.jsx("span",{children:""})," Polski"]})]})]}),E.jsxs("div",{className:"text-right hidden lg:block",children:[E.jsx("p",{className:"text-xs font-bold text-white",children:n?.name||a("nav.guest")}),E.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:n?.role||"GUEST"})]}),E.jsx(ct,{variant:"ghost",size:"icon",onClick:k,className:"text-gray-400 hover:text-red-400",children:E.jsx(XU,{className:"w-4 h-4"})})]})]}),E.jsx("main",{className:"flex-1 relative w-full h-full overflow-hidden",children:E.jsx(oie,{})}),E.jsx(Gge,{isOpen:g,onClose:()=>{},onSelect:b,onSelectEmpty:w})]})}const vP=x.createContext({});function yP(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const bP=typeof window<"u",fq=bP?x.useLayoutEffect:x.useEffect,xw=x.createContext(null);function xP(e,t){e.indexOf(t)===-1&&e.push(t)}function wP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const qa=(e,t,n)=>n>t?t:n<e?e:n;let SP=()=>{};const Wa={},hq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function pq(e){return typeof e=="object"&&e!==null}const mq=e=>/^0[^.\s]+$/u.test(e);function EP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Rs=e=>e,Yge=(e,t)=>n=>t(e(n)),Dg=(...e)=>e.reduce(Yge),Cm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class _P{constructor(){this.subscriptions=[]}add(t){return xP(this.subscriptions,t),()=>wP(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bo=e=>e*1e3,Ss=e=>e/1e3;function gq(e,t){return t?e*(1e3/t):0}const vq=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xge=1e-7,Zge=12;function Qge(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=vq(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Xge&&++a<Zge);return o}function Ig(e,t,n,r){if(e===t&&n===r)return Rs;const i=s=>Qge(s,0,1,e,n);return s=>s===0||s===1?s:vq(i(s),t,r)}const yq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bq=e=>t=>1-e(1-t),xq=Ig(.33,1.53,.69,.99),CP=bq(xq),wq=yq(CP),Sq=e=>(e*=2)<1?.5*CP(e):.5*(2-Math.pow(2,-10*(e-1))),AP=e=>1-Math.sin(Math.acos(e)),Eq=bq(AP),_q=yq(AP),Jge=Ig(.42,0,1,1),eve=Ig(0,0,.58,1),Cq=Ig(.42,0,.58,1),tve=e=>Array.isArray(e)&&typeof e[0]!="number",Aq=e=>Array.isArray(e)&&typeof e[0]=="number",nve={linear:Rs,easeIn:Jge,easeInOut:Cq,easeOut:eve,circIn:AP,circInOut:_q,circOut:Eq,backIn:CP,backInOut:wq,backOut:xq,anticipate:Sq},rve=e=>typeof e=="string",Rz=e=>{if(Aq(e)){SP(e.length===4);const[t,n,r,i]=e;return Ig(t,n,r,i)}else if(rve(e))return nve[e];return e},e0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ive(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(a)}const c={schedule:(d,f=!1,p=!1)=>{const v=p&&i?n:r;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const sve=40;function Tq(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=e0.reduce((_,k)=>(_[k]=ive(s),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:p,render:g,postRender:v}=o,b=()=>{const _=Wa.useManualTiming?i.timestamp:performance.now();n=!1,Wa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,sve),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(b))},w=()=>{n=!0,r=!0,i.isProcessing||e(b)};return{schedule:e0.reduce((_,k)=>{const R=o[k];return _[k]=(N,T=!1,M=!1)=>(n||w(),R.schedule(N,T,M)),_},{}),cancel:_=>{for(let k=0;k<e0.length;k++)o[e0[k]].cancel(_)},state:i,steps:o}}const{schedule:vn,cancel:cc,state:Mr,steps:M_}=Tq(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0);let eb;function ove(){eb=void 0}const Ei={now:()=>(eb===void 0&&Ei.set(Mr.isProcessing||Wa.useManualTiming?Mr.timestamp:performance.now()),eb),set:e=>{eb=e,queueMicrotask(ove)}},Rq=e=>t=>typeof t=="string"&&t.startsWith(e),kq=Rq("--"),ave=Rq("var(--"),TP=e=>ave(e)?lve.test(e.split("/*")[0].trim()):!1,lve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Am={...hh,transform:e=>qa(0,1,e)},t0={...hh,default:1},im=e=>Math.round(e*1e5)/1e5,RP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cve(e){return e==null}const uve=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kP=(e,t)=>n=>!!(typeof n=="string"&&uve.test(n)&&n.startsWith(e)||t&&!cve(n)&&Object.prototype.hasOwnProperty.call(n,t)),Pq=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(RP);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dve=e=>qa(0,255,e),O_={...hh,transform:e=>Math.round(dve(e))},lu={test:kP("rgb","red"),parse:Pq("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+O_.transform(e)+", "+O_.transform(t)+", "+O_.transform(n)+", "+im(Am.transform(r))+")"};function fve(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const fT={test:kP("#"),parse:fve,transform:lu.transform},jg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ql=jg("deg"),Uo=jg("%"),Ze=jg("px"),hve=jg("vh"),pve=jg("vw"),kz={...Uo,parse:e=>Uo.parse(e)/100,transform:e=>Uo.transform(e*100)},af={test:kP("hsl","hue"),parse:Pq("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Uo.transform(im(t))+", "+Uo.transform(im(n))+", "+im(Am.transform(r))+")"},Zn={test:e=>lu.test(e)||fT.test(e)||af.test(e),parse:e=>lu.test(e)?lu.parse(e):af.test(e)?af.parse(e):fT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?lu.transform(e):af.transform(e),getAnimatableNone:e=>{const t=Zn.parse(e);return t.alpha=0,Zn.transform(t)}},mve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gve(e){return isNaN(e)&&typeof e=="string"&&(e.match(RP)?.length||0)+(e.match(mve)?.length||0)>0}const Nq="number",Mq="color",vve="var",yve="var(",Pz="${}",bve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(bve,l=>(Zn.test(l)?(r.color.push(s),i.push(Mq),n.push(Zn.parse(l))):l.startsWith(yve)?(r.var.push(s),i.push(vve),n.push(l)):(r.number.push(s),i.push(Nq),n.push(parseFloat(l))),++s,Pz)).split(Pz);return{values:n,split:a,indexes:r,types:i}}function Oq(e){return Tm(e).values}function Dq(e){const{split:t,types:n}=Tm(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===Nq?s+=im(i[o]):a===Mq?s+=Zn.transform(i[o]):s+=i[o]}return s}}const xve=e=>typeof e=="number"?0:Zn.test(e)?Zn.getAnimatableNone(e):e;function wve(e){const t=Oq(e);return Dq(e)(t.map(xve))}const uc={test:gve,parse:Oq,createTransformer:Dq,getAnimatableNone:wve};function D_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Sve({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=D_(l,a,e+1/3),s=D_(l,a,e),o=D_(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jb(e,t){return n=>n>0?t:e}const Tn=(e,t,n)=>e+(t-e)*n,I_=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Eve=[fT,lu,af],_ve=e=>Eve.find(t=>t.test(e));function Nz(e){const t=_ve(e);if(!t)return!1;let n=t.parse(e);return t===af&&(n=Sve(n)),n}const Mz=(e,t)=>{const n=Nz(e),r=Nz(t);if(!n||!r)return jb(e,t);const i={...n};return s=>(i.red=I_(n.red,r.red,s),i.green=I_(n.green,r.green,s),i.blue=I_(n.blue,r.blue,s),i.alpha=Tn(n.alpha,r.alpha,s),lu.transform(i))},hT=new Set(["none","hidden"]);function Cve(e,t){return hT.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ave(e,t){return n=>Tn(e,t,n)}function PP(e){return typeof e=="number"?Ave:typeof e=="string"?TP(e)?jb:Zn.test(e)?Mz:kve:Array.isArray(e)?Iq:typeof e=="object"?Zn.test(e)?Mz:Tve:jb}function Iq(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>PP(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Tve(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=PP(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Rve(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const kve=(e,t)=>{const n=uc.createTransformer(t),r=Tm(e),i=Tm(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hT.has(e)&&!i.values.length||hT.has(t)&&!r.values.length?Cve(e,t):Dg(Iq(Rve(r,i),i.values),n):jb(e,t)};function jq(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Tn(e,t,n):PP(e)(e,t)}const Pve=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>vn.update(t,n),stop:()=>cc(t),now:()=>Mr.isProcessing?Mr.timestamp:Ei.now()}},Lq=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lb=2e4;function NP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Lb;)t+=n,r=e.next(t);return t>=Lb?1/0:t}function Nve(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(NP(r),Lb);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Ss(i)}}const Mve=5;function zq(e,t,n){const r=Math.max(t-Mve,0);return gq(n-e(r),t-r)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},j_=.001;function Ove({duration:e=Mn.duration,bounce:t=Mn.bounce,velocity:n=Mn.velocity,mass:r=Mn.mass}){let i,s,o=1-t;o=qa(Mn.minDamping,Mn.maxDamping,o),e=qa(Mn.minDuration,Mn.maxDuration,Ss(e)),o<1?(i=c=>{const d=c*o,f=d*e,p=d-n,g=pT(c,o),v=Math.exp(-f);return j_-p/g*v},s=c=>{const f=c*o*e,p=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*e,v=Math.exp(-f),b=pT(Math.pow(c,2),o);return(-i(c)+j_>0?-1:1)*((p-g)*v)/b}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-j_+d*f},s=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const a=5/e,l=Ive(i,s,a);if(e=Bo(e),isNaN(l))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const Dve=12;function Ive(e,t,n){let r=n;for(let i=1;i<Dve;i++)r=r-e(r)/t(r);return r}function pT(e,t){return e*Math.sqrt(1-t*t)}const jve=["duration","bounce"],Lve=["stiffness","damping","mass"];function Oz(e,t){return t.some(n=>e[n]!==void 0)}function zve(e){let t={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...e};if(!Oz(e,Lve)&&Oz(e,jve))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*qa(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Mn.mass,stiffness:i,damping:s}}else{const n=Ove(e);t={...t,...n,mass:Mn.mass},t.isResolvedFromDuration=!0}return t}function zb(e=Mn.visualDuration,t=Mn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:g}=zve({...n,velocity:-Ss(n.velocity||0)}),v=p||0,b=c/(2*Math.sqrt(l*d)),w=o-s,S=Ss(Math.sqrt(l/d)),C=Math.abs(w)<5;r||(r=C?Mn.restSpeed.granular:Mn.restSpeed.default),i||(i=C?Mn.restDelta.granular:Mn.restDelta.default);let _;if(b<1){const R=pT(S,b);_=N=>{const T=Math.exp(-b*S*N);return o-T*((v+b*S*w)/R*Math.sin(R*N)+w*Math.cos(R*N))}}else if(b===1)_=R=>o-Math.exp(-S*R)*(w+(v+S*w)*R);else{const R=S*Math.sqrt(b*b-1);_=N=>{const T=Math.exp(-b*S*N),M=Math.min(R*N,300);return o-T*((v+b*S*w)*Math.sinh(M)+R*w*Math.cosh(M))/R}}const k={calculatedDuration:g&&f||null,next:R=>{const N=_(R);if(g)a.done=R>=f;else{let T=R===0?v:0;b<1&&(T=R===0?Bo(v):zq(_,R,N));const M=Math.abs(T)<=r,O=Math.abs(o-N)<=i;a.done=M&&O}return a.value=a.done?o:N,a},toString:()=>{const R=Math.min(NP(k),Lb),N=Lq(T=>k.next(R*T).value,R,30);return R+"ms "+N},toTransition:()=>{}};return k}zb.applyToOptions=e=>{const t=Nve(e,100,zb);return e.ease=t.ease,e.duration=Bo(t.duration),e.type="keyframes",e};function mT({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},g=M=>a!==void 0&&M<a||l!==void 0&&M>l,v=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let b=n*t;const w=f+b,S=o===void 0?w:o(w);S!==w&&(b=S-f);const C=M=>-b*Math.exp(-M/r),_=M=>S+C(M),k=M=>{const O=C(M),L=_(M);p.done=Math.abs(O)<=c,p.value=p.done?S:L};let R,N;const T=M=>{g(p.value)&&(R=M,N=zb({keyframes:[p.value,v(p.value)],velocity:zq(_,M,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:M=>{let O=!1;return!N&&R===void 0&&(O=!0,k(M),T(M)),R!==void 0&&M>=R?N.next(M-R):(!O&&k(M),p)}}}function Fve(e,t,n){const r=[],i=n||Wa.mix||jq,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Rs:t;a=Dg(l,a)}r.push(a)}return r}function $ve(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(SP(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Fve(t,r,i),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const p=Cm(e[f],e[f+1],d);return a[f](p)};return n?d=>c(qa(e[0],e[s-1],d)):c}function Hve(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Cm(0,t,r);e.push(Tn(n,1,i))}}function Bve(e){const t=[0];return Hve(t,e.length-1),t}function Uve(e,t){return e.map(n=>n*t)}function Vve(e,t){return e.map(()=>t||Cq).splice(0,e.length-1)}function sm({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=tve(r)?r.map(Rz):Rz(r),s={done:!1,value:t[0]},o=Uve(n&&n.length===t.length?n:Bve(t),e),a=$ve(o,t,{ease:Array.isArray(i)?i:Vve(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const qve=e=>e!==null;function MP(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(qve),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Wve={decay:mT,inertia:mT,tween:sm,keyframes:sm,spring:zb};function Fq(e){typeof e.type=="string"&&(e.type=Wve[e.type])}class OP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Gve=e=>e/100;class DP extends OP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ei.now()&&this.tick(Ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Fq(t);const{type:n=sm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||sm;l!==sm&&typeof a[0]!="number"&&(this.mixKeyframes=Dg(Gve,jq(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=NP(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:g,type:v,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-c*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,k=r;if(f){const M=Math.min(this.currentTime,i)/a;let O=Math.floor(M),L=M%1;!L&&M>=1&&(L=1),L===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(p==="reverse"?(L=1-L,g&&(L-=g/a)):p==="mirror"&&(k=o)),_=qa(0,1,L)*a}const R=C?{done:!1,value:d[0]}:k.next(_);s&&(R.value=s(R.value));let{done:N}=R;!C&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&v!==mT&&(R.value=MP(d,this.options,w,this.speed)),b&&b(R.value),T&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return Ss(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ss(t)}get time(){return Ss(this.currentTime)}set time(t){t=Bo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ei.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ss(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Pve,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Kve(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const cu=e=>e*180/Math.PI,gT=e=>{const t=cu(Math.atan2(e[1],e[0]));return vT(t)},Yve={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gT,rotateZ:gT,skewX:e=>cu(Math.atan(e[1])),skewY:e=>cu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},vT=e=>(e=e%360,e<0&&(e+=360),e),Dz=gT,Iz=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),jz=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Xve={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Iz,scaleY:jz,scale:e=>(Iz(e)+jz(e))/2,rotateX:e=>vT(cu(Math.atan2(e[6],e[5]))),rotateY:e=>vT(cu(Math.atan2(-e[2],e[0]))),rotateZ:Dz,rotate:Dz,skewX:e=>cu(Math.atan(e[4])),skewY:e=>cu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yT(e){return e.includes("scale")?1:0}function bT(e,t){if(!e||e==="none")return yT(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Xve,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Yve,i=a}if(!i)return yT(t);const s=r[t],o=i[1].split(",").map(Qve);return typeof s=="function"?s(o):o[s]}const Zve=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return bT(n,t)};function Qve(e){return parseFloat(e.trim())}const ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mh=new Set(ph),Lz=e=>e===hh||e===Ze,Jve=new Set(["x","y","z"]),eye=ph.filter(e=>!Jve.has(e));function tye(e){const t=[];return eye.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const vu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bT(t,"x"),y:(e,{transform:t})=>bT(t,"y")};vu.translateX=vu.x;vu.translateY=vu.y;const yu=new Set;let xT=!1,wT=!1,ST=!1;function $q(){if(wT){const e=Array.from(yu).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=tye(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wT=!1,xT=!1,yu.forEach(e=>e.complete(ST)),yu.clear()}function Hq(){yu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wT=!0)})}function nye(){ST=!0,Hq(),$q(),ST=!1}class IP{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(yu.add(this),xT||(xT=!0,vn.read(Hq),vn.resolveKeyframes($q))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}Kve(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),yu.delete(this)}cancel(){this.state==="scheduled"&&(yu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rye=e=>e.startsWith("--");function iye(e,t,n){rye(t)?e.style.setProperty(t,n):e.style[t]=n}const sye=EP(()=>window.ScrollTimeline!==void 0),oye={};function aye(e,t){const n=EP(e);return()=>oye[t]??n()}const Bq=aye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wp=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wp([0,.65,.55,1]),circOut:Wp([.55,0,1,.45]),backIn:Wp([.31,.01,.66,-.59]),backOut:Wp([.33,1.53,.69,.99])};function Uq(e,t){if(e)return typeof e=="function"?Bq()?Lq(e,t):"ease-out":Aq(e)?Wp(e):Array.isArray(e)?e.map(n=>Uq(n,t)||zz.easeOut):zz[e]}function lye(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const f=Uq(a,i);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(d,p)}function Vq(e){return typeof e=="function"&&"applyToOptions"in e}function cye({type:e,...t}){return Vq(e)&&Bq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class uye extends OP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,SP(typeof t.type!="string");const c=cye(t);this.animation=lye(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=MP(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):iye(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ss(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ss(t)}get time(){return Ss(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Bo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&sye()?(this.animation.timeline=t,Rs):n(this)}}const qq={anticipate:Sq,backInOut:wq,circInOut:_q};function dye(e){return e in qq}function fye(e){typeof e.ease=="string"&&dye(e.ease)&&(e.ease=qq[e.ease])}const Fz=10;class hye extends uye{constructor(t){fye(t),Fq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new DP({...o,autoplay:!1}),l=Bo(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Fz).value,a.sample(l).value,Fz),a.stop()}}const $z=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(uc.test(e)||e==="0")&&!e.startsWith("url("));function pye(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mye(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=$z(i,t),a=$z(s,t);return!o||!a?!1:pye(e)||(n==="spring"||Vq(n))&&r}function ET(e){e.duration=0,e.type="keyframes"}const gye=new Set(["opacity","clipPath","filter","transform"]),vye=EP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yye(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return vye()&&n&&gye.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const bye=40;class xye extends OP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ei.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:d,...f},g=d?.KeyframeResolver||IP;this.keyframeResolver=new g(a,(v,b,w)=>this.onKeyframesResolved(v,b,p,!w),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ei.now(),mye(t,s,o,a)||((Wa.instantAnimations||!l)&&d?.(MP(t,r,n)),t[0]=t[t.length-1],ET(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>bye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!c&&yye(p)?new hye({...p,element:p.motionValue.owner.current}):new DP(p);g.finished.then(()=>this.notifyFinished()).catch(Rs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nye()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sye(e){const t=wye.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Wq(e,t,n=1){const[r,i]=Sye(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return hq(o)?parseFloat(o):o}return TP(i)?Wq(i,t,n+1):i}function jP(e,t){return e?.[t]??e?.default??e}const Gq=new Set(["width","height","top","left","right","bottom",...ph]),Eye={test:e=>e==="auto",parse:e=>e},Kq=e=>t=>t.test(e),Yq=[hh,Ze,Uo,ql,pve,hve,Eye],Hz=e=>Yq.find(Kq(e));function _ye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mq(e):!0}const Cye=new Set(["brightness","contrast","saturate","opacity"]);function Aye(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(RP)||[];if(!r)return e;const i=n.replace(r,"");let s=Cye.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Tye=/\b([a-z-]*)\(.*?\)/gu,_T={...uc,getAnimatableNone:e=>{const t=e.match(Tye);return t?t.map(Aye).join(" "):e}},Bz={...hh,transform:Math.round},Rye={rotate:ql,rotateX:ql,rotateY:ql,rotateZ:ql,scale:t0,scaleX:t0,scaleY:t0,scaleZ:t0,skew:ql,skewX:ql,skewY:ql,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Am,originX:kz,originY:kz,originZ:Ze},LP={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...Rye,zIndex:Bz,fillOpacity:Am,strokeOpacity:Am,numOctaves:Bz},kye={...LP,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:_T,WebkitFilter:_T},Xq=e=>kye[e];function Zq(e,t){let n=Xq(e);return n!==_T&&(n=uc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Pye=new Set(["auto","none","0"]);function Nye(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!Pye.has(s)&&Tm(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=Zq(n,i)}class Mye extends IP{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),TP(c))){const d=Wq(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Gq.has(r)||t.length!==2)return;const[i,s]=t,o=Hz(i),a=Hz(s);if(o!==a)if(Lz(o)&&Lz(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else vu[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||_ye(t[i]))&&r.push(i);r.length&&Nye(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=vu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function Oye(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Qq=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Jq(e){return pq(e)&&"offsetHeight"in e}const Uz=30,Dye=e=>!isNaN(parseFloat(e));class Iye{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Ei.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ei.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Dye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _P);const r=this.events[t].add(n);return t==="change"?()=>{r(),vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Uz)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Uz);return gq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Of(e,t){return new Iye(e,t)}const{schedule:zP}=Tq(queueMicrotask,!1),Us={x:!1,y:!1};function eW(){return Us.x||Us.y}function jye(e){return e==="x"||e==="y"?Us[e]?null:(Us[e]=!0,()=>{Us[e]=!1}):Us.x||Us.y?null:(Us.x=Us.y=!0,()=>{Us.x=Us.y=!1})}function tW(e,t){const n=Oye(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Vz(e){return!(e.pointerType==="touch"||eW())}function Lye(e,t,n={}){const[r,i,s]=tW(e,n),o=a=>{if(!Vz(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=f=>{Vz(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const nW=(e,t)=>t?e===t?!0:nW(e,t.parentElement):!1,FP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,zye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fye(e){return zye.has(e.tagName)||e.tabIndex!==-1}const tb=new WeakSet;function qz(e){return t=>{t.key==="Enter"&&e(t)}}function L_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $ye=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=qz(()=>{if(tb.has(n))return;L_(n,"down");const i=qz(()=>{L_(n,"up")}),s=()=>L_(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Wz(e){return FP(e)&&!eW()}function Hye(e,t,n={}){const[r,i,s]=tW(e,n),o=a=>{const l=a.currentTarget;if(!Wz(a))return;tb.add(l);const c=t(l,a),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),tb.has(l)&&tb.delete(l),Wz(g)&&typeof c=="function"&&c(g,{success:v})},f=g=>{d(g,l===window||l===document||n.useGlobalTarget||nW(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),Jq(a)&&(a.addEventListener("focus",c=>$ye(c,i)),!Fye(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function rW(e){return pq(e)&&"ownerSVGElement"in e}function Bye(e){return rW(e)&&e.tagName==="svg"}const Wr=e=>!!(e&&e.getVelocity),Uye=[...Yq,Zn,uc],Vye=e=>Uye.find(Kq(e)),$P=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Gz(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qye(...e){return t=>{let n=!1;const r=e.map(i=>{const s=Gz(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Gz(e[i],null)}}}}function Wye(...e){return x.useCallback(qye(...e),e)}class Gye extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Jq(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Kye({children:e,isPresent:t,anchorX:n,root:r}){const i=x.useId(),s=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=x.useContext($P),l=Wye(s,e?.ref);return x.useInsertionEffect(()=>{const{width:c,height:d,top:f,left:p,right:g}=o.current;if(t||!s.current||!c||!d)return;const v=n==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");a&&(b.nonce=a);const w=r??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[t]),E.jsx(Gye,{isPresent:t,childRef:s,sizeRef:o,children:x.cloneElement(e,{ref:l})})}const Yye=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=yP(Xye),d=x.useId();let f=!0,p=x.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const v of c.values())if(!v)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&f&&(p={...p}),x.useMemo(()=>{c.forEach((g,v)=>c.set(v,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=E.jsx(Kye,{isPresent:n,anchorX:a,root:l,children:e})),E.jsx(xw.Provider,{value:p,children:e})};function Xye(){return new Map}function iW(e=!0){const t=x.useContext(xw);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=x.useId();x.useEffect(()=>{if(e)return i(s)},[e]);const o=x.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const n0=e=>e.key||"";function Kz(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const CT=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=iW(o),f=x.useMemo(()=>Kz(e),[e]),p=o&&!c?[]:f.map(n0),g=x.useRef(!0),v=x.useRef(f),b=yP(()=>new Map),[w,S]=x.useState(f),[C,_]=x.useState(f);fq(()=>{g.current=!1,v.current=f;for(let N=0;N<C.length;N++){const T=n0(C[N]);p.includes(T)?b.delete(T):b.get(T)!==!0&&b.set(T,!1)}},[C,p.length,p.join("-")]);const k=[];if(f!==w){let N=[...f];for(let T=0;T<C.length;T++){const M=C[T],O=n0(M);p.includes(O)||(N.splice(T,0,M),k.push(M))}return s==="wait"&&k.length&&(N=k),_(Kz(N)),S(f),null}const{forceRender:R}=x.useContext(vP);return E.jsx(E.Fragment,{children:C.map(N=>{const T=n0(N),M=o&&!c?!1:f===C||p.includes(T),O=()=>{if(b.has(T))b.set(T,!0);else return;let L=!0;b.forEach(D=>{D||(L=!1)}),L&&(R?.(),_(v.current),o&&d?.(),r&&r())};return E.jsx(Yye,{isPresent:M,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:M?void 0:O,anchorX:a,children:N},T)})})},sW=x.createContext({strict:!1}),Yz={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Df={};for(const e in Yz)Df[e]={isEnabled:t=>Yz[e].some(n=>!!t[n])};function Zye(e){for(const t in e)Df[t]={...Df[t],...e[t]}}const Qye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qye.has(e)}let oW=e=>!Fb(e);function Jye(e){typeof e=="function"&&(oW=t=>t.startsWith("on")?!Fb(t):e(t))}try{Jye(require("@emotion/is-prop-valid").default)}catch{}function e0e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(oW(i)||n===!0&&Fb(i)||!t&&!Fb(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const ww=x.createContext({});function Sw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rm(e){return typeof e=="string"||Array.isArray(e)}const HP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BP=["initial",...HP];function Ew(e){return Sw(e.animate)||BP.some(t=>Rm(e[t]))}function aW(e){return!!(Ew(e)||e.variants)}function t0e(e,t){if(Ew(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Rm(n)?n:void 0,animate:Rm(r)?r:void 0}}return e.inherit!==!1?t:{}}function n0e(e){const{initial:t,animate:n}=t0e(e,x.useContext(ww));return x.useMemo(()=>({initial:t,animate:n}),[Xz(t),Xz(n)])}function Xz(e){return Array.isArray(e)?e.join(" "):e}function Zz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=Zz(e,t.target.x),r=Zz(e,t.target.y);return`${n}% ${r}%`}},r0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=uc.parse(e);if(i.length>5)return r;const s=uc.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Tn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},AT={borderRadius:{...Tp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tp,borderTopRightRadius:Tp,borderBottomLeftRadius:Tp,borderBottomRightRadius:Tp,boxShadow:r0e};function lW(e,{layout:t,layoutId:n}){return mh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!AT[e]||e==="opacity")}const i0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s0e=ph.length;function o0e(e,t,n){let r="",i=!0;for(let s=0;s<s0e;s++){const o=ph[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Qq(a,LP[o]);if(!l){i=!1;const d=i0e[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function UP(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(mh.has(l)){o=!0;continue}else if(kq(l)){i[l]=c;continue}else{const d=Qq(c,LP[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=o0e(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const VP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cW(e,t,n){for(const r in t)!Wr(t[r])&&!lW(r,n)&&(e[r]=t[r])}function a0e({transformTemplate:e},t){return x.useMemo(()=>{const n=VP();return UP(n,t,e),Object.assign({},n.vars,n.style)},[t])}function l0e(e,t){const n=e.style||{},r={};return cW(r,n,e),Object.assign(r,a0e(e,t)),r}function c0e(e,t){const n={},r=l0e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const u0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},d0e={offset:"strokeDashoffset",array:"strokeDasharray"};function f0e(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?u0e:d0e;e[s.offset]=Ze.transform(-r);const o=Ze.transform(t),a=Ze.transform(n);e[s.array]=`${o} ${a}`}function uW(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,d){if(UP(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&f0e(f,i,s,o,!1)}const dW=()=>({...VP(),attrs:{}}),fW=e=>typeof e=="string"&&e.toLowerCase()==="svg";function h0e(e,t,n,r){const i=x.useMemo(()=>{const s=dW();return uW(s,t,fW(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};cW(s,e.style,e),i.style={...s,...i.style}}return i}const p0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qP(e){return typeof e!="string"||e.includes("-")?!1:!!(p0e.indexOf(e)>-1||/[A-Z]/u.test(e))}function m0e(e,t,n,{latestValues:r},i,s=!1){const a=(qP(e)?h0e:c0e)(t,r,i,e),l=e0e(t,typeof e=="string",s),c=e!==x.Fragment?{...l,...a,ref:n}:{},{children:d}=t,f=x.useMemo(()=>Wr(d)?d.get():d,[d]);return x.createElement(e,{...c,children:f})}function Qz(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function WP(e,t,n,r){if(typeof t=="function"){const[i,s]=Qz(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Qz(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function nb(e){return Wr(e)?e.get():e}function g0e({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:v0e(n,r,i,e),renderState:t()}}function v0e(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=nb(s[p]);let{initial:o,animate:a}=e;const l=Ew(e),c=aW(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Sw(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const v=WP(e,p[g]);if(v){const{transitionEnd:b,transition:w,...S}=v;for(const C in S){let _=S[C];if(Array.isArray(_)){const k=d?_.length-1:0;_=_[k]}_!==null&&(i[C]=_)}for(const C in b)i[C]=b[C]}}}return i}const hW=e=>(t,n)=>{const r=x.useContext(ww),i=x.useContext(xw),s=()=>g0e(e,t,r,i);return n?s():yP(s)};function GP(e,t,n){const{style:r}=e,i={};for(const s in r)(Wr(r[s])||t.style&&Wr(t.style[s])||lW(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const y0e=hW({scrapeMotionValuesFromProps:GP,createRenderState:VP});function pW(e,t,n){const r=GP(e,t,n);for(const i in e)if(Wr(e[i])||Wr(t[i])){const s=ph.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const b0e=hW({scrapeMotionValuesFromProps:pW,createRenderState:dW}),x0e=Symbol.for("motionComponentSymbol");function lf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function w0e(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lf(n)&&(n.current=r))},[t])}const KP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),S0e="framerAppearId",mW="data-"+KP(S0e),gW=x.createContext({});function E0e(e,t,n,r,i){const{visualElement:s}=x.useContext(ww),o=x.useContext(sW),a=x.useContext(xw),l=x.useContext($P).reducedMotion,c=x.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,f=x.useContext(gW);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&_0e(c.current,n,i,f);const p=x.useRef(!1);x.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const g=n[mW],v=x.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return fq(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),v.current=!1),d.enteringChildren=void 0)}),d}function _0e(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:vW(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&lf(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function vW(e){if(e)return e.options.allowProjection!==!1?e.projection:vW(e.parent)}function z_(e,{forwardMotionProps:t=!1}={},n,r){n&&Zye(n);const i=qP(e)?b0e:y0e;function s(a,l){let c;const d={...x.useContext($P),...a,layoutId:C0e(a)},{isStatic:f}=d,p=n0e(a),g=i(a,f);if(!f&&bP){A0e();const v=T0e(d);c=v.MeasureLayout,p.visualElement=E0e(e,g,d,r,v.ProjectionNode)}return E.jsxs(ww.Provider,{value:p,children:[c&&p.visualElement?E.jsx(c,{visualElement:p.visualElement,...d}):null,m0e(e,a,w0e(g,p.visualElement,l),g,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=x.forwardRef(s);return o[x0e]=e,o}function C0e({layoutId:e}){const t=x.useContext(vP).id;return t&&e!==void 0?t+"-"+e:e}function A0e(e,t){x.useContext(sW).strict}function T0e(e){const{drag:t,layout:n}=Df;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function R0e(e,t){if(typeof Proxy>"u")return z_;const n=new Map,r=(s,o)=>z_(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,z_(o,void 0,e,t)),n.get(o))})}function yW({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function k0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function P0e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function F_(e){return e===void 0||e===1}function TT({scale:e,scaleX:t,scaleY:n}){return!F_(e)||!F_(t)||!F_(n)}function tu(e){return TT(e)||bW(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bW(e){return Jz(e.x)||Jz(e.y)}function Jz(e){return e&&e!=="0%"}function $b(e,t,n){const r=e-n,i=t*r;return n+i}function eF(e,t,n,r,i){return i!==void 0&&(e=$b(e,i,r)),$b(e,n,r)+t}function RT(e,t=0,n=1,r,i){e.min=eF(e.min,t,n,r,i),e.max=eF(e.max,t,n,r,i)}function xW(e,{x:t,y:n}){RT(e.x,t.translate,t.scale,t.originPoint),RT(e.y,n.translate,n.scale,n.originPoint)}const tF=.999999999999,nF=1.0000000000001;function N0e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&uf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,xW(e,o)),r&&tu(s.latestValues)&&uf(e,s.latestValues))}t.x<nF&&t.x>tF&&(t.x=1),t.y<nF&&t.y>tF&&(t.y=1)}function cf(e,t){e.min=e.min+t,e.max=e.max+t}function rF(e,t,n,r,i=.5){const s=Tn(e.min,e.max,i);RT(e,t,n,s,r)}function uf(e,t){rF(e.x,t.x,t.scaleX,t.scale,t.originX),rF(e.y,t.y,t.scaleY,t.scale,t.originY)}function wW(e,t){return yW(P0e(e.getBoundingClientRect(),t))}function M0e(e,t,n){const r=wW(e,n),{scroll:i}=t;return i&&(cf(r.x,i.offset.x),cf(r.y,i.offset.y)),r}const iF=()=>({translate:0,scale:1,origin:0,originPoint:0}),df=()=>({x:iF(),y:iF()}),sF=()=>({min:0,max:0}),dr=()=>({x:sF(),y:sF()}),kT={current:null},SW={current:!1};function O0e(){if(SW.current=!0,!!bP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>kT.current=e.matches;e.addEventListener("change",t),t()}else kT.current=!1}const D0e=new WeakMap;function I0e(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Wr(i))e.addValue(r,i);else if(Wr(s))e.addValue(r,Of(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,Of(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const oF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j0e{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ei.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,vn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ew(n),this.isVariantNode=aW(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const g=f[p];l[p]!==void 0&&Wr(g)&&g.set(l[p])}}mount(t){this.current=t,D0e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),SW.current||O0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:kT.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cc(this.notifyUpdate),cc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=mh.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&vn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Df){const n=Df[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oF.length;r++){const i=oF[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=I0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Of(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(hq(r)||mq(r))?r=parseFloat(r):!Vye(r)&&uc.test(n)&&(r=Zq(t,n)),this.setBaseTarget(t,Wr(r)?r.get():r)),Wr(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=WP(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Wr(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _P),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){zP.render(this.render)}}class EW extends j0e{constructor(){super(...arguments),this.KeyframeResolver=Mye}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Wr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _W(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function L0e(e){return window.getComputedStyle(e)}class z0e extends EW{constructor(){super(...arguments),this.type="html",this.renderInstance=_W}readValueFromInstance(t,n){if(mh.has(n))return this.projection?.isProjecting?yT(n):Zve(t,n);{const r=L0e(t),i=(kq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return wW(t,n)}build(t,n,r){UP(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return GP(t,n,r)}}const CW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F0e(e,t,n,r){_W(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(CW.has(i)?i:KP(i),t.attrs[i])}class $0e extends EW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mh.has(n)){const r=Xq(n);return r&&r.default||0}return n=CW.has(n)?n:KP(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pW(t,n,r)}build(t,n,r){uW(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){F0e(t,n,r,i)}mount(t){this.isSVGTag=fW(t.tagName),super.mount(t)}}const H0e=(e,t)=>qP(e)?new $0e(t):new z0e(t,{allowProjection:e!==x.Fragment});function xf(e,t,n){const r=e.getProps();return WP(r,t,n!==void 0?n:r.custom,e)}const PT=e=>Array.isArray(e);function B0e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Of(n))}function U0e(e){return PT(e)?e[e.length-1]||0:e}function V0e(e,t){const n=xf(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=U0e(s[o]);B0e(e,o,a)}}function q0e(e){return!!(Wr(e)&&e.add)}function NT(e,t){const n=e.getValue("willChange");if(q0e(n))return n.add(t);if(!n&&Wa.WillChange){const r=new Wa.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function AW(e){return e.props[mW]}const W0e=e=>e!==null;function G0e(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(W0e),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const K0e={type:"spring",stiffness:500,damping:25,restSpeed:10},Y0e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),X0e={type:"keyframes",duration:.8},Z0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q0e=(e,{keyframes:t})=>t.length>2?X0e:mh.has(e)?e.startsWith("scale")?Y0e(t[1]):K0e:Z0e;function J0e({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const YP=(e,t,n,r={},i,s)=>o=>{const a=jP(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Bo(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};J0e(a)||Object.assign(d,Q0e(e,d)),d.duration&&(d.duration=Bo(d.duration)),d.repeatDelay&&(d.repeatDelay=Bo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(ET(d),d.delay===0&&(f=!0)),(Wa.instantAnimations||Wa.skipAnimations)&&(f=!0,ET(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!s&&t.get()!==void 0){const p=G0e(d.keyframes,a);if(p!==void 0){vn.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new DP(d):new xye(d)};function ebe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function TW(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),p=a[d];if(p===void 0||c&&ebe(c,d))continue;const g={delay:n,...jP(s||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const S=AW(e);if(S){const C=window.MotionHandoffAnimation(S,d,vn);C!==null&&(g.startTime=C,b=!0)}}NT(e,d),f.start(YP(d,f,p,e.shouldReduceMotion&&Gq.has(d)?{type:!1}:g,e,b));const w=f.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{vn.update(()=>{o&&V0e(e,o)})}),l}function RW(e,t,n,r=0,i=1){const s=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function MT(e,t,n={}){const r=xf(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(TW(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return tbe(e,t,l,c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function tbe(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(MT(l,t,{...o,delay:n+(typeof r=="function"?0:r)+RW(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function nbe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>MT(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=MT(e,t,n);else{const i=typeof t=="function"?xf(e,t,n.custom):t;r=Promise.all(TW(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function kW(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const rbe=BP.length;function PW(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PW(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<rbe;n++){const r=BP[n],i=e.props[r];(Rm(i)||i===!1)&&(t[r]=i)}return t}const ibe=[...HP].reverse(),sbe=HP.length;function obe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>nbe(e,n,r)))}function abe(e){let t=obe(e),n=aF(),r=!0;const i=l=>(c,d)=>{const f=xf(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...v}=f;c={...c,...v,...g}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,d=PW(e.parent)||{},f=[],p=new Set;let g={},v=1/0;for(let w=0;w<sbe;w++){const S=ibe[w],C=n[S],_=c[S]!==void 0?c[S]:d[S],k=Rm(_),R=S===l?C.isActive:null;R===!1&&(v=w);let N=_===d[S]&&_!==c[S]&&k;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),C.protectedKeys={...g},!C.isActive&&R===null||!_&&!C.prevProp||Sw(_)||typeof _=="boolean")continue;const T=lbe(C.prevProp,_);let M=T||S===l&&C.isActive&&!N&&k||w>v&&k,O=!1;const L=Array.isArray(_)?_:[_];let D=L.reduce(i(S),{});R===!1&&(D={});const{prevResolvedValues:F={}}=C,G={...F,...D},z=H=>{M=!0,p.has(H)&&(O=!0,p.delete(H)),C.needsAnimating[H]=!0;const B=e.getValue(H);B&&(B.liveStyle=!1)};for(const H in G){const B=D[H],K=F[H];if(g.hasOwnProperty(H))continue;let U=!1;PT(B)&&PT(K)?U=!kW(B,K):U=B!==K,U?B!=null?z(H):p.add(H):B!==void 0&&p.has(H)?z(H):C.protectedKeys[H]=!0}C.prevProp=_,C.prevResolvedValues=D,C.isActive&&(g={...g,...D}),r&&e.blockInitialAnimation&&(M=!1);const V=N&&T;M&&(!V||O)&&f.push(...L.map(H=>{const B={type:S};if(typeof H=="string"&&r&&!V&&e.manuallyAnimateOnMount&&e.parent){const{parent:K}=e,U=xf(K,H);if(K.enteringChildren&&U){const{delayChildren:q}=U.transition||{};B.delay=RW(K.enteringChildren,e,q)}}return{animation:H,options:B}}))}if(p.size){const w={};if(typeof c.initial!="boolean"){const S=xf(e,Array.isArray(c.initial)?c.initial[0]:c.initial);S&&S.transition&&(w.transition=S.transition)}p.forEach(S=>{const C=e.getBaseTarget(S),_=e.getValue(S);_&&(_.liveStyle=!0),w[S]=C??null}),f.push({animation:w})}let b=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(f):Promise.resolve()}function a(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,c)),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=aF()}}}function lbe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kW(t,e):!1}function eu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aF(){return{animate:eu(!0),whileInView:eu(),whileHover:eu(),whileTap:eu(),whileDrag:eu(),whileFocus:eu(),exit:eu()}}class vc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class cbe extends vc{constructor(t){super(t),t.animationState||(t.animationState=abe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Sw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ube=0;class dbe extends vc{constructor(){super(...arguments),this.id=ube++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const fbe={animation:{Feature:cbe},exit:{Feature:dbe}};function km(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Lg(e){return{point:{x:e.pageX,y:e.pageY}}}const hbe=e=>t=>FP(t)&&e(t,Lg(t));function om(e,t,n,r){return km(e,t,hbe(n),r)}const NW=1e-4,pbe=1-NW,mbe=1+NW,MW=.01,gbe=0-MW,vbe=0+MW;function ni(e){return e.max-e.min}function ybe(e,t,n){return Math.abs(e-t)<=n}function lF(e,t,n,r=.5){e.origin=r,e.originPoint=Tn(t.min,t.max,e.origin),e.scale=ni(n)/ni(t),e.translate=Tn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pbe&&e.scale<=mbe||isNaN(e.scale))&&(e.scale=1),(e.translate>=gbe&&e.translate<=vbe||isNaN(e.translate))&&(e.translate=0)}function am(e,t,n,r){lF(e.x,t.x,n.x,r?r.originX:void 0),lF(e.y,t.y,n.y,r?r.originY:void 0)}function cF(e,t,n){e.min=n.min+t.min,e.max=e.min+ni(t)}function bbe(e,t,n){cF(e.x,t.x,n.x),cF(e.y,t.y,n.y)}function uF(e,t,n){e.min=t.min-n.min,e.max=e.min+ni(t)}function Hb(e,t,n){uF(e.x,t.x,n.x),uF(e.y,t.y,n.y)}function gs(e){return[e("x"),e("y")]}const OW=({current:e})=>e?e.ownerDocument.defaultView:null,dF=(e,t)=>Math.abs(e-t);function xbe(e,t){const n=dF(e.x,t.x),r=dF(e.y,t.y);return Math.sqrt(n**2+r**2)}class DW{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=H_(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=xbe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:b}=p,{timestamp:w}=Mr;this.history.push({...b,timestamp:w});const{onStart:S,onMove:C}=this.handlers;g||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=$_(g,this.transformPagePoint),vn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=H_(p.type==="pointercancel"?this.lastMoveEventInfo:$_(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,S),b&&b(p,S)},!FP(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Lg(t),l=$_(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Mr;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,H_(l,this.history)),this.removeListeners=Dg(om(this.contextWindow,"pointermove",this.handlePointerMove),om(this.contextWindow,"pointerup",this.handlePointerUp),om(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cc(this.updatePoint)}}function $_(e,t){return t?{point:t(e.point)}:e}function fF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function H_({point:e},t){return{point:e,delta:fF(e,IW(t)),offset:fF(e,wbe(t)),velocity:Sbe(t,.1)}}function wbe(e){return e[0]}function IW(e){return e[e.length-1]}function Sbe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=IW(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Bo(t)));)n--;if(!r)return{x:0,y:0};const s=Ss(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ebe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Tn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Tn(n,e,r.max):Math.min(e,n)),e}function hF(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _be(e,{top:t,left:n,bottom:r,right:i}){return{x:hF(e.x,n,i),y:hF(e.y,t,r)}}function pF(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Cbe(e,t){return{x:pF(e.x,t.x),y:pF(e.y,t.y)}}function Abe(e,t){let n=.5;const r=ni(e),i=ni(t);return i>r?n=Cm(t.min,t.max-r,e.min):r>i&&(n=Cm(e.min,e.max-i,t.min)),qa(0,1,n)}function Tbe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const OT=.35;function Rbe(e=OT){return e===!1?e=0:e===!0&&(e=OT),{x:mF(e,"left","right"),y:mF(e,"top","bottom")}}function mF(e,t,n){return{min:gF(e,t),max:gF(e,n)}}function gF(e,t){return typeof e=="number"?e:e[t]||0}const kbe=new WeakMap;class Pbe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lg(f).point)},o=(f,p)=>{const{drag:g,dragPropagation:v,onDragStart:b}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jye(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gs(S=>{let C=this.getAxisMotionValue(S).get()||0;if(Uo.test(C)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[S];k&&(C=ni(k)*(parseFloat(C)/100))}}this.originPoint[S]=C}),b&&vn.postRender(()=>b(f,p)),NT(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:b,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=p;if(v&&this.currentDirection===null){this.currentDirection=Nbe(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>gs(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new DW(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:OW(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&vn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!r0(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ebe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&lf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=_be(r.layoutBox,t):this.constraints=!1,this.elastic=Rbe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gs(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Tbe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lf(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=M0e(r,i.root,this.visualElement.getTransformPagePoint());let o=Cbe(i.layout.layoutBox,s);if(n){const a=n(k0e(o));this.hasMutatedConstraints=!!a,a&&(o=yW(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=gs(d=>{if(!r0(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return NT(this.visualElement,t),r.start(YP(t,r,0,n,this.visualElement,!1))}stopAnimation(){gs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){gs(n=>{const{drag:r}=this.getProps();if(!r0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Tn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=Abe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gs(o=>{if(!r0(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Tn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;kbe.set(this.visualElement,this);const t=this.visualElement.current,n=om(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();lf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vn.read(r);const o=km(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(gs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=OT,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function r0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Nbe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Mbe extends vc{constructor(t){super(t),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new Pbe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const vF=e=>(t,n)=>{e&&vn.postRender(()=>e(t,n))};class Obe extends vc{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(t){this.session=new DW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OW(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vF(t),onStart:vF(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&vn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=om(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let B_=!1;class Dbe extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),B_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,B_=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||vn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;B_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jW(e){const[t,n]=iW(),r=x.useContext(vP);return E.jsx(Dbe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(gW),isPresent:t,safeToRemove:n})}function Ibe(e,t,n){const r=Wr(e)?e:Of(e);return r.start(YP("",r,t,n)),r.animation}const jbe=(e,t)=>e.depth-t.depth;class Lbe{constructor(){this.children=[],this.isDirty=!1}add(t){xP(this.children,t),this.isDirty=!0}remove(t){wP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jbe),this.isDirty=!1,this.children.forEach(t)}}function zbe(e,t){const n=Ei.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(cc(r),e(s-t))};return vn.setup(r,!0),()=>cc(r)}const LW=["TopLeft","TopRight","BottomLeft","BottomRight"],Fbe=LW.length,yF=e=>typeof e=="string"?parseFloat(e):e,bF=e=>typeof e=="number"||Ze.test(e);function $be(e,t,n,r,i,s){i?(e.opacity=Tn(0,n.opacity??1,Hbe(r)),e.opacityExit=Tn(t.opacity??1,0,Bbe(r))):s&&(e.opacity=Tn(t.opacity??1,n.opacity??1,r));for(let o=0;o<Fbe;o++){const a=`border${LW[o]}Radius`;let l=xF(t,a),c=xF(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||bF(l)===bF(c)?(e[a]=Math.max(Tn(yF(l),yF(c),r),0),(Uo.test(c)||Uo.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Tn(t.rotate||0,n.rotate||0,r))}function xF(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Hbe=zW(0,.5,Eq),Bbe=zW(.5,.95,Rs);function zW(e,t,n){return r=>r<e?0:r>t?1:n(Cm(e,t,r))}function wF(e,t){e.min=t.min,e.max=t.max}function Hs(e,t){wF(e.x,t.x),wF(e.y,t.y)}function SF(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function EF(e,t,n,r,i){return e-=t,e=$b(e,1/n,r),i!==void 0&&(e=$b(e,1/i,r)),e}function Ube(e,t=0,n=1,r=.5,i,s=e,o=e){if(Uo.test(t)&&(t=parseFloat(t),t=Tn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Tn(s.min,s.max,r);e===s&&(a-=t),e.min=EF(e.min,t,n,a,i),e.max=EF(e.max,t,n,a,i)}function _F(e,t,[n,r,i],s,o){Ube(e,t[n],t[r],t[i],t.scale,s,o)}const Vbe=["x","scaleX","originX"],qbe=["y","scaleY","originY"];function CF(e,t,n,r){_F(e.x,t,Vbe,n?n.x:void 0,r?r.x:void 0),_F(e.y,t,qbe,n?n.y:void 0,r?r.y:void 0)}function AF(e){return e.translate===0&&e.scale===1}function FW(e){return AF(e.x)&&AF(e.y)}function TF(e,t){return e.min===t.min&&e.max===t.max}function Wbe(e,t){return TF(e.x,t.x)&&TF(e.y,t.y)}function RF(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $W(e,t){return RF(e.x,t.x)&&RF(e.y,t.y)}function kF(e){return ni(e.x)/ni(e.y)}function PF(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Gbe{constructor(){this.members=[]}add(t){xP(this.members,t),t.scheduleRender()}remove(t){if(wP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kbe(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const U_=["","X","Y","Z"],Ybe=1e3;let Xbe=0;function V_(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function HW(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=AW(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",vn,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&HW(r)}function BW({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=Xbe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Jbe),this.nodes.forEach(rxe),this.nodes.forEach(ixe),this.nodes.forEach(exe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lbe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _P),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=rW(o)&&!Bye(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;vn.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=zbe(p,250),rb.hasAnimatedSinceResize&&(rb.hasAnimatedSinceResize=!1,this.nodes.forEach(OF)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||cxe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=c.getProps(),S=!this.targetLayout||!$W(this.targetLayout,g),C=!f&&p;if(this.options.layoutRoot||this.resumeFrom||C||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...jP(v,"layout"),onPlay:b,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,C)}else f||OF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sxe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NF);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nxe),this.nodes.forEach(Zbe),this.nodes.forEach(Qbe)):this.nodes.forEach(MF),this.clearAllSnapshots();const a=Ei.now();Mr.delta=qa(0,1e3/60,a-Mr.timestamp),Mr.timestamp=a,Mr.isProcessing=!0,M_.update.process(Mr),M_.preRender.process(Mr),M_.render.process(Mr),Mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(txe),this.sharedNodes.forEach(oxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ni(this.snapshot.measuredBox.x)&&!ni(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!FW(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||tu(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),uxe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return dr();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dxe))){const{scroll:c}=this.root;c&&(cf(a.x,c.offset.x),cf(a.y,c.offset.y))}return a}removeElementScroll(o){const a=dr();if(Hs(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Hs(a,o),cf(a.x,d.offset.x),cf(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=dr();Hs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&uf(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),tu(d.latestValues)&&uf(l,d.latestValues)}return tu(this.latestValues)&&uf(l,this.latestValues),l}removeTransform(o){const a=dr();Hs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!tu(c.latestValues))continue;TT(c.latestValues)&&c.updateSnapshot();const d=dr(),f=c.measurePageBox();Hs(d,f),CF(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return tu(this.latestValues)&&CF(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Mr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dr(),this.targetWithTransforms=dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),xW(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||TT(this.parent.latestValues)||bW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dr(),this.relativeTargetOrigin=dr(),Hb(this.relativeTargetOrigin,a,l),Hs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Mr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Hs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;N0e(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=dr());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(SF(this.prevProjectionDelta.x,this.projectionDelta.x),SF(this.prevProjectionDelta.y,this.projectionDelta.y)),am(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!PF(this.projectionDelta.x,this.prevProjectionDelta.x)||!PF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=df(),this.projectionDelta=df(),this.projectionDeltaWithTransform=df()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=df();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=dr(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=g!==v,w=this.getStack(),S=!w||w.members.length<=1,C=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(lxe));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const R=k/1e3;DF(f.x,o.x,R),DF(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),axe(this.relativeTarget,this.relativeTargetOrigin,p,R),_&&Wbe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=dr()),Hs(_,this.relativeTarget)),b&&(this.animationValues=d,$be(d,c,this.latestValues,R,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vn.update(()=>{rb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Of(0)),this.currentAnimation=Ibe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ybe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&UW(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||dr();const f=ni(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=ni(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Hs(a,l),uf(a,d),am(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Gbe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&V_("z",o,c,this.animationValues);for(let d=0;d<U_.length;d++)V_(`rotate${U_[d]}`,o,c,this.animationValues),V_(`skew${U_[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=nb(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=nb(a?.pointerEvents)||""),this.hasProjected&&!tu(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=Kbe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),o.transform=f;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in AT){if(d[v]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:S}=AT[v],C=f==="none"?d[v]:b(d[v],c);if(w){const _=w.length;for(let k=0;k<_;k++)o[w[k]]=C}else S?this.options.visualElement.renderState.vars[v]=C:o[v]=C}this.options.layoutId&&(o.pointerEvents=c===this?nb(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(NF),this.root.sharedNodes.clear()}}}function Zbe(e){e.updateLayout()}function Qbe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?gs(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],p=ni(f);f.min=n[d].min,f.max=f.min+p}):UW(i,t.layoutBox,n)&&gs(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],p=ni(n[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const o=df();am(o,n,t.layoutBox);const a=df();s?am(a,e.applyTransform(r,!0),t.measuredBox):am(a,n,t.layoutBox);const l=!FW(o);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=dr();Hb(g,t.layoutBox,f.layoutBox);const v=dr();Hb(v,n,p.layoutBox),$W(g,v)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Jbe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function exe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function txe(e){e.clearSnapshot()}function NF(e){e.clearMeasurements()}function MF(e){e.isLayoutDirty=!1}function nxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function OF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rxe(e){e.resolveTargetDelta()}function ixe(e){e.calcProjection()}function sxe(e){e.resetSkewAndRotation()}function oxe(e){e.removeLeadSnapshot()}function DF(e,t,n){e.translate=Tn(t.translate,0,n),e.scale=Tn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function IF(e,t,n,r){e.min=Tn(t.min,n.min,r),e.max=Tn(t.max,n.max,r)}function axe(e,t,n,r){IF(e.x,t.x,n.x,r),IF(e.y,t.y,n.y,r)}function lxe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cxe={duration:.45,ease:[.4,0,.1,1]},jF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),LF=jF("applewebkit/")&&!jF("chrome/")?Math.round:Rs;function zF(e){e.min=LF(e.min),e.max=LF(e.max)}function uxe(e){zF(e.x),zF(e.y)}function UW(e,t,n){return e==="position"||e==="preserve-aspect"&&!ybe(kF(t),kF(n),.2)}function dxe(e){return e!==e.root&&e.scroll?.wasRoot}const fxe=BW({attachResizeListener:(e,t)=>km(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),q_={current:void 0},VW=BW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!q_.current){const e=new fxe({});e.mount(window),e.setOptions({layoutScroll:!0}),q_.current=e}return q_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hxe={pan:{Feature:Obe},drag:{Feature:Mbe,ProjectionNode:VW,MeasureLayout:jW}};function FF(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&vn.postRender(()=>s(t,Lg(t)))}class pxe extends vc{mount(){const{current:t}=this.node;t&&(this.unmount=Lye(t,(n,r)=>(FF(this.node,r,"Start"),i=>FF(this.node,i,"End"))))}unmount(){}}class mxe extends vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dg(km(this.node.current,"focus",()=>this.onFocus()),km(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $F(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&vn.postRender(()=>s(t,Lg(t)))}class gxe extends vc{mount(){const{current:t}=this.node;t&&(this.unmount=Hye(t,(n,r)=>($F(this.node,r,"Start"),(i,{success:s})=>$F(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const DT=new WeakMap,W_=new WeakMap,vxe=e=>{const t=DT.get(e.target);t&&t(e)},yxe=e=>{e.forEach(vxe)};function bxe({root:e,...t}){const n=e||document;W_.has(n)||W_.set(n,{});const r=W_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(yxe,{root:e,...t})),r[i]}function xxe(e,t,n){const r=bxe(t);return DT.set(e,n),r.observe(e),()=>{DT.delete(e),r.unobserve(e)}}const wxe={some:0,all:1};class Sxe extends vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wxe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return xxe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Exe(t,n))&&this.startObserver()}unmount(){}}function Exe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _xe={inView:{Feature:Sxe},tap:{Feature:gxe},focus:{Feature:mxe},hover:{Feature:pxe}},Cxe={layout:{ProjectionNode:VW,MeasureLayout:jW}},Axe={...fbe,..._xe,...hxe,...Cxe},wr=R0e(Axe,H0e);var Txe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zu=Txe.reduce((e,t)=>{const n=iV(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Rxe="Separator",HF="horizontal",kxe=["horizontal","vertical"],qW=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=HF,...i}=e,s=Pxe(r)?r:HF,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return E.jsx(Zu.div,{"data-orientation":s,...a,...i,ref:t})});qW.displayName=Rxe;function Pxe(e){return kxe.includes(e)}var WW=qW;const Bb=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>E.jsx(WW,{ref:i,decorative:n,orientation:t,className:ot("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Bb.displayName=WW.displayName;function Nxe(){const e=jk(),t=Gx(),{t:n}=lo(),{enterGuestMode:r}=Ln(),[i,s]=x.useState(null);x.useEffect(()=>{e.isAuthenticated&&t("/")},[e.isAuthenticated,t]);const o=async()=>{s("google");try{await e.signinRedirect({extraQueryParams:{kc_idp_hint:"google"}})}catch(c){console.error("Erro Google:",c),s(null)}},a=async()=>{s("standard");try{await e.signinRedirect()}catch(c){console.error("Erro Login:",c),s(null)}},l=()=>{r(),t("/")};return E.jsxs("div",{className:"min-h-screen w-full flex relative overflow-hidden bg-[#050505]",children:[E.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"}),E.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50vw] h-[50vw] bg-purple-600/10 rounded-full blur-[120px] animate-pulse"}),E.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50vw] h-[50vw] bg-blue-600/10 rounded-full blur-[120px] animate-pulse delay-1000"}),E.jsxs("div",{className:"hidden lg:flex w-1/2 flex-col justify-between p-12 relative z-10 border-r border-white/5 bg-black/20 backdrop-blur-sm",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("img",{src:"/logo-icon.png",alt:"Logos",className:"w-10 h-10 drop-shadow-[0_0_15px_rgba(6,182,212,0.5)]"}),E.jsx("span",{className:"font-bold text-2xl tracking-tight text-white font-sans",children:"LOGOS"})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsx("h1",{className:"text-5xl font-bold leading-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-500",children:n("auth.landing_title")}),E.jsx("p",{className:"text-lg text-gray-400 max-w-md leading-relaxed",children:n("auth.landing_subtitle")})]}),E.jsx("div",{className:"text-xs text-gray-600 font-mono",children:n("auth.landing_version")})]}),E.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 relative z-20",children:E.jsxs(wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md space-y-8",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-3xl font-bold tracking-tight text-white",children:n("auth.welcome_back")}),E.jsx("p",{className:"text-sm text-gray-400",children:n("auth.access_galaxy")})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs(ct,{onClick:o,disabled:!!i,className:"w-full h-12 bg-white text-black hover:bg-gray-200 font-semibold text-base flex items-center justify-center gap-3",children:[i==="google"?E.jsx(no,{className:"w-5 h-5 animate-spin"}):E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),E.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),E.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),E.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),n("auth.login_google")]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx(Bb,{className:"bg-white/10"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-[#050505] px-2 text-gray-500",children:"OU"})})]}),E.jsxs(ct,{onClick:a,disabled:!!i,variant:"outline",className:"w-full h-12 border-white/10 bg-white/5 hover:bg-white/10 text-gray-300 justify-between group",children:[E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx(Zoe,{className:"w-4 h-4"})," ",n("auth.login_email")]}),i==="standard"?E.jsx(no,{className:"w-4 h-4 animate-spin"}):E.jsx(Wse,{className:"w-4 h-4 opacity-50 group-hover:translate-x-1"})]}),E.jsxs(ct,{onClick:l,variant:"ghost",className:"w-full h-10 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-950/30 font-medium text-sm border border-transparent hover:border-cyan-500/20",children:[E.jsx(boe,{className:"w-4 h-4 mr-2"})," ",n("auth.tour_mode")]})]}),E.jsxs("div",{className:"text-center text-sm text-gray-500 mt-6",children:["No tem uma conta? ",E.jsx("button",{onClick:a,className:"text-blue-400 hover:underline",children:n("auth.register")})]})]})})]})}function Mxe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const Oxe=e=>{switch(e){case"success":return jxe;case"info":return zxe;case"warning":return Lxe;case"error":return Fxe;default:return null}},Dxe=Array(12).fill(0),Ixe=({visible:e,className:t})=>ie.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ie.createElement("div",{className:"sonner-spinner"},Dxe.map((n,r)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jxe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Lxe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zxe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Fxe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$xe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hxe=()=>{const[e,t]=ie.useState(document.hidden);return ie.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let IT=1;class Bxe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:IT++,o=this.toasts.find(l=>l.id===s),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,o;const a=i.then(async c=>{if(o=["resolve",c],ie.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Vxe(c)&&!c.ok){s=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,p=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,v=typeof f=="object"&&!ie.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(c instanceof Error){s=!1;const f=typeof n.error=="function"?await n.error(c):n.error,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof f=="object"&&!ie.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:p,...v})}else if(n.success!==void 0){s=!1;const f=typeof n.success=="function"?await n.success(c):n.success,p=typeof n.description=="function"?await n.description(c):n.description,v=typeof f=="object"&&!ie.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:p,...v})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;const d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description,g=typeof d=="object"&&!ie.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...g})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{const r=n?.id||IT++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yi=new Bxe,Uxe=(e,t)=>{const n=t?.id||IT++;return yi.addToast({title:e,...t,id:n}),n},Vxe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qxe=Uxe,Wxe=()=>yi.toasts,Gxe=()=>yi.getActiveToasts(),Ue=Object.assign(qxe,{success:yi.success,info:yi.info,warning:yi.warning,error:yi.error,custom:yi.custom,message:yi.message,promise:yi.promise,dismiss:yi.dismiss,loading:yi.loading},{getHistory:Wxe,getToasts:Gxe});Mxe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function i0(e){return e.label!==void 0}const Kxe=3,Yxe="24px",Xxe="16px",BF=4e3,Zxe=356,Qxe=14,Jxe=45,ewe=200;function xo(...e){return e.filter(Boolean).join(" ")}function twe(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const nwe=e=>{var t,n,r,i,s,o,a,l,c;const{invert:d,toast:f,unstyled:p,interacting:g,setHeights:v,visibleToasts:b,heights:w,index:S,toasts:C,expanded:_,removeToast:k,defaultRichColors:R,closeButton:N,style:T,cancelButtonStyle:M,actionButtonStyle:O,className:L="",descriptionClassName:D="",duration:F,position:G,gap:z,expandByDefault:V,classNames:j,icons:H,closeButtonAriaLabel:B="Close toast"}=e,[K,U]=ie.useState(null),[q,Y]=ie.useState(null),[$,J]=ie.useState(!1),[se,ue]=ie.useState(!1),[ee,Z]=ie.useState(!1),[X,fe]=ie.useState(!1),[me,ne]=ie.useState(!1),[we,xe]=ie.useState(0),[Re,Ae]=ie.useState(0),Te=ie.useRef(f.duration||F||BF),We=ie.useRef(null),rt=ie.useRef(null),mt=S===0,ir=S+1<=b,Bt=f.type,Sn=f.dismissible!==!1,Ee=f.className||"",Me=f.descriptionClassName||"",le=ie.useMemo(()=>w.findIndex(Xe=>Xe.toastId===f.id)||0,[w,f.id]),be=ie.useMemo(()=>{var Xe;return(Xe=f.closeButton)!=null?Xe:N},[f.closeButton,N]),Pe=ie.useMemo(()=>f.duration||F||BF,[f.duration,F]),Ve=ie.useRef(0),Ge=ie.useRef(0),sn=ie.useRef(0),fn=ie.useRef(null),[En,Ut]=G.split("-"),_n=ie.useMemo(()=>w.reduce((Xe,tn,$n)=>$n>=le?Xe:Xe+tn.height,0),[w,le]),xt=Hxe(),jr=f.invert||d,On=Bt==="loading";Ge.current=ie.useMemo(()=>le*z+_n,[le,_n]),ie.useEffect(()=>{Te.current=Pe},[Pe]),ie.useEffect(()=>{J(!0)},[]),ie.useEffect(()=>{const Xe=rt.current;if(Xe){const tn=Xe.getBoundingClientRect().height;return Ae(tn),v($n=>[{toastId:f.id,height:tn,position:f.position},...$n]),()=>v($n=>$n.filter(vr=>vr.toastId!==f.id))}},[v,f.id]),ie.useLayoutEffect(()=>{if(!$)return;const Xe=rt.current,tn=Xe.style.height;Xe.style.height="auto";const $n=Xe.getBoundingClientRect().height;Xe.style.height=tn,Ae($n),v(vr=>vr.find(on=>on.toastId===f.id)?vr.map(on=>on.toastId===f.id?{...on,height:$n}:on):[{toastId:f.id,height:$n,position:f.position},...vr])},[$,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const ai=ie.useCallback(()=>{ue(!0),xe(Ge.current),v(Xe=>Xe.filter(tn=>tn.toastId!==f.id)),setTimeout(()=>{k(f)},ewe)},[f,k,v,Ge]);ie.useEffect(()=>{if(f.promise&&Bt==="loading"||f.duration===1/0||f.type==="loading")return;let Xe;return _||g||xt?(()=>{if(sn.current<Ve.current){const vr=new Date().getTime()-Ve.current;Te.current=Te.current-vr}sn.current=new Date().getTime()})():(()=>{Te.current!==1/0&&(Ve.current=new Date().getTime(),Xe=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),ai()},Te.current))})(),()=>clearTimeout(Xe)},[_,g,f,Bt,xt,ai]),ie.useEffect(()=>{f.delete&&(ai(),f.onDismiss==null||f.onDismiss.call(f,f))},[ai,f.delete]);function al(){var Xe;if(H?.loading){var tn;return ie.createElement("div",{className:xo(j?.loader,f==null||(tn=f.classNames)==null?void 0:tn.loader,"sonner-loader"),"data-visible":Bt==="loading"},H.loading)}return ie.createElement(Ixe,{className:xo(j?.loader,f==null||(Xe=f.classNames)==null?void 0:Xe.loader),visible:Bt==="loading"})}const ll=f.icon||H?.[Bt]||Oxe(Bt);var na,ss;return ie.createElement("li",{tabIndex:0,ref:rt,className:xo(L,Ee,j?.toast,f==null||(t=f.classNames)==null?void 0:t.toast,j?.default,j?.[Bt],f==null||(n=f.classNames)==null?void 0:n[Bt]),"data-sonner-toast":"","data-rich-colors":(na=f.richColors)!=null?na:R,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":$,"data-promise":!!f.promise,"data-swiped":me,"data-removed":se,"data-visible":ir,"data-y-position":En,"data-x-position":Ut,"data-index":S,"data-front":mt,"data-swiping":ee,"data-dismissible":Sn,"data-type":Bt,"data-invert":jr,"data-swipe-out":X,"data-swipe-direction":q,"data-expanded":!!(_||V&&$),"data-testid":f.testId,style:{"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${se?we:Ge.current}px`,"--initial-height":V?"auto":`${Re}px`,...T,...f.style},onDragEnd:()=>{Z(!1),U(null),fn.current=null},onPointerDown:Xe=>{Xe.button!==2&&(On||!Sn||(We.current=new Date,xe(Ge.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(Z(!0),fn.current={x:Xe.clientX,y:Xe.clientY})))},onPointerUp:()=>{var Xe,tn,$n;if(X||!Sn)return;fn.current=null;const vr=Number(((Xe=rt.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ho=Number(((tn=rt.current)==null?void 0:tn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),on=new Date().getTime()-(($n=We.current)==null?void 0:$n.getTime()),Lr=K==="x"?vr:ho,ra=Math.abs(Lr)/on;if(Math.abs(Lr)>=Jxe||ra>.11){xe(Ge.current),f.onDismiss==null||f.onDismiss.call(f,f),Y(K==="x"?vr>0?"right":"left":ho>0?"down":"up"),ai(),fe(!0);return}else{var zr,Fr;(zr=rt.current)==null||zr.style.setProperty("--swipe-amount-x","0px"),(Fr=rt.current)==null||Fr.style.setProperty("--swipe-amount-y","0px")}ne(!1),Z(!1),U(null)},onPointerMove:Xe=>{var tn,$n,vr;if(!fn.current||!Sn||((tn=window.getSelection())==null?void 0:tn.toString().length)>0)return;const on=Xe.clientY-fn.current.y,Lr=Xe.clientX-fn.current.x;var ra;const zr=(ra=e.swipeDirections)!=null?ra:twe(G);!K&&(Math.abs(Lr)>1||Math.abs(on)>1)&&U(Math.abs(Lr)>Math.abs(on)?"x":"y");let Fr={x:0,y:0};const cl=Li=>1/(1.5+Math.abs(Li)/20);if(K==="y"){if(zr.includes("top")||zr.includes("bottom"))if(zr.includes("top")&&on<0||zr.includes("bottom")&&on>0)Fr.y=on;else{const Li=on*cl(on);Fr.y=Math.abs(Li)<Math.abs(on)?Li:on}}else if(K==="x"&&(zr.includes("left")||zr.includes("right")))if(zr.includes("left")&&Lr<0||zr.includes("right")&&Lr>0)Fr.x=Lr;else{const Li=Lr*cl(Lr);Fr.x=Math.abs(Li)<Math.abs(Lr)?Li:Lr}(Math.abs(Fr.x)>0||Math.abs(Fr.y)>0)&&ne(!0),($n=rt.current)==null||$n.style.setProperty("--swipe-amount-x",`${Fr.x}px`),(vr=rt.current)==null||vr.style.setProperty("--swipe-amount-y",`${Fr.y}px`)}},be&&!f.jsx&&Bt!=="loading"?ie.createElement("button",{"aria-label":B,"data-disabled":On,"data-close-button":!0,onClick:On||!Sn?()=>{}:()=>{ai(),f.onDismiss==null||f.onDismiss.call(f,f)},className:xo(j?.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(ss=H?.close)!=null?ss:$xe):null,(Bt||f.icon||f.promise)&&f.icon!==null&&(H?.[Bt]!==null||f.icon)?ie.createElement("div",{"data-icon":"",className:xo(j?.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||al():null,f.type!=="loading"?ll:null):null,ie.createElement("div",{"data-content":"",className:xo(j?.content,f==null||(s=f.classNames)==null?void 0:s.content)},ie.createElement("div",{"data-title":"",className:xo(j?.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ie.createElement("div",{"data-description":"",className:xo(D,Me,j?.description,f==null||(a=f.classNames)==null?void 0:a.description)},typeof f.description=="function"?f.description():f.description):null),ie.isValidElement(f.cancel)?f.cancel:f.cancel&&i0(f.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:Xe=>{i0(f.cancel)&&Sn&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Xe),ai())},className:xo(j?.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,ie.isValidElement(f.action)?f.action:f.action&&i0(f.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||O,onClick:Xe=>{i0(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Xe),!Xe.defaultPrevented&&ai())},className:xo(j?.actionButton,f==null||(c=f.classNames)==null?void 0:c.actionButton)},f.action.label):null)};function UF(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function rwe(e,t){const n={};return[e,t].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",a=s?Xxe:Yxe;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}const iwe=ie.forwardRef(function(t,n){const{id:r,invert:i,position:s="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:d,mobileOffset:f,theme:p="light",richColors:g,duration:v,style:b,visibleToasts:w=Kxe,toastOptions:S,dir:C=UF(),gap:_=Qxe,icons:k,containerAriaLabel:R="Notifications"}=t,[N,T]=ie.useState([]),M=ie.useMemo(()=>r?N.filter($=>$.toasterId===r):N.filter($=>!$.toasterId),[N,r]),O=ie.useMemo(()=>Array.from(new Set([s].concat(M.filter($=>$.position).map($=>$.position)))),[M,s]),[L,D]=ie.useState([]),[F,G]=ie.useState(!1),[z,V]=ie.useState(!1),[j,H]=ie.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ie.useRef(null),K=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=ie.useRef(null),q=ie.useRef(!1),Y=ie.useCallback($=>{T(J=>{var se;return(se=J.find(ue=>ue.id===$.id))!=null&&se.delete||yi.dismiss($.id),J.filter(({id:ue})=>ue!==$.id)})},[]);return ie.useEffect(()=>yi.subscribe($=>{if($.dismiss){requestAnimationFrame(()=>{T(J=>J.map(se=>se.id===$.id?{...se,delete:!0}:se))});return}setTimeout(()=>{Nk.flushSync(()=>{T(J=>{const se=J.findIndex(ue=>ue.id===$.id);return se!==-1?[...J.slice(0,se),{...J[se],...$},...J.slice(se+1)]:[$,...J]})})})}),[N]),ie.useEffect(()=>{if(p!=="system"){H(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:J})=>{H(J?"dark":"light")})}catch{$.addListener(({matches:se})=>{try{H(se?"dark":"light")}catch(ue){console.error(ue)}})}},[p]),ie.useEffect(()=>{N.length<=1&&G(!1)},[N]),ie.useEffect(()=>{const $=J=>{var se;if(o.every(Z=>J[Z]||J.code===Z)){var ee;G(!0),(ee=B.current)==null||ee.focus()}J.code==="Escape"&&(document.activeElement===B.current||(se=B.current)!=null&&se.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[o]),ie.useEffect(()=>{if(B.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,q.current=!1)}},[B.current]),ie.createElement("section",{ref:n,"aria-label":`${R} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map(($,J)=>{var se;const[ue,ee]=$.split("-");return M.length?ie.createElement("ol",{key:$,dir:C==="auto"?UF():C,tabIndex:-1,ref:B,className:c,"data-sonner-toaster":!0,"data-sonner-theme":j,"data-y-position":ue,"data-x-position":ee,style:{"--front-toast-height":`${((se=L[0])==null?void 0:se.height)||0}px`,"--width":`${Zxe}px`,"--gap":`${_}px`,...b,...rwe(d,f)},onBlur:Z=>{q.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||q.current||(q.current=!0,U.current=Z.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{z||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},M.filter(Z=>!Z.position&&J===0||Z.position===$).map((Z,X)=>{var fe,me;return ie.createElement(nwe,{key:Z.id,icons:k,index:X,toast:Z,defaultRichColors:g,duration:(fe=S?.duration)!=null?fe:v,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:i,visibleToasts:w,closeButton:(me=S?.closeButton)!=null?me:l,interacting:z,position:$,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,closeButtonAriaLabel:S?.closeButtonAriaLabel,removeToast:Y,toasts:M.filter(ne=>ne.position==Z.position),heights:L.filter(ne=>ne.position==Z.position),setHeights:D,expandByDefault:a,gap:_,expanded:F,swipeDirections:t.swipeDirections})})):null}))});function swe(e,t){return!e||!t?999999:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function GW(e,t=[],n=10){return!t||!Array.isArray(t)||t.length===0?[]:e?t.filter(r=>r.id!==e.id).map(r=>({...r,distance:swe(e,r)})).sort((r,i)=>(r.distance||0)-(i.distance||0)).slice(0,n):[]}const su=e=>{let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return(t>>>0)/4294967296},s0=(e,t)=>e.map(s=>{if(!s.affinities||Object.keys(s.affinities).length===0){if(t.some(k=>k.id===s.clusterId))return s;const C=su(s.id)*Math.PI*2,_=2500+su(s.id+"dist")*1500;return{...s,x:Math.cos(C)*_,y:Math.sin(C)*_,z:.5+su(s.id+"z")*.5,clusterId:"chaos"}}let o=null,a=-1,l=0,c=0,d=0;for(const S of t){const C=s.affinities?.[S.id]||0;if(C<=0)continue;C>a&&(a=C,o=S);const _=Math.pow(C,3);l+=S.x*_,c+=S.y*_,d+=_}if(!o)return s;let f=o.x,p=o.y;d>0&&(f=l/d,p=c/d);const g=su(s.id+"angle")*Math.PI*2,v=1-a,b=(su(s.id+"jitter")-.5)*200,w=180+v*1e3+b*.8;return{...s,x:f+Math.cos(g)*w,y:p+Math.sin(g)*w,z:.8+a*1.5,clusterId:o.id}}),gh=Wu((e,t)=>({allNotes:[],clusters:[],subClusters:[],isLoading:!1,isGravityLoading:!1,focusNode:null,tempCentralizedId:null,viewMode:"galaxy",activeClusterIds:[],sortOrder:"newest",maxVisibleNotes:800,initializeUniverse:async()=>{if(t().isLoading)return;const{isGuest:n,guestUniverse:r}=Ln.getState();if(e({isLoading:!0,tempCentralizedId:null}),n){let i=[],s=[],o=["chaos"];if(r?.id&&r.id!=="empty")try{const{data:a}=await Gt.get(`/ai/galaxy/tour/${r.pineconeFilter}/${r.lang}`),l=a.map((c,d)=>{const f=c.highlightId||String(d),p=su(f)*Math.PI*2,g=800+su(f+"dist")*2700;return{id:c.highlightId,title:c.text?c.text.substring(0,40)+"...":"Versculo",preview:c.text,tags:["Sagradas Escrituras"],createdAt:new Date().toISOString(),x:Math.cos(p)*g,y:Math.sin(p)*g,z:1,clusterId:"chaos",affinities:{}}});i=[...i,...l]}catch(a){console.error("Erro tour",a),e({isLoading:!1})}try{const{data:a}=await Gt.get("/ai/galaxy/guest-stars");if(a&&a.length>0){const l=a.map(c=>{const d=Math.random()*Math.PI*2,f=500+Math.random()*1e3;return{id:c.highlightId,title:"Meu Arquivo",preview:c.text,tags:["Pessoal","Guest"],createdAt:new Date().toISOString(),x:Math.cos(d)*f,y:Math.sin(d)*f,z:2,clusterId:"chaos",documentId:"sample-book",affinities:{}}});i=[...i,...l]}}catch{}e({allNotes:i,clusters:s,subClusters:[],activeClusterIds:o,isLoading:!1});return}try{const[i,s]=await Promise.all([Gt.get("/galaxy/stars"),Gt.get("/galaxy/management/state")]),o=i.data,{galaxies:a,links:l}=s.data,c=a.map(f=>({id:String(f.id),label:f.name,color:f.color||"#ffffff",x:f.x||0,y:f.y||0,isActive:f.isActive}));let d=o.map(f=>{const p=String(f.id);let g=null;try{f.positionJson&&(g=JSON.parse(f.positionJson))}catch{}const v={};return l.filter(w=>w.highlightId===p).forEach(w=>{v[w.galaxyId]=w.score}),{id:p,title:f.documentTitle||"Nota",preview:f.content||"",tags:[f.type],createdAt:f.createdAt,x:0,y:0,z:1,clusterId:"chaos",documentId:f.documentId,position:g,affinities:v}});d=s0(d,c),e({allNotes:d,clusters:c,activeClusterIds:[...c.map(f=>f.id),"chaos"],isLoading:!1})}catch(i){console.error(i),e({isLoading:!1})}},createGalaxy:async(n,r,i)=>{if(!n.trim())return;e({isGravityLoading:!0});const{isGuest:s,guestUniverse:o}=Ln.getState();if(s){const a=`guest-galaxy-${Date.now()}`,l={id:a,label:n,color:"#"+(Math.random()*16777215<<0).toString(16),x:r,y:i,isActive:!0};try{const{data:c}=await Gt.post("/ai/galaxy/tour/gravity",{term:n,universe:o?.pineconeFilter||"bible",lang:o?.lang||"en"}),d=c.matches;let f=[...t().allNotes];const p=new Set(f.map(_=>_.id)),g=d.filter(_=>!p.has(_.highlightId)),v=f.map((_,k)=>({..._,originalIndex:k})).filter(_=>!_.affinities||Object.keys(_.affinities).length===0).map(_=>_.originalIndex);let b=0;g.forEach(_=>{if(b<v.length){const k=v[b];f[k]={...f[k],id:_.highlightId,title:_.text?_.text.substring(0,30)+"...":"Trecho",preview:_.text,tags:["Recuperado"],affinities:{[a]:_.score}},b++}else f.push({id:_.highlightId,title:_.text?_.text.substring(0,30)+"...":"Trecho",preview:_.text,tags:["Novo"],createdAt:new Date().toISOString(),x:r+(Math.random()-.5)*500,y:i+(Math.random()-.5)*500,z:1,clusterId:a,affinities:{[a]:_.score}})});const w=new Map(d.map(_=>[_.highlightId,_.score]));f=f.map(_=>{const k=w.get(_.id);return k?{..._,affinities:{..._.affinities,[a]:Number(k)}}:_});const S=[...t().clusters,l],C=s0(f,S);e({clusters:S,allNotes:C,activeClusterIds:[...t().activeClusterIds,a],isGravityLoading:!1}),d.length>0?Ue.success(`${d.length} estrelas atradas!`):Ue.info("Galxia criada (sem atraes).")}catch(c){console.error(c),e({isGravityLoading:!1})}return}try{const{data:a}=await Gt.post("/galaxy/management",{name:n,color:"#"+(Math.random()*16777215<<0).toString(16),x:r,y:i}),l=a.galaxy,c=a.links,d={id:String(l.id),label:l.name,color:l.color,x:l.x,y:l.y,isActive:!0},f=[...t().clusters,d],p=[...t().activeClusterIds,d.id];let g=[...t().allNotes];const v=new Map(c.map(w=>[w.starId,w.score]));g=g.map(w=>{const S=v.get(w.id);return S?{...w,affinities:{...w.affinities,[d.id]:Number(S)}}:w});const b=s0(g,f);e({clusters:f,allNotes:b,activeClusterIds:p,isGravityLoading:!1}),c.length>0?Ue.success(`Galxia "${n}" criada com ${c.length} conexes!`):Ue.success(`Galxia "${n}" criada.`)}catch(a){console.error(a);const l=a.response?.data?.message||"Falha ao criar galxia";Ue.error(l),e({isGravityLoading:!1})}},deleteGalaxy:async n=>{const{isGuest:r}=Ln.getState();if(r){e(i=>{const s=i.clusters.filter(a=>a.id!==n),o=s0(i.allNotes,s);return Ue.success("Galxia visitante removida."),{clusters:s,allNotes:o,activeClusterIds:i.activeClusterIds.filter(a=>a!==n)}});return}try{await Gt.delete(`/galaxy/management/${n}`),Ue.success("Galxia removida."),t().initializeUniverse()}catch{Ue.error("Erro ao apagar galxia")}},centralizeNode:n=>{const{allNotes:r}=t();if(!n){e({tempCentralizedId:null,focusNode:null});return}const i=GW(n,r,10),s=new Set(i.map(a=>a.id)),o=r.map(a=>{if(a.id===n.id)return{...a,opacity:1,z:3};if(s.has(a.id)){const l=n.x+(Math.random()-.5)*150,c=n.y+(Math.random()-.5)*150;return{...a,x:a.x+(l-a.x)*.9,y:a.y+(c-a.y)*.9,z:2,opacity:1}}return{...a,opacity:.1}});e({allNotes:o,tempCentralizedId:n.id})},setFocusNode:n=>e({focusNode:n}),setViewMode:n=>e({viewMode:n}),toggleCluster:n=>e(r=>({activeClusterIds:r.activeClusterIds.includes(n)?r.activeClusterIds.filter(s=>s!==n):[...r.activeClusterIds,n]})),setSortOrder:n=>e({sortOrder:n}),getVisibleData:()=>{const n=t();return{visibleNotes:n.allNotes,visibleClusters:n.clusters,visibleSubClusters:n.subClusters}}}));var owe={value:()=>{}};function _w(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ib(n)}function ib(e){this._=e}function awe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ib.prototype=_w.prototype={constructor:ib,on:function(e,t){var n=this._,r=awe(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=lwe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=VF(n[i],e.name,t);else if(t==null)for(i in n)n[i]=VF(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ib(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function lwe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function VF(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=owe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var jT="http://www.w3.org/1999/xhtml";const qF={svg:"http://www.w3.org/2000/svg",xhtml:jT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cw(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),qF.hasOwnProperty(t)?{space:qF[t],local:e}:e}function cwe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===jT&&t.documentElement.namespaceURI===jT?t.createElement(e):t.createElementNS(n,e)}}function uwe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function KW(e){var t=Cw(e);return(t.local?uwe:cwe)(t)}function dwe(){}function XP(e){return e==null?dwe:function(){return this.querySelector(e)}}function fwe(e){typeof e!="function"&&(e=XP(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,c,d=0;d<o;++d)(l=s[d])&&(c=e.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new ns(r,this._parents)}function hwe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pwe(){return[]}function YW(e){return e==null?pwe:function(){return this.querySelectorAll(e)}}function mwe(e){return function(){return hwe(e.apply(this,arguments))}}function gwe(e){typeof e=="function"?e=mwe(e):e=YW(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new ns(r,i)}function XW(e){return function(){return this.matches(e)}}function ZW(e){return function(t){return t.matches(e)}}var vwe=Array.prototype.find;function ywe(e){return function(){return vwe.call(this.children,e)}}function bwe(){return this.firstElementChild}function xwe(e){return this.select(e==null?bwe:ywe(typeof e=="function"?e:ZW(e)))}var wwe=Array.prototype.filter;function Swe(){return Array.from(this.children)}function Ewe(e){return function(){return wwe.call(this.children,e)}}function _we(e){return this.selectAll(e==null?Swe:Ewe(typeof e=="function"?e:ZW(e)))}function Cwe(e){typeof e!="function"&&(e=XW(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new ns(r,this._parents)}function QW(e){return new Array(e.length)}function Awe(){return new ns(this._enter||this._groups.map(QW),this._parents)}function Ub(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ub.prototype={constructor:Ub,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Twe(e){return function(){return e}}function Rwe(e,t,n,r,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Ub(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function kwe(e,t,n,r,i,s,o){var a,l,c=new Map,d=t.length,f=s.length,p=new Array(d),g;for(a=0;a<d;++a)(l=t[a])&&(p[a]=g=o.call(l,l.__data__,a,t)+"",c.has(g)?i[a]=l:c.set(g,l));for(a=0;a<f;++a)g=o.call(e,s[a],a,s)+"",(l=c.get(g))?(r[a]=l,l.__data__=s[a],c.delete(g)):n[a]=new Ub(e,s[a]);for(a=0;a<d;++a)(l=t[a])&&c.get(p[a])===l&&(i[a]=l)}function Pwe(e){return e.__data__}function Nwe(e,t){if(!arguments.length)return Array.from(this,Pwe);var n=t?kwe:Rwe,r=this._parents,i=this._groups;typeof e!="function"&&(e=Twe(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=r[c],f=i[c],p=f.length,g=Mwe(e.call(d,d&&d.__data__,c,r)),v=g.length,b=a[c]=new Array(v),w=o[c]=new Array(v),S=l[c]=new Array(p);n(d,f,b,w,S,g,t);for(var C=0,_=0,k,R;C<v;++C)if(k=b[C]){for(C>=_&&(_=C+1);!(R=w[_])&&++_<v;);k._next=R||null}}return o=new ns(o,r),o._enter=a,o._exit=l,o}function Mwe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Owe(){return new ns(this._exit||this._groups.map(QW),this._parents)}function Dwe(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Iwe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],d=r[l],f=c.length,p=a[l]=new Array(f),g,v=0;v<f;++v)(g=c[v]||d[v])&&(p[v]=g);for(;l<i;++l)a[l]=n[l];return new ns(a,this._parents)}function jwe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Lwe(e){e||(e=zwe);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(t)}return new ns(i,this._parents).order()}function zwe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fwe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function $we(){return Array.from(this)}function Hwe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Bwe(){let e=0;for(const t of this)++e;return e}function Uwe(){return!this.node()}function Vwe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function qwe(e){return function(){this.removeAttribute(e)}}function Wwe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gwe(e,t){return function(){this.setAttribute(e,t)}}function Kwe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ywe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Xwe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Zwe(e,t){var n=Cw(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Wwe:qwe:typeof t=="function"?n.local?Xwe:Ywe:n.local?Kwe:Gwe)(n,t))}function JW(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Qwe(e){return function(){this.style.removeProperty(e)}}function Jwe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function eSe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function tSe(e,t,n){return arguments.length>1?this.each((t==null?Qwe:typeof t=="function"?eSe:Jwe)(e,t,n??"")):If(this.node(),e)}function If(e,t){return e.style.getPropertyValue(t)||JW(e).getComputedStyle(e,null).getPropertyValue(t)}function nSe(e){return function(){delete this[e]}}function rSe(e,t){return function(){this[e]=t}}function iSe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function sSe(e,t){return arguments.length>1?this.each((t==null?nSe:typeof t=="function"?iSe:rSe)(e,t)):this.node()[e]}function e9(e){return e.trim().split(/^|\s+/)}function ZP(e){return e.classList||new t9(e)}function t9(e){this._node=e,this._names=e9(e.getAttribute("class")||"")}t9.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function n9(e,t){for(var n=ZP(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function r9(e,t){for(var n=ZP(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function oSe(e){return function(){n9(this,e)}}function aSe(e){return function(){r9(this,e)}}function lSe(e,t){return function(){(t.apply(this,arguments)?n9:r9)(this,e)}}function cSe(e,t){var n=e9(e+"");if(arguments.length<2){for(var r=ZP(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?lSe:t?oSe:aSe)(n,t))}function uSe(){this.textContent=""}function dSe(e){return function(){this.textContent=e}}function fSe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hSe(e){return arguments.length?this.each(e==null?uSe:(typeof e=="function"?fSe:dSe)(e)):this.node().textContent}function pSe(){this.innerHTML=""}function mSe(e){return function(){this.innerHTML=e}}function gSe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function vSe(e){return arguments.length?this.each(e==null?pSe:(typeof e=="function"?gSe:mSe)(e)):this.node().innerHTML}function ySe(){this.nextSibling&&this.parentNode.appendChild(this)}function bSe(){return this.each(ySe)}function xSe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wSe(){return this.each(xSe)}function SSe(e){var t=typeof e=="function"?e:KW(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ESe(){return null}function _Se(e,t){var n=typeof e=="function"?e:KW(e),r=t==null?ESe:typeof t=="function"?t:XP(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function CSe(){var e=this.parentNode;e&&e.removeChild(this)}function ASe(){return this.each(CSe)}function TSe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RSe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kSe(e){return this.select(e?RSe:TSe)}function PSe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function NSe(e){return function(t){e.call(this,t,this.__data__)}}function MSe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function OSe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function DSe(e,t,n){return function(){var r=this.__on,i,s=NSe(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ISe(e,t,n){var r=MSe(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(i=0,d=a[l];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(a=t?DSe:OSe,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function i9(e,t,n){var r=JW(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function jSe(e,t){return function(){return i9(this,e,t)}}function LSe(e,t){return function(){return i9(this,e,t.apply(this,arguments))}}function zSe(e,t){return this.each((typeof t=="function"?LSe:jSe)(e,t))}function*FSe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var s9=[null];function ns(e,t){this._groups=e,this._parents=t}function zg(){return new ns([[document.documentElement]],s9)}function $Se(){return this}ns.prototype=zg.prototype={constructor:ns,select:fwe,selectAll:gwe,selectChild:xwe,selectChildren:_we,filter:Cwe,data:Nwe,enter:Awe,exit:Owe,join:Dwe,merge:Iwe,selection:$Se,order:jwe,sort:Lwe,call:Fwe,nodes:$we,node:Hwe,size:Bwe,empty:Uwe,each:Vwe,attr:Zwe,style:tSe,property:sSe,classed:cSe,text:hSe,html:vSe,raise:bSe,lower:wSe,append:SSe,insert:_Se,remove:ASe,clone:kSe,datum:PSe,on:ISe,dispatch:zSe,[Symbol.iterator]:FSe};function Si(e){return typeof e=="string"?new ns([[document.querySelector(e)]],[document.documentElement]):new ns([[e]],s9)}function HSe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ws(e,t){if(e=HSe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const BSe={passive:!1},Pm={capture:!0,passive:!1};function G_(e){e.stopImmediatePropagation()}function wf(e){e.preventDefault(),e.stopImmediatePropagation()}function o9(e){var t=e.document.documentElement,n=Si(e).on("dragstart.drag",wf,Pm);"onselectstart"in t?n.on("selectstart.drag",wf,Pm):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function a9(e,t){var n=e.document.documentElement,r=Si(e).on("dragstart.drag",null);t&&(r.on("click.drag",wf,Pm),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const o0=e=>()=>e;function LT(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}LT.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function USe(e){return!e.ctrlKey&&!e.button}function VSe(){return this.parentNode}function qSe(e,t){return t??{x:e.x,y:e.y}}function WSe(){return navigator.maxTouchPoints||"ontouchstart"in this}function l9(){var e=USe,t=VSe,n=qSe,r=WSe,i={},s=_w("start","drag","end"),o=0,a,l,c,d,f=0;function p(k){k.on("mousedown.drag",g).filter(r).on("touchstart.drag",w).on("touchmove.drag",S,BSe).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(k,R){if(!(d||!e.call(this,k,R))){var N=_(this,t.call(this,k,R),k,R,"mouse");N&&(Si(k.view).on("mousemove.drag",v,Pm).on("mouseup.drag",b,Pm),o9(k.view),G_(k),c=!1,a=k.clientX,l=k.clientY,N("start",k))}}function v(k){if(wf(k),!c){var R=k.clientX-a,N=k.clientY-l;c=R*R+N*N>f}i.mouse("drag",k)}function b(k){Si(k.view).on("mousemove.drag mouseup.drag",null),a9(k.view,c),wf(k),i.mouse("end",k)}function w(k,R){if(e.call(this,k,R)){var N=k.changedTouches,T=t.call(this,k,R),M=N.length,O,L;for(O=0;O<M;++O)(L=_(this,T,k,R,N[O].identifier,N[O]))&&(G_(k),L("start",k,N[O]))}}function S(k){var R=k.changedTouches,N=R.length,T,M;for(T=0;T<N;++T)(M=i[R[T].identifier])&&(wf(k),M("drag",k,R[T]))}function C(k){var R=k.changedTouches,N=R.length,T,M;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),T=0;T<N;++T)(M=i[R[T].identifier])&&(G_(k),M("end",k,R[T]))}function _(k,R,N,T,M,O){var L=s.copy(),D=Ws(O||N,R),F,G,z;if((z=n.call(k,new LT("beforestart",{sourceEvent:N,target:p,identifier:M,active:o,x:D[0],y:D[1],dx:0,dy:0,dispatch:L}),T))!=null)return F=z.x-D[0]||0,G=z.y-D[1]||0,function V(j,H,B){var K=D,U;switch(j){case"start":i[M]=V,U=o++;break;case"end":delete i[M],--o;case"drag":D=Ws(B||H,R),U=o;break}L.call(j,k,new LT(j,{sourceEvent:H,subject:z,target:p,identifier:M,active:U,x:D[0]+F,y:D[1]+G,dx:D[0]-K[0],dy:D[1]-K[1],dispatch:L}),T)}}return p.filter=function(k){return arguments.length?(e=typeof k=="function"?k:o0(!!k),p):e},p.container=function(k){return arguments.length?(t=typeof k=="function"?k:o0(k),p):t},p.subject=function(k){return arguments.length?(n=typeof k=="function"?k:o0(k),p):n},p.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:o0(!!k),p):r},p.on=function(){var k=s.on.apply(s,arguments);return k===s?p:k},p.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,p):Math.sqrt(f)},p}function QP(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function c9(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fg(){}var Nm=.7,Vb=1/Nm,Sf="\\s*([+-]?\\d+)\\s*",Mm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GSe=/^#([0-9a-f]{3,8})$/,KSe=new RegExp(`^rgb\\(${Sf},${Sf},${Sf}\\)$`),YSe=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),XSe=new RegExp(`^rgba\\(${Sf},${Sf},${Sf},${Mm}\\)$`),ZSe=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${Mm}\\)$`),QSe=new RegExp(`^hsl\\(${Mm},${Vo},${Vo}\\)$`),JSe=new RegExp(`^hsla\\(${Mm},${Vo},${Vo},${Mm}\\)$`),WF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QP(Fg,ku,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GF,formatHex:GF,formatHex8:e1e,formatHsl:t1e,formatRgb:KF,toString:KF});function GF(){return this.rgb().formatHex()}function e1e(){return this.rgb().formatHex8()}function t1e(){return u9(this).formatHsl()}function KF(){return this.rgb().formatRgb()}function ku(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=GSe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?YF(t):n===3?new _i(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?a0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?a0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KSe.exec(e))?new _i(t[1],t[2],t[3],1):(t=YSe.exec(e))?new _i(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XSe.exec(e))?a0(t[1],t[2],t[3],t[4]):(t=ZSe.exec(e))?a0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QSe.exec(e))?QF(t[1],t[2]/100,t[3]/100,1):(t=JSe.exec(e))?QF(t[1],t[2]/100,t[3]/100,t[4]):WF.hasOwnProperty(e)?YF(WF[e]):e==="transparent"?new _i(NaN,NaN,NaN,0):null}function YF(e){return new _i(e>>16&255,e>>8&255,e&255,1)}function a0(e,t,n,r){return r<=0&&(e=t=n=NaN),new _i(e,t,n,r)}function n1e(e){return e instanceof Fg||(e=ku(e)),e?(e=e.rgb(),new _i(e.r,e.g,e.b,e.opacity)):new _i}function zT(e,t,n,r){return arguments.length===1?n1e(e):new _i(e,t,n,r??1)}function _i(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}QP(_i,zT,c9(Fg,{brighter(e){return e=e==null?Vb:Math.pow(Vb,e),new _i(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nm:Math.pow(Nm,e),new _i(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _i(bu(this.r),bu(this.g),bu(this.b),qb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XF,formatHex:XF,formatHex8:r1e,formatRgb:ZF,toString:ZF}));function XF(){return`#${uu(this.r)}${uu(this.g)}${uu(this.b)}`}function r1e(){return`#${uu(this.r)}${uu(this.g)}${uu(this.b)}${uu((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZF(){const e=qb(this.opacity);return`${e===1?"rgb(":"rgba("}${bu(this.r)}, ${bu(this.g)}, ${bu(this.b)}${e===1?")":`, ${e})`}`}function qb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uu(e){return e=bu(e),(e<16?"0":"")+e.toString(16)}function QF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ks(e,t,n,r)}function u9(e){if(e instanceof Ks)return new Ks(e.h,e.s,e.l,e.opacity);if(e instanceof Fg||(e=ku(e)),!e)return new Ks;if(e instanceof Ks)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ks(o,a,l,e.opacity)}function i1e(e,t,n,r){return arguments.length===1?u9(e):new Ks(e,t,n,r??1)}function Ks(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}QP(Ks,i1e,c9(Fg,{brighter(e){return e=e==null?Vb:Math.pow(Vb,e),new Ks(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nm:Math.pow(Nm,e),new Ks(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _i(K_(e>=240?e-240:e+120,i,r),K_(e,i,r),K_(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ks(JF(this.h),l0(this.s),l0(this.l),qb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qb(this.opacity);return`${e===1?"hsl(":"hsla("}${JF(this.h)}, ${l0(this.s)*100}%, ${l0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JF(e){return e=(e||0)%360,e<0?e+360:e}function l0(e){return Math.max(0,Math.min(1,e||0))}function K_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const JP=e=>()=>e;function s1e(e,t){return function(n){return e+n*t}}function o1e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function a1e(e){return(e=+e)==1?d9:function(t,n){return n-t?o1e(t,n,e):JP(isNaN(t)?n:t)}}function d9(e,t){var n=t-e;return n?s1e(e,n):JP(isNaN(e)?t:e)}const Wb=(function e(t){var n=a1e(t);function r(i,s){var o=n((i=zT(i)).r,(s=zT(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=d9(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r})(1);function l1e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function c1e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function u1e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=La(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function d1e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function f1e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=La(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var FT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y_=new RegExp(FT.source,"g");function h1e(e){return function(){return e}}function p1e(e){return function(t){return e(t)+""}}function f9(e,t){var n=FT.lastIndex=Y_.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=FT.exec(e))&&(i=Y_.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Gs(r,i)})),n=Y_.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?p1e(l[0].x):h1e(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)a[(f=l[d]).i]=f.x(c);return a.join("")})}function La(e,t){var n=typeof t,r;return t==null||n==="boolean"?JP(t):(n==="number"?Gs:n==="string"?(r=ku(t))?(t=r,Wb):f9:t instanceof ku?Wb:t instanceof Date?d1e:c1e(t)?l1e:Array.isArray(t)?u1e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?f1e:Gs)(e,t)}function eN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var e5=180/Math.PI,$T={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function h9(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*e5,skewX:Math.atan(l)*e5,scaleX:o,scaleY:a}}var c0;function m1e(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$T:h9(t.a,t.b,t.c,t.d,t.e,t.f)}function g1e(e){return e==null||(c0||(c0=document.createElementNS("http://www.w3.org/2000/svg","g")),c0.setAttribute("transform",e),!(e=c0.transform.baseVal.consolidate()))?$T:(e=e.matrix,h9(e.a,e.b,e.c,e.d,e.e,e.f))}function p9(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,d,f,p,g,v){if(c!==f||d!==p){var b=g.push("translate(",null,t,null,n);v.push({i:b-4,x:Gs(c,f)},{i:b-2,x:Gs(d,p)})}else(f||p)&&g.push("translate("+f+t+p+n)}function o(c,d,f,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Gs(c,d)})):d&&f.push(i(f)+"rotate("+d+r)}function a(c,d,f,p){c!==d?p.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Gs(c,d)}):d&&f.push(i(f)+"skewX("+d+r)}function l(c,d,f,p,g,v){if(c!==f||d!==p){var b=g.push(i(g)+"scale(",null,",",null,")");v.push({i:b-4,x:Gs(c,f)},{i:b-2,x:Gs(d,p)})}else(f!==1||p!==1)&&g.push(i(g)+"scale("+f+","+p+")")}return function(c,d){var f=[],p=[];return c=e(c),d=e(d),s(c.translateX,c.translateY,d.translateX,d.translateY,f,p),o(c.rotate,d.rotate,f,p),a(c.skewX,d.skewX,f,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,f,p),c=d=null,function(g){for(var v=-1,b=p.length,w;++v<b;)f[(w=p[v]).i]=w.x(g);return f.join("")}}}var v1e=p9(m1e,"px, ","px)","deg)"),y1e=p9(g1e,", ",")",")"),b1e=1e-12;function t5(e){return((e=Math.exp(e))+1/e)/2}function x1e(e){return((e=Math.exp(e))-1/e)/2}function w1e(e){return((e=Math.exp(2*e))-1)/(e+1)}const sb=(function e(t,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],d=o[0],f=o[1],p=o[2],g=d-a,v=f-l,b=g*g+v*v,w,S;if(b<b1e)S=Math.log(p/c)/t,w=function(T){return[a+T*g,l+T*v,c*Math.exp(t*T*S)]};else{var C=Math.sqrt(b),_=(p*p-c*c+r*b)/(2*c*n*C),k=(p*p-c*c-r*b)/(2*p*n*C),R=Math.log(Math.sqrt(_*_+1)-_),N=Math.log(Math.sqrt(k*k+1)-k);S=(N-R)/t,w=function(T){var M=T*S,O=t5(R),L=c/(n*C)*(O*w1e(t*M+R)-x1e(R));return[a+L*g,l+L*v,c*O/t5(t*M+R)]}}return w.duration=S*1e3*t/Math.SQRT2,w}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return e(o,a,l)},i})(Math.SQRT2,2,4);function S1e(e,t){t===void 0&&(t=e,e=La);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}var jf=0,Gp=0,Rp=0,m9=1e3,Gb,Kp,Kb=0,Pu=0,Aw=0,Om=typeof performance=="object"&&performance.now?performance:Date,g9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tN(){return Pu||(g9(E1e),Pu=Om.now()+Aw)}function E1e(){Pu=0}function Yb(){this._call=this._time=this._next=null}Yb.prototype=v9.prototype={constructor:Yb,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?tN():+n)+(t==null?0:+t),!this._next&&Kp!==this&&(Kp?Kp._next=this:Gb=this,Kp=this),this._call=e,this._time=n,HT()},stop:function(){this._call&&(this._call=null,this._time=1/0,HT())}};function v9(e,t,n){var r=new Yb;return r.restart(e,t,n),r}function _1e(){tN(),++jf;for(var e=Gb,t;e;)(t=Pu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--jf}function n5(){Pu=(Kb=Om.now())+Aw,jf=Gp=0;try{_1e()}finally{jf=0,A1e(),Pu=0}}function C1e(){var e=Om.now(),t=e-Kb;t>m9&&(Aw-=t,Kb=e)}function A1e(){for(var e,t=Gb,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Gb=n);Kp=e,HT(r)}function HT(e){if(!jf){Gp&&(Gp=clearTimeout(Gp));var t=e-Pu;t>24?(e<1/0&&(Gp=setTimeout(n5,e-Om.now()-Aw)),Rp&&(Rp=clearInterval(Rp))):(Rp||(Kb=Om.now(),Rp=setInterval(C1e,m9)),jf=1,g9(n5))}}function r5(e,t,n){var r=new Yb;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var T1e=_w("start","end","cancel","interrupt"),R1e=[],y9=0,i5=1,BT=2,ob=3,s5=4,UT=5,ab=6;function Tw(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;k1e(e,n,{name:t,index:r,group:i,on:T1e,tween:R1e,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:y9})}function nN(e,t){var n=fo(e,t);if(n.state>y9)throw new Error("too late; already scheduled");return n}function Zo(e,t){var n=fo(e,t);if(n.state>ob)throw new Error("too late; already running");return n}function fo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function k1e(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=v9(s,0,n.time);function s(c){n.state=i5,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,f,p,g;if(n.state!==i5)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===ob)return r5(o);g.state===s5?(g.state=ab,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[d]):+d<t&&(g.state=ab,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[d])}if(r5(function(){n.state===ob&&(n.state=s5,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=BT,n.on.call("start",e,e.__data__,n.index,n.group),n.state===BT){for(n.state=ob,i=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(g=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=g);i.length=f+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=UT,1),f=-1,p=i.length;++f<p;)i[f].call(e,d);n.state===UT&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ab,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function lb(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>BT&&r.state<UT,r.state=ab,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function P1e(e){return this.each(function(){lb(this,e)})}function N1e(e,t){var n,r;return function(){var i=Zo(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function M1e(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Zo(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function O1e(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?N1e:M1e)(n,e,t))}function rN(e,t,n){var r=e._id;return e.each(function(){var i=Zo(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fo(i,r).value[t]}}function b9(e,t){var n;return(typeof t=="number"?Gs:t instanceof ku?Wb:(n=ku(t))?(t=n,Wb):f9)(e,t)}function D1e(e){return function(){this.removeAttribute(e)}}function I1e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j1e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function L1e(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function z1e(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function F1e(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function $1e(e,t){var n=Cw(e),r=n==="transform"?y1e:b9;return this.attrTween(e,typeof t=="function"?(n.local?F1e:z1e)(n,r,rN(this,"attr."+e,t)):t==null?(n.local?I1e:D1e)(n):(n.local?L1e:j1e)(n,r,t))}function H1e(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function B1e(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function U1e(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&B1e(e,s)),n}return i._value=t,i}function V1e(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&H1e(e,s)),n}return i._value=t,i}function q1e(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Cw(e);return this.tween(n,(r.local?U1e:V1e)(r,t))}function W1e(e,t){return function(){nN(this,e).delay=+t.apply(this,arguments)}}function G1e(e,t){return t=+t,function(){nN(this,e).delay=t}}function K1e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?W1e:G1e)(t,e)):fo(this.node(),t).delay}function Y1e(e,t){return function(){Zo(this,e).duration=+t.apply(this,arguments)}}function X1e(e,t){return t=+t,function(){Zo(this,e).duration=t}}function Z1e(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Y1e:X1e)(t,e)):fo(this.node(),t).duration}function Q1e(e,t){if(typeof t!="function")throw new Error;return function(){Zo(this,e).ease=t}}function J1e(e){var t=this._id;return arguments.length?this.each(Q1e(t,e)):fo(this.node(),t).ease}function eEe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Zo(this,e).ease=n}}function tEe(e){if(typeof e!="function")throw new Error;return this.each(eEe(this._id,e))}function nEe(e){typeof e!="function"&&(e=XW(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Ga(r,this._parents,this._name,this._id)}function rEe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],d=l.length,f=o[a]=new Array(d),p,g=0;g<d;++g)(p=l[g]||c[g])&&(f[g]=p);for(;a<r;++a)o[a]=t[a];return new Ga(o,this._parents,this._name,this._id)}function iEe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function sEe(e,t,n){var r,i,s=iEe(t)?nN:Zo;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function oEe(e,t){var n=this._id;return arguments.length<2?fo(this.node(),n).on.on(e):this.each(sEe(n,e,t))}function aEe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lEe(){return this.on("end.remove",aEe(this._id))}function cEe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=XP(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),d,f,p=0;p<l;++p)(d=a[p])&&(f=e.call(d,d.__data__,p,a))&&("__data__"in d&&(f.__data__=d.__data__),c[p]=f,Tw(c[p],t,n,p,c,fo(d,n)));return new Ga(s,this._parents,t,n)}function uEe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=YW(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,d,f=0;f<c;++f)if(d=l[f]){for(var p=e.call(d,d.__data__,f,l),g,v=fo(d,n),b=0,w=p.length;b<w;++b)(g=p[b])&&Tw(g,t,n,b,p,v);s.push(p),o.push(d)}return new Ga(s,o,t,n)}var dEe=zg.prototype.constructor;function fEe(){return new dEe(this._groups,this._parents)}function hEe(e,t){var n,r,i;return function(){var s=If(this,e),o=(this.style.removeProperty(e),If(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function x9(e){return function(){this.style.removeProperty(e)}}function pEe(e,t,n){var r,i=n+"",s;return function(){var o=If(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function mEe(e,t,n){var r,i,s;return function(){var o=If(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),If(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function gEe(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Zo(this,e),c=l.on,d=l.value[s]==null?a||(a=x9(t)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(o,i=d),l.on=r}}function vEe(e,t,n){var r=(e+="")=="transform"?v1e:b9;return t==null?this.styleTween(e,hEe(e,r)).on("end.style."+e,x9(e)):typeof t=="function"?this.styleTween(e,mEe(e,r,rN(this,"style."+e,t))).each(gEe(this._id,e)):this.styleTween(e,pEe(e,r,t),n).on("end.style."+e,null)}function yEe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function bEe(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&yEe(e,o,n)),r}return s._value=t,s}function xEe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,bEe(e,t,n??""))}function wEe(e){return function(){this.textContent=e}}function SEe(e){return function(){var t=e(this);this.textContent=t??""}}function EEe(e){return this.tween("text",typeof e=="function"?SEe(rN(this,"text",e)):wEe(e==null?"":e+""))}function _Ee(e){return function(t){this.textContent=e.call(this,t)}}function CEe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&_Ee(i)),t}return r._value=e,r}function AEe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,CEe(e))}function TEe(){for(var e=this._name,t=this._id,n=w9(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=fo(l,t);Tw(l,e,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ga(r,this._parents,e,n)}function REe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Zo(this,r),d=c.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var kEe=0;function Ga(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function w9(){return++kEe}var Ca=zg.prototype;Ga.prototype={constructor:Ga,select:cEe,selectAll:uEe,selectChild:Ca.selectChild,selectChildren:Ca.selectChildren,filter:nEe,merge:rEe,selection:fEe,transition:TEe,call:Ca.call,nodes:Ca.nodes,node:Ca.node,size:Ca.size,empty:Ca.empty,each:Ca.each,on:oEe,attr:$1e,attrTween:q1e,style:vEe,styleTween:xEe,text:EEe,textTween:AEe,remove:lEe,tween:O1e,delay:K1e,duration:Z1e,ease:J1e,easeVarying:tEe,end:REe,[Symbol.iterator]:Ca[Symbol.iterator]};function PEe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var NEe={time:null,delay:0,duration:250,ease:PEe};function MEe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function OEe(e){var t,n;e instanceof Ga?(t=e._id,e=e._name):(t=w9(),(n=NEe).time=tN(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Tw(l,e,t,c,o,n||MEe(l,t));return new Ga(r,this._parents,e,t)}zg.prototype.interrupt=P1e;zg.prototype.transition=OEe;const u0=e=>()=>e;function DEe(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ma(e,t,n){this.k=e,this.x=t,this.y=n}Ma.prototype={constructor:Ma,scale:function(e){return e===1?this:new Ma(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ma(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lf=new Ma(1,0,0);S9.prototype=Ma.prototype;function S9(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Lf;return e.__zoom}function X_(e){e.stopImmediatePropagation()}function kp(e){e.preventDefault(),e.stopImmediatePropagation()}function IEe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function jEe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function o5(){return this.__zoom||Lf}function LEe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zEe(){return navigator.maxTouchPoints||"ontouchstart"in this}function FEe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function iN(){var e=IEe,t=jEe,n=FEe,r=LEe,i=zEe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=sb,c=_w("start","zoom","end"),d,f,p,g=500,v=150,b=0,w=10;function S(z){z.property("__zoom",o5).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(z,V,j,H){var B=z.selection?z.selection():z;B.property("__zoom",o5),z!==B?R(z,V,j,H):B.interrupt().each(function(){N(this,arguments).event(H).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},S.scaleBy=function(z,V,j,H){S.scaleTo(z,function(){var B=this.__zoom.k,K=typeof V=="function"?V.apply(this,arguments):V;return B*K},j,H)},S.scaleTo=function(z,V,j,H){S.transform(z,function(){var B=t.apply(this,arguments),K=this.__zoom,U=j==null?k(B):typeof j=="function"?j.apply(this,arguments):j,q=K.invert(U),Y=typeof V=="function"?V.apply(this,arguments):V;return n(_(C(K,Y),U,q),B,o)},j,H)},S.translateBy=function(z,V,j,H){S.transform(z,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),o)},null,H)},S.translateTo=function(z,V,j,H,B){S.transform(z,function(){var K=t.apply(this,arguments),U=this.__zoom,q=H==null?k(K):typeof H=="function"?H.apply(this,arguments):H;return n(Lf.translate(q[0],q[1]).scale(U.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof j=="function"?-j.apply(this,arguments):-j),K,o)},H,B)};function C(z,V){return V=Math.max(s[0],Math.min(s[1],V)),V===z.k?z:new Ma(V,z.x,z.y)}function _(z,V,j){var H=V[0]-j[0]*z.k,B=V[1]-j[1]*z.k;return H===z.x&&B===z.y?z:new Ma(z.k,H,B)}function k(z){return[(+z[0][0]+ +z[1][0])/2,(+z[0][1]+ +z[1][1])/2]}function R(z,V,j,H){z.on("start.zoom",function(){N(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(H).end()}).tween("zoom",function(){var B=this,K=arguments,U=N(B,K).event(H),q=t.apply(B,K),Y=j==null?k(q):typeof j=="function"?j.apply(B,K):j,$=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),J=B.__zoom,se=typeof V=="function"?V.apply(B,K):V,ue=l(J.invert(Y).concat($/J.k),se.invert(Y).concat($/se.k));return function(ee){if(ee===1)ee=se;else{var Z=ue(ee),X=$/Z[2];ee=new Ma(X,Y[0]-Z[0]*X,Y[1]-Z[1]*X)}U.zoom(null,ee)}})}function N(z,V,j){return!j&&z.__zooming||new T(z,V)}function T(z,V){this.that=z,this.args=V,this.active=0,this.sourceEvent=null,this.extent=t.apply(z,V),this.taps=0}T.prototype={event:function(z){return z&&(this.sourceEvent=z),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(z,V){return this.mouse&&z!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&z!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&z!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(z){var V=Si(this.that).datum();c.call(z,this.that,new DEe(z,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:c}),V)}};function M(z,...V){if(!e.apply(this,arguments))return;var j=N(this,V).event(z),H=this.__zoom,B=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),K=Ws(z);if(j.wheel)(j.mouse[0][0]!==K[0]||j.mouse[0][1]!==K[1])&&(j.mouse[1]=H.invert(j.mouse[0]=K)),clearTimeout(j.wheel);else{if(H.k===B)return;j.mouse=[K,H.invert(K)],lb(this),j.start()}kp(z),j.wheel=setTimeout(U,v),j.zoom("mouse",n(_(C(H,B),j.mouse[0],j.mouse[1]),j.extent,o));function U(){j.wheel=null,j.end()}}function O(z,...V){if(p||!e.apply(this,arguments))return;var j=z.currentTarget,H=N(this,V,!0).event(z),B=Si(z.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",$,!0),K=Ws(z,j),U=z.clientX,q=z.clientY;o9(z.view),X_(z),H.mouse=[K,this.__zoom.invert(K)],lb(this),H.start();function Y(J){if(kp(J),!H.moved){var se=J.clientX-U,ue=J.clientY-q;H.moved=se*se+ue*ue>b}H.event(J).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=Ws(J,j),H.mouse[1]),H.extent,o))}function $(J){B.on("mousemove.zoom mouseup.zoom",null),a9(J.view,H.moved),kp(J),H.event(J).end()}}function L(z,...V){if(e.apply(this,arguments)){var j=this.__zoom,H=Ws(z.changedTouches?z.changedTouches[0]:z,this),B=j.invert(H),K=j.k*(z.shiftKey?.5:2),U=n(_(C(j,K),H,B),t.apply(this,V),o);kp(z),a>0?Si(this).transition().duration(a).call(R,U,H,z):Si(this).call(S.transform,U,H,z)}}function D(z,...V){if(e.apply(this,arguments)){var j=z.touches,H=j.length,B=N(this,V,z.changedTouches.length===H).event(z),K,U,q,Y;for(X_(z),U=0;U<H;++U)q=j[U],Y=Ws(q,this),Y=[Y,this.__zoom.invert(Y),q.identifier],B.touch0?!B.touch1&&B.touch0[2]!==Y[2]&&(B.touch1=Y,B.taps=0):(B.touch0=Y,K=!0,B.taps=1+!!d);d&&(d=clearTimeout(d)),K&&(B.taps<2&&(f=Y[0],d=setTimeout(function(){d=null},g)),lb(this),B.start())}}function F(z,...V){if(this.__zooming){var j=N(this,V).event(z),H=z.changedTouches,B=H.length,K,U,q,Y;for(kp(z),K=0;K<B;++K)U=H[K],q=Ws(U,this),j.touch0&&j.touch0[2]===U.identifier?j.touch0[0]=q:j.touch1&&j.touch1[2]===U.identifier&&(j.touch1[0]=q);if(U=j.that.__zoom,j.touch1){var $=j.touch0[0],J=j.touch0[1],se=j.touch1[0],ue=j.touch1[1],ee=(ee=se[0]-$[0])*ee+(ee=se[1]-$[1])*ee,Z=(Z=ue[0]-J[0])*Z+(Z=ue[1]-J[1])*Z;U=C(U,Math.sqrt(ee/Z)),q=[($[0]+se[0])/2,($[1]+se[1])/2],Y=[(J[0]+ue[0])/2,(J[1]+ue[1])/2]}else if(j.touch0)q=j.touch0[0],Y=j.touch0[1];else return;j.zoom("touch",n(_(U,q,Y),j.extent,o))}}function G(z,...V){if(this.__zooming){var j=N(this,V).event(z),H=z.changedTouches,B=H.length,K,U;for(X_(z),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),K=0;K<B;++K)U=H[K],j.touch0&&j.touch0[2]===U.identifier?delete j.touch0:j.touch1&&j.touch1[2]===U.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(U=Ws(U,this),Math.hypot(f[0]-U[0],f[1]-U[1])<w)){var q=Si(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return S.wheelDelta=function(z){return arguments.length?(r=typeof z=="function"?z:u0(+z),S):r},S.filter=function(z){return arguments.length?(e=typeof z=="function"?z:u0(!!z),S):e},S.touchable=function(z){return arguments.length?(i=typeof z=="function"?z:u0(!!z),S):i},S.extent=function(z){return arguments.length?(t=typeof z=="function"?z:u0([[+z[0][0],+z[0][1]],[+z[1][0],+z[1][1]]]),S):t},S.scaleExtent=function(z){return arguments.length?(s[0]=+z[0],s[1]=+z[1],S):[s[0],s[1]]},S.translateExtent=function(z){return arguments.length?(o[0][0]=+z[0][0],o[1][0]=+z[1][0],o[0][1]=+z[0][1],o[1][1]=+z[1][1],S):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},S.constrain=function(z){return arguments.length?(n=z,S):n},S.duration=function(z){return arguments.length?(a=+z,S):a},S.interpolate=function(z){return arguments.length?(l=z,S):l},S.on=function(){var z=c.on.apply(c,arguments);return z===c?S:z},S.clickDistance=function(z){return arguments.length?(b=(z=+z)*z,S):Math.sqrt(b)},S.tapDistance=function(z){return arguments.length?(w=+z,S):w},S}function $Ee(){const e=x.useRef(null),t=x.useRef(null),[n,r]=x.useState(.2),i=x.useRef(null),s=x.useRef(null);x.useEffect(()=>{if(!e.current||!t.current)return;const a=iN().scaleExtent([.1,12]).translateExtent([[-8e3,-8e3],[8e3,8e3]]).on("zoom",f=>{if(t.current){const{x:p,y:g,k:v}=f.transform;t.current.style.transform=`translate(${p}px, ${g}px) scale(${v})`}requestAnimationFrame(()=>r(f.transform.k))}),l=Si(e.current);l.call(a),i.current=l,s.current=a;const c=e.current.clientWidth,d=e.current.clientHeight;return l.call(a.transform,Lf.translate(c/2,d/2).scale(.2)),()=>{l.on(".zoom",null)}},[]);const o=x.useCallback((a,l,c=1.5)=>{if(!i.current||!s.current||!e.current)return;const d=e.current.clientWidth,f=e.current.clientHeight,p=Lf.translate(d/2,f/2).scale(c).translate(-a,-l);i.current.transition().duration(2e3).call(s.current.transform,p)},[]);return{containerRef:e,universeRef:t,zoomLevel:n,flyTo:o}}function E9(e,t=1){let n=0;for(let o=0;o<e.length;o++)n=e.charCodeAt(o)+((n<<5)-n);return`hsla(${Math.abs(n%360)}, 70%, 60%, ${t})`}const HEe=ie.memo(function({note:t,zoomLevel:n}){const[r,i]=x.useState(!1),[s,o]=x.useState(!1);if(n<.05)return null;const a=t.tags?.includes("RESUME")||t.tags?.includes("resume"),l=a?"#06b6d4":E9(t.documentId||t.id,.8),c=(a?14:10)*(t.z||1)/Math.pow(n,.2),d=n>1.5||s||a,f=()=>{window.dispatchEvent(new CustomEvent("open-book-reader",{detail:{documentId:t.documentId,noteId:t.id,position:t.position}}))};return E.jsxs(l8,{onOpenChange:i,children:[E.jsx(c8,{asChild:!0,children:E.jsxs("div",{className:"absolute flex items-center justify-center cursor-pointer will-change-transform",style:{left:t.x,top:t.y,width:`${c}px`,height:`${c}px`,transform:"translate(-50%, -50%)",zIndex:r||s?60:a?20:10},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onPointerDown:p=>p.stopPropagation(),onClick:p=>p.stopPropagation(),children:[a&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute inset-[-60%] rounded-full border border-cyan-500/60 animate-pulse pointer-events-none",style:{animationDuration:"3s"}}),E.jsx("div",{className:"absolute inset-[-30%] rounded-full border border-cyan-300/30 pointer-events-none"})]}),E.jsx(wr.div,{initial:!1,animate:{scale:s?1.8:1,backgroundColor:s?"#ffffff":l},transition:{duration:.2},className:"rounded-full w-full h-full",style:{boxShadow:d?`0 0 ${c*(a?4:3)}px ${l}`:"none"}}),s&&n>.15&&E.jsxs("div",{className:"absolute top-full mt-3 bg-zinc-950/90 border border-white/10 px-3 py-2 rounded-lg text-xs text-white z-[100] pointer-events-none shadow-2xl backdrop-blur-md min-w-[150px] max-w-[250px]",children:[E.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a&&E.jsx(Ba,{className:"w-3 h-3 text-cyan-400"}),E.jsx("p",{className:"font-bold text-blue-300 truncate block",children:a?"Resumo IA":t.title})]}),t.preview&&E.jsxs("p",{className:"text-zinc-400 italic line-clamp-3 leading-relaxed",children:['"',t.preview,'"']})]})]})}),E.jsxs(cP,{className:"bg-black/90 border-white/10 text-white w-56 backdrop-blur-xl z-[200]",sideOffset:5,children:[E.jsxs(u8,{className:"truncate text-xs text-zinc-500 font-mono uppercase tracking-widest flex items-center gap-2",children:[a&&E.jsx(Ba,{className:"w-3 h-3 text-cyan-500"}),a?"IA Summary":"Anotao"]}),E.jsx(d8,{className:"bg-white/10"}),t.documentId&&E.jsxs(rm,{onClick:f,className:"cursor-pointer hover:bg-white/10 focus:bg-white/10 focus:text-white gap-2 py-2",children:[E.jsx(Xse,{className:"w-4 h-4 text-blue-400"}),E.jsx("span",{children:a?"Ver Documento Fonte":"Explorar Contexto"})]})]})]})});function BEe({cluster:e,zoomLevel:t}){const n=Math.max(0,1-(t-.5)/2);return n<=0?null:E.jsxs("div",{className:"absolute flex flex-col items-center justify-center pointer-events-none transition-opacity duration-300",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)",opacity:n,zIndex:0},children:[E.jsx("div",{className:"absolute rounded-full blur-[120px]",style:{backgroundColor:e.color,width:"800px",height:"800px",opacity:.2}}),E.jsx("h2",{className:"text-6xl md:text-8xl font-black tracking-tighter text-white",style:{textShadow:`0 0 60px ${e.color}, 0 0 10px rgba(0,0,0,0.8)`},children:e.label})]})}function UEe({subCluster:e,zoomLevel:t}){if(t<.4)return null;let n=1;if(t<.6?n=(t-.4)/.2:t>2.5&&(n=Math.max(0,1-(t-2.5)/1)),n<=0)return null;const r=e.radius*2;return E.jsxs(wr.div,{initial:{opacity:0,scale:.8},animate:{opacity:n,scale:1},transition:{duration:.8},className:"absolute pointer-events-none flex items-center justify-center",style:{left:e.x,top:e.y,width:`${r}px`,height:`${r}px`,transform:"translate(-50%, -50%)",zIndex:5},children:[E.jsx("div",{className:"absolute inset-0 rounded-full border border-dashed",style:{borderColor:e.color,opacity:.15,borderWidth:"1px"}}),E.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:e.color,boxShadow:`0 0 20px 5px ${e.color}`}}),E.jsx("h3",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center font-bold tracking-widest uppercase text-white whitespace-nowrap",style:{transform:`scale(${1/Math.sqrt(t)}) translate(0, -200%)`,textShadow:`0 0 10px ${e.color}`,fontSize:"12px",color:e.color},children:e.label})]})}function VEe({clusters:e,onNavigate:t}){const i=s=>(s+4e3)/8e3*140;return E.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-2",children:[E.jsx(Joe,{className:"w-3 h-3"})," ",ws("galaxy.quick_nav")]}),E.jsxs("div",{className:"w-full aspect-square bg-black/60 rounded-lg border border-white/10 relative overflow-hidden group cursor-crosshair",children:[E.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[size:20px_20px]"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 w-2 h-0.5 bg-white/20 -translate-x-1/2 -translate-y-1/2"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-2 bg-white/20 -translate-x-1/2 -translate-y-1/2"}),e.map(s=>E.jsx(wr.button,{whileHover:{scale:1.5},onClick:()=>t(s.x,s.y),className:"absolute w-3 h-3 rounded-full -translate-x-1/2 -translate-y-1/2 border border-black/50 shadow-lg transition-transform",style:{left:i(s.x),top:i(s.y),backgroundColor:s.color,boxShadow:`0 0 8px ${s.color}`},title:`Ir para ${s.label}`},s.id))]}),E.jsx("p",{className:"text-[9px] text-gray-600 mt-1 text-center",children:ws("galaxy.click_travel")})]})}function _9(e){const t=qEe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(GEe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function qEe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=YEe(i),a=KEe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WEe=Symbol("radix.slottable");function GEe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WEe}function KEe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function YEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var XEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C9=XEe.reduce((e,t)=>{const n=_9(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Rw="Popover",[A9]=Ds(Rw,[lh]),$g=lh(),[ZEe,yc]=A9(Rw),T9=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=e,a=$g(t),l=x.useRef(null),[c,d]=x.useState(!1),[f,p]=sc({prop:r,defaultProp:i??!1,onChange:s,caller:Rw});return E.jsx(Jk,{...a,children:E.jsx(ZEe,{scope:t,contentId:$o(),triggerRef:l,open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:n})})};T9.displayName=Rw;var R9="PopoverAnchor",QEe=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=yc(R9,n),s=$g(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return x.useEffect(()=>(o(),()=>a()),[o,a]),E.jsx(nw,{...s,...r,ref:t})});QEe.displayName=R9;var k9="PopoverTrigger",P9=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=yc(k9,n),s=$g(n),o=pt(t,i.triggerRef),a=E.jsx(C9.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":I9(i.open),...r,ref:o,onClick:ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:E.jsx(nw,{asChild:!0,...s,children:a})});P9.displayName=k9;var sN="PopoverPortal",[JEe,e_e]=A9(sN,{forceMount:void 0}),N9=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=yc(sN,t);return E.jsx(JEe,{scope:t,forceMount:n,children:E.jsx(Xr,{present:n||s.open,children:E.jsx(Sg,{asChild:!0,container:i,children:r})})})};N9.displayName=sN;var zf="PopoverContent",M9=x.forwardRef((e,t)=>{const n=e_e(zf,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=yc(zf,e.__scopePopover);return E.jsx(Xr,{present:r||s.open,children:s.modal?E.jsx(n_e,{...i,ref:t}):E.jsx(r_e,{...i,ref:t})})});M9.displayName=zf;var t_e=_9("PopoverContent.RemoveScroll"),n_e=x.forwardRef((e,t)=>{const n=yc(zf,e.__scopePopover),r=x.useRef(null),i=pt(t,r),s=x.useRef(!1);return x.useEffect(()=>{const o=r.current;if(o)return iw(o)},[]),E.jsx(Cg,{as:t_e,allowPinchZoom:!0,children:E.jsx(O9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,o=>{o.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),r_e=x.forwardRef((e,t)=>{const n=yc(zf,e.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return E.jsx(O9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),O9=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=e,p=yc(zf,n),g=$g(n);return Zx(),E.jsx(xg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:E.jsx(bg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>p.onOpenChange(!1),children:E.jsx(eP,{"data-state":I9(p.open),role:"dialog",id:p.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),D9="PopoverClose",i_e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=yc(D9,n);return E.jsx(C9.button,{type:"button",...r,ref:t,onClick:ke(e.onClick,()=>i.onOpenChange(!1))})});i_e.displayName=D9;var s_e="PopoverArrow",o_e=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=$g(n);return E.jsx(tP,{...i,...r,ref:t})});o_e.displayName=s_e;function I9(e){return e?"open":"closed"}var a_e=T9,l_e=P9,c_e=N9,j9=M9;const u_e=a_e,d_e=l_e,L9=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>E.jsx(c_e,{children:E.jsx(j9,{ref:i,align:t,sideOffset:n,className:ot("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));L9.displayName=j9.displayName;function oN(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function f_e(e){const t=h_e(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(m_e);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function h_e(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=v_e(i),a=g_e(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p_e=Symbol("radix.slottable");function m_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p_e}function g_e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function v_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var y_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aN=y_e.reduce((e,t)=>{const n=f_e(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),kw="Checkbox",[b_e]=Ds(kw),[x_e,lN]=b_e(kw);function w_e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=e,[p,g]=sc({prop:n,defaultProp:i??!1,onChange:l,caller:kw}),[v,b]=x.useState(null),[w,S]=x.useState(null),C=x.useRef(!1),_=v?!!o||!!v.closest("form"):!0,k={checked:p,disabled:s,setChecked:g,control:v,setControl:b,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:C,required:c,defaultChecked:ec(i)?!1:i,isFormControl:_,bubbleInput:w,setBubbleInput:S};return E.jsx(x_e,{scope:t,...k,children:S_e(f)?f(k):r})}var z9="CheckboxTrigger",F9=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:v}=lN(z9,e),b=pt(i,d),w=x.useRef(l);return x.useEffect(()=>{const S=s?.form;if(S){const C=()=>f(w.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[s,f]),E.jsx(aN.button,{type:"button",role:"checkbox","aria-checked":ec(l)?"mixed":l,"aria-required":c,"data-state":V9(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:b,onKeyDown:ke(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:ke(n,S=>{f(C=>ec(C)?!0:!C),v&&g&&(p.current=S.isPropagationStopped(),p.current||S.stopPropagation())})})});F9.displayName=z9;var cN=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:c,form:d,...f}=e;return E.jsx(w_e,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>E.jsxs(E.Fragment,{children:[E.jsx(F9,{...f,ref:t,__scopeCheckbox:n}),p&&E.jsx(U9,{__scopeCheckbox:n})]})})});cN.displayName=kw;var $9="CheckboxIndicator",H9=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=lN($9,n);return E.jsx(Xr,{present:r||ec(s.checked)||s.checked===!0,children:E.jsx(aN.span,{"data-state":V9(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});H9.displayName=$9;var B9="CheckboxBubbleInput",U9=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:c,value:d,form:f,bubbleInput:p,setBubbleInput:g}=lN(B9,e),v=pt(n,g),b=oN(s),w=Xk(r);x.useEffect(()=>{const C=p;if(!C)return;const _=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(_,"checked").set,N=!i.current;if(b!==s&&R){const T=new Event("click",{bubbles:N});C.indeterminate=ec(s),R.call(C,ec(s)?!1:s),C.dispatchEvent(T)}},[p,b,s,i]);const S=x.useRef(ec(s)?!1:s);return E.jsx(aN.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:a,disabled:l,name:c,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});U9.displayName=B9;function S_e(e){return typeof e=="function"}function ec(e){return e==="indeterminate"}function V9(e){return ec(e)?"indeterminate":e?"checked":"unchecked"}const q9=x.forwardRef(({className:e,...t},n)=>E.jsx(cN,{ref:n,className:ot("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:E.jsx(H9,{className:ot("grid place-content-center text-current"),children:E.jsx(gg,{className:"h-4 w-4"})})}));q9.displayName=cN.displayName;var E_e="Label",W9=x.forwardRef((e,t)=>E.jsx(Zu.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W9.displayName=E_e;var G9=W9;const __e=Yx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Yp=x.forwardRef(({className:e,...t},n)=>E.jsx(G9,{ref:n,className:ot(__e(),e),...t}));Yp.displayName=G9.displayName;function C_e(e){const t=A_e(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(R_e);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function A_e(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=P_e(i),a=k_e(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var T_e=Symbol("radix.slottable");function R_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===T_e}function k_e(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function P_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var N_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pw=N_e.reduce((e,t)=>{const n=C_e(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),uN="Radio",[M_e,K9]=Ds(uN),[O_e,D_e]=M_e(uN),Y9=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...d}=e,[f,p]=x.useState(null),g=pt(t,w=>p(w)),v=x.useRef(!1),b=f?c||!!f.closest("form"):!0;return E.jsxs(O_e,{scope:n,checked:i,disabled:o,children:[E.jsx(Pw.button,{type:"button",role:"radio","aria-checked":i,"data-state":J9(i),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:ke(e.onClick,w=>{i||l?.(),b&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),b&&E.jsx(Q9,{control:f,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});Y9.displayName=uN;var X9="RadioIndicator",Z9=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,s=D_e(X9,n);return E.jsx(Xr,{present:r||s.checked,children:E.jsx(Pw.span,{"data-state":J9(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});Z9.displayName=X9;var I_e="RadioBubbleInput",Q9=x.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=x.useRef(null),a=pt(o,s),l=oN(n),c=Xk(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(v)}},[l,n,r]),E.jsx(Pw.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q9.displayName=I_e;function J9(e){return e?"checked":"unchecked"}var j_e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Nw="RadioGroup",[L_e]=Ds(Nw,[rw,K9]),eG=rw(),tG=K9(),[z_e,F_e]=L_e(Nw),nG=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...p}=e,g=eG(n),v=yg(c),[b,w]=sc({prop:s,defaultProp:i??null,onChange:f,caller:Nw});return E.jsx(z_e,{scope:n,name:r,required:o,disabled:a,value:b,onValueChange:w,children:E.jsx(s6,{asChild:!0,...g,orientation:l,dir:v,loop:d,children:E.jsx(Pw.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:v,...p,ref:t})})})});nG.displayName=Nw;var rG="RadioGroupItem",iG=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,s=F_e(rG,n),o=s.disabled||r,a=eG(n),l=tG(n),c=x.useRef(null),d=pt(t,c),f=s.value===i.value,p=x.useRef(!1);return x.useEffect(()=>{const g=b=>{j_e.includes(b.key)&&(p.current=!0)},v=()=>p.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),E.jsx(o6,{asChild:!0,...a,focusable:!o,active:f,children:E.jsx(Y9,{disabled:o,required:s.required,checked:f,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:ke(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ke(i.onFocus,()=>{p.current&&c.current?.click()})})})});iG.displayName=rG;var $_e="RadioGroupIndicator",sG=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=tG(n);return E.jsx(Z9,{...i,...r,ref:t})});sG.displayName=$_e;var oG=nG,aG=iG,H_e=sG;const lG=x.forwardRef(({className:e,...t},n)=>E.jsx(oG,{className:ot("grid gap-2",e),...t,ref:n}));lG.displayName=oG.displayName;const cb=x.forwardRef(({className:e,...t},n)=>E.jsx(aG,{ref:n,className:ot("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:E.jsx(H_e,{className:"flex items-center justify-center",children:E.jsx(KU,{className:"h-3.5 w-3.5 fill-primary"})})}));cb.displayName=aG.displayName;function B_e(){const{t:e}=lo(),{clusters:t,activeClusterIds:n,toggleCluster:r,sortOrder:i,setSortOrder:s,getVisibleData:o,deleteGalaxy:a}=gh(),{visibleNotes:l}=o();return E.jsxs(u_e,{children:[E.jsx(d_e,{asChild:!0,children:E.jsxs(ct,{variant:"outline",size:"sm",className:"h-8 bg-black/40 border-white/20 text-gray-300 hover:bg-white/10 hover:text-white backdrop-blur-md",children:[E.jsx(pae,{className:"w-3.5 h-3.5 mr-2"}),e("galaxy.config_view")," "]})}),E.jsx(L9,{className:"w-80 bg-[#0a0a0a] border-white/10 text-white p-4 ml-4 shadow-2xl backdrop-blur-xl",side:"right",align:"start",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("h4",{className:"font-medium leading-none flex items-center gap-2",children:[E.jsx(Moe,{className:"w-4 h-4 text-blue-400"})," ",e("galaxy.filters")]}),E.jsxs("span",{className:"text-[10px] text-gray-500",children:[l.length," notes"]})]}),E.jsx(Bb,{className:"bg-white/10"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"text-xs font-semibold text-gray-400 flex items-center gap-2",children:[E.jsx(Boe,{className:"w-3 h-3"})," ",e("galaxy.visible_galaxies")]}),E.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-[200px] overflow-y-auto pr-2 custom-scrollbar",children:t.map(c=>E.jsxs("div",{className:"flex items-center justify-between group hover:bg-white/5 p-1 rounded-md transition-colors",children:[E.jsxs("div",{className:"flex items-center space-x-2 overflow-hidden",children:[E.jsx(q9,{id:c.id,checked:n.includes(c.id),onCheckedChange:()=>r(c.id),className:"border-white/30 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 shrink-0"}),E.jsxs(Yp,{htmlFor:c.id,className:"text-xs cursor-pointer flex items-center gap-2 truncate",style:{color:n.includes(c.id)?"white":"gray"},children:[E.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:c.color}}),E.jsx("span",{className:"truncate",children:c.label})]})]}),E.jsx("button",{onClick:d=>{d.stopPropagation(),a(c.id)},className:"text-gray-600 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-white/10",children:E.jsx(Hk,{className:"w-3.5 h-3.5"})})]},c.id))})]}),E.jsx(Bb,{className:"bg-white/10"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"text-xs font-semibold text-gray-400 flex items-center gap-2",children:[E.jsx(VU,{className:"w-3 h-3"})," ",e("galaxy.sort")]}),E.jsxs(lG,{value:i,onValueChange:c=>s(c),className:"gap-2",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(cb,{value:"newest",id:"r1",className:"border-white/30 text-blue-500"}),E.jsx(Yp,{htmlFor:"r1",className:"text-xs",children:e("galaxy.sort_newest")})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(cb,{value:"oldest",id:"r2",className:"border-white/30 text-blue-500"}),E.jsx(Yp,{htmlFor:"r2",className:"text-xs",children:e("galaxy.sort_oldest")})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(cb,{value:"relevance",id:"r3",className:"border-white/30 text-blue-500"}),E.jsx(Yp,{htmlFor:"r3",className:"text-xs",children:e("galaxy.sort_relevance")})]})]})]})]})})]})}const Mw=x.forwardRef(({className:e,type:t,...n},r)=>E.jsx("input",{type:t,className:ot("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Mw.displayName="Input";const U_e=1200,Z_=4e3;function V_e(){const{t:e}=lo(),{createGalaxy:t,isGravityLoading:n,clusters:r}=gh(),[i,s]=x.useState(""),[o,a]=x.useState(!1),l=()=>{let d=0,f=0,p=!1,g=0;for(;!p&&g<50;){const v=(Math.random()-.5)*Z_,b=(Math.random()-.5)*Z_;r.some(S=>{const C=S.x-v,_=S.y-b;return Math.sqrt(C*C+_*_)<U_e})||(d=v,f=b,p=!0),g++}if(!p){const v=Math.random()*Math.PI*2,b=Z_/2+1e3+Math.random()*1e3;d=Math.cos(v)*b,f=Math.sin(v)*b}return{x:d,y:f}},c=async d=>{if(d.preventDefault(),!i.trim())return;const{x:f,y:p}=l();await t(i,f,p),s("")};return E.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-50 flex flex-col items-center gap-2",children:[E.jsx(CT,{children:o&&E.jsxs(wr.form,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},onSubmit:c,className:"flex items-center gap-2 bg-black/80 backdrop-blur-xl p-2 rounded-full border border-white/20 shadow-[0_0_30px_rgba(168,85,247,0.2)]",children:[E.jsx("div",{className:"pl-3",children:E.jsx(Pae,{className:"w-4 h-4 text-purple-400 animate-pulse"})}),E.jsx(Mw,{autoFocus:!0,value:i,onChange:d=>s(d.target.value),placeholder:e("galaxy.create_placeholder"),className:"bg-transparent border-0 focus-visible:ring-0 text-white w-64 placeholder:text-gray-500 focus:placeholder:text-gray-700 transition-colors",disabled:n}),E.jsx(ct,{type:"submit",size:"icon",disabled:n||!i.trim(),className:"rounded-full bg-purple-600 hover:bg-purple-700 text-white shadow-lg transition-transform active:scale-95",children:n?E.jsx(no,{className:"w-4 h-4 animate-spin"}):E.jsx($k,{className:"w-4 h-4"})})]})}),!o&&E.jsxs(ct,{onClick:()=>a(!0),size:"lg",className:"rounded-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-[0_0_20px_rgba(59,130,246,0.5)] border border-white/20 h-12 px-6 gap-2 transition-transform hover:scale-105",children:[E.jsx(Ba,{className:"w-4 h-4"}),e("galaxy.create_btn")]}),o&&E.jsx("button",{type:"button",onClick:()=>a(!1),className:"text-[10px] text-gray-500 hover:text-white mt-2 uppercase tracking-widest hover:underline transition-all",children:e("galaxy.close_panel")})]})}const dN=Wu(e=>({selectedNote:null,setSelectedNote:t=>e({selectedNote:t})}));function q_e(){const{focusNode:e,setFocusNode:t,allNotes:n}=gh(),{setSelectedNote:r}=dN(),[i,s]=x.useState(!0),o=x.useMemo(()=>e?GW(e,n,15):[],[e,n]);if(x.useEffect(()=>{s(!0);const c=setTimeout(()=>s(!1),1500);return()=>clearTimeout(c)},[e]),!e)return null;const a=(c,d)=>{const f=window.innerWidth/2+(c-e.x)*1.5,p=window.innerHeight/2+(d-e.y)*1.5;return{x:f,y:p}},l={x:window.innerWidth/2,y:window.innerHeight/2};return E.jsxs("div",{className:"fixed inset-0 z-[60] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center overflow-hidden",children:[E.jsx("div",{className:"absolute top-6 left-6 z-50",children:E.jsxs(ct,{variant:"outline",onClick:()=>t(null),className:"border-purple-500 text-purple-400 hover:bg-purple-900/20",children:[E.jsx(zk,{className:"mr-2 h-4 w-4"})," Voltar para Galxia"]})}),E.jsxs("div",{className:"absolute top-6 right-6 z-50 text-right",children:[E.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center justify-end gap-2",children:[E.jsx(QU,{className:"text-blue-500"})," Deep Dive"]}),E.jsx("p",{className:"text-gray-400 text-sm",children:"Explorando conexes semnticas"})]}),E.jsxs("div",{className:"relative w-full h-full",children:[i&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:E.jsx(wr.div,{initial:{width:0,height:0,opacity:.8},animate:{width:"100vw",height:"100vw",opacity:0},transition:{duration:1.5,repeat:1/0},className:"rounded-full border border-blue-500/50 bg-blue-500/5"})}),!i&&E.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:o.map((c,d)=>{const f=a(c.x,c.y);return E.jsx(wr.line,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.2},transition:{duration:.5,delay:d*.05},x1:l.x,y1:l.y,x2:f.x,y2:f.y,stroke:"white",strokeWidth:"1"},`line-${c.id}`)})}),E.jsx(wr.div,{layoutId:`star-${e.id}`,className:"absolute w-16 h-16 bg-white rounded-full shadow-[0_0_60px_20px_rgba(59,130,246,0.6)] z-20 flex items-center justify-center cursor-pointer",style:{left:l.x,top:l.y,transform:"translate(-50%, -50%)"},onClick:()=>r(e),children:E.jsx("div",{className:"absolute -bottom-8 text-center w-60",children:E.jsx("p",{className:"text-white font-bold text-lg",children:e.title})})}),!i&&o.map((c,d)=>{const f=a(c.x,c.y);return E.jsx(wr.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:d*.05,type:"spring"},className:"absolute w-6 h-6 bg-gray-200 rounded-full shadow-[0_0_20px_5px_rgba(255,255,255,0.3)] z-10 cursor-pointer hover:bg-blue-400 hover:scale-150 transition-all",style:{left:f.x,top:f.y,transform:"translate(-50%, -50%)"},onClick:()=>r(c),onDoubleClick:p=>{p.stopPropagation(),t(c)},children:E.jsxs("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 w-40 text-center opacity-70 hover:opacity-100",children:[E.jsx("p",{className:"text-xs text-gray-300 truncate",children:c.title}),E.jsxs("p",{className:"text-[10px] text-blue-400/80",children:[Math.round(c.distance||0),"u dist"]})]})},c.id)})]})]})}const W_e=k8,G_e=P8,K_e=N8,cG=x.forwardRef(({className:e,...t},n)=>E.jsx(uw,{className:ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));cG.displayName=uw.displayName;const Y_e=Yx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uG=x.forwardRef(({side:e="right",className:t,children:n,...r},i)=>E.jsxs(K_e,{children:[E.jsx(cG,{}),E.jsxs(dw,{ref:i,className:ot(Y_e({side:e}),t),...r,children:[E.jsxs(M8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[E.jsx(vg,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));uG.displayName=dw.displayName;const dG=({className:e,...t})=>E.jsx("div",{className:ot("flex flex-col space-y-2 text-center sm:text-left",e),...t});dG.displayName="SheetHeader";const fG=x.forwardRef(({className:e,...t},n)=>E.jsx(fw,{ref:n,className:ot("text-lg font-semibold text-foreground",e),...t}));fG.displayName=fw.displayName;const hG=x.forwardRef(({className:e,...t},n)=>E.jsx(hw,{ref:n,className:ot("text-sm text-muted-foreground",e),...t}));hG.displayName=hw.displayName;const Ow=0,bc=1,vh=2,pG=4;function a5(e){return()=>e}function X_e(e){e()}function mG(e,t){return n=>e(t(n))}function l5(e,t){return()=>e(t)}function Z_e(e,t){return n=>e(t,n)}function fN(e){return e!==void 0}function Q_e(...e){return()=>{e.map(X_e)}}function yh(){}function Dw(e,t){return t(e),e}function J_e(e,t){return t(e)}function dn(...e){return e}function Lt(e,t){return e(bc,t)}function ft(e,t){e(Ow,t)}function hN(e){e(vh)}function mn(e){return e(pG)}function Fe(e,t){return Lt(e,Z_e(t,Ow))}function eo(e,t){const n=e(bc,r=>{n(),t(r)});return n}function c5(e){let t,n;return r=>i=>{t=i,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function gG(e,t){return e===t}function un(e=gG){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function Ye(e){return t=>n=>{e(n)&&t(n)}}function Ne(e){return t=>mG(t,e)}function No(e){return t=>()=>{t(e)}}function Se(e,...t){const n=eCe(...t);return(r,i)=>{switch(r){case vh:hN(e);return;case bc:return Lt(e,n(i))}}}function zo(e,t){return n=>r=>{n(t=e(t,r))}}function Nu(e){return t=>n=>{e>0?e--:t(n)}}function Oa(e){let t=null,n;return r=>i=>{t=i,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function ht(...e){const t=new Array(e.length);let n=0,r=null;const i=Math.pow(2,e.length)-1;return e.forEach((s,o)=>{const a=Math.pow(2,o);Lt(s,l=>{const c=n;n=n|a,t[o]=l,c!==i&&n===i&&r&&(r(),r=null)})}),s=>o=>{const a=()=>{s([o].concat(t))};n===i?a():r=a}}function eCe(...e){return t=>e.reduceRight(J_e,t)}function tCe(e){let t,n;const r=()=>t?.();return function(i,s){switch(i){case bc:return s?n===s?void 0:(r(),n=s,t=Lt(e,s),t):(r(),yh);case vh:r(),n=null;return}}}function Ce(e){let t=e;const n=_t();return(r,i)=>{switch(r){case Ow:t=i;break;case bc:{i(t);break}case pG:return t}return n(r,i)}}function Gr(e,t){return Dw(Ce(t),n=>Fe(e,n))}function _t(){const e=[];return(t,n)=>{switch(t){case Ow:e.slice().forEach(r=>{r(n)});return;case vh:e.splice(0,e.length);return;case bc:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}}}function es(e){return Dw(_t(),t=>Fe(e,t))}function Mt(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:nCe(),singleton:n}}const nCe=()=>Symbol();function rCe(e){const t=new Map,n=({constructor:r,dependencies:i,id:s,singleton:o})=>{if(o&&t.has(s))return t.get(s);const a=r(i.map(l=>n(l)));return o&&t.set(s,a),a};return n(e)}function Jn(...e){const t=_t(),n=new Array(e.length);let r=0;const i=Math.pow(2,e.length)-1;return e.forEach((s,o)=>{const a=Math.pow(2,o);Lt(s,l=>{n[o]=l,r=r|a,r===i&&ft(t,n)})}),function(s,o){switch(s){case vh:{hN(t);return}case bc:return r===i&&o(n),Lt(t,o)}}}function Ke(e,t=gG){return Se(e,un(t))}function VT(...e){return function(t,n){switch(t){case vh:return;case bc:return Q_e(...e.map(r=>Lt(r,n)))}}}var ki=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(ki||{});const iCe={0:"debug",3:"error",1:"log",2:"warn"},sCe=()=>typeof globalThis>"u"?window:globalThis,xc=Mt(()=>{const e=Ce(3);return{log:Ce((t,n,r=1)=>{var i;const s=(i=sCe().VIRTUOSO_LOG_LEVEL)!=null?i:mn(e);r>=s&&console[iCe[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function Qu(e,t,n){return pN(e,t,n).callbackRef}function pN(e,t,n){const r=ie.useRef(null);let i=o=>{};const s=ie.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(o=>{const a=()=>{const l=o[0].target;l.offsetParent!==null&&e(l)};n?a():requestAnimationFrame(a)}):null,[e,n]);return i=o=>{o&&t?(s?.observe(o),r.current=o):(r.current&&s?.unobserve(r.current),r.current=null)},{callbackRef:i,ref:r}}function oCe(e,t,n,r,i,s,o,a,l){const c=ie.useCallback(d=>{const f=aCe(d.children,t,a?"offsetWidth":"offsetHeight",i);let p=d.parentElement;for(;!p.dataset.virtuosoScroller;)p=p.parentElement;const g=p.lastElementChild.dataset.viewportType==="window";let v;g&&(v=p.ownerDocument.defaultView);const b=o?a?o.scrollLeft:o.scrollTop:g?a?v.scrollX||v.document.documentElement.scrollLeft:v.scrollY||v.document.documentElement.scrollTop:a?p.scrollLeft:p.scrollTop,w=o?a?o.scrollWidth:o.scrollHeight:g?a?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight:a?p.scrollWidth:p.scrollHeight,S=o?a?o.offsetWidth:o.offsetHeight:g?a?v.innerWidth:v.innerHeight:a?p.offsetWidth:p.offsetHeight;r({scrollHeight:w,scrollTop:Math.max(b,0),viewportHeight:S}),s?.(a?u5("column-gap",getComputedStyle(d).columnGap,i):u5("row-gap",getComputedStyle(d).rowGap,i)),f!==null&&e(f)},[e,t,i,s,o,r,a]);return pN(c,n,l)}function aCe(e,t,n,r){const i=e.length;if(i===0)return null;const s=[];for(let o=0;o<i;o++){const a=e.item(o);if(a.dataset.index===void 0)continue;const l=parseInt(a.dataset.index),c=parseFloat(a.dataset.knownSize),d=t(a,n);if(d===0&&r("Zero-sized element, this should not happen",{child:a},ki.ERROR),d===c)continue;const f=s[s.length-1];s.length===0||f.size!==d||f.endIndex!==l-1?s.push({endIndex:l,size:d,startIndex:l}):s[s.length-1].endIndex++}return s}function u5(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,ki.WARN),t==="normal"?0:parseInt(t??"0",10)}function vG(e,t,n){const r=ie.useRef(null),i=ie.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const c=l.getBoundingClientRect(),d=c.width;let f,p;if(t){const g=t.getBoundingClientRect(),v=c.top-g.top;p=g.height-Math.max(0,v),f=v+t.scrollTop}else{const g=o.current.ownerDocument.defaultView;p=g.innerHeight-Math.max(0,c.top),f=c.top+g.scrollY}r.current={offsetTop:f,visibleHeight:p,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:s,ref:o}=pN(i,!0,n),a=ie.useCallback(()=>{i(o.current)},[i,o]);return ie.useEffect(()=>{var l;if(t){t.addEventListener("scroll",a);const c=new ResizeObserver(()=>{requestAnimationFrame(a)});return c.observe(t),()=>{t.removeEventListener("scroll",a),c.unobserve(t)}}else{const c=(l=o.current)==null?void 0:l.ownerDocument.defaultView;return c?.addEventListener("scroll",a),c?.addEventListener("resize",a),()=>{c?.removeEventListener("scroll",a),c?.removeEventListener("resize",a)}}},[a,t,o]),s}const oi=Mt(()=>{const e=_t(),t=_t(),n=Ce(0),r=_t(),i=Ce(0),s=_t(),o=_t(),a=Ce(0),l=Ce(0),c=Ce(0),d=Ce(0),f=_t(),p=_t(),g=Ce(!1),v=Ce(!1),b=Ce(!1);return Fe(Se(e,Ne(({scrollTop:w})=>w)),t),Fe(Se(e,Ne(({scrollHeight:w})=>w)),o),Fe(t,i),{deviation:n,fixedFooterHeight:c,fixedHeaderHeight:l,footerHeight:d,headerHeight:a,horizontalDirection:v,scrollBy:p,scrollContainerState:e,scrollHeight:o,scrollingInProgress:g,scrollTo:f,scrollTop:t,skipAnimationFrameInResizeObserver:b,smoothScrollTargetReached:r,statefulScrollTop:i,viewportHeight:s}},[],{singleton:!0}),Dm={lvl:0};function yG(e,t){const n=e.length;if(n===0)return[];let{index:r,value:i}=t(e[0]);const s=[];for(let o=1;o<n;o++){const{index:a,value:l}=t(e[o]);s.push({end:a-1,start:r,value:i}),r=a,i=l}return s.push({end:1/0,start:r,value:i}),s}function Kt(e){return e===Dm}function Im(e,t){if(!Kt(e))return t===e.k?e.v:t<e.k?Im(e.l,t):Im(e.r,t)}function so(e,t,n="k"){if(Kt(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){const r=so(e.r,t,n);return r[0]===-1/0?[e.k,e.v]:r}return so(e.l,t,n)}function Yi(e,t,n){return Kt(e)?wG(t,n,1):t===e.k?fr(e,{k:t,v:n}):t<e.k?d5(fr(e,{l:Yi(e.l,t,n)})):d5(fr(e,{r:Yi(e.r,t,n)}))}function Ef(){return Dm}function _f(e,t,n){if(Kt(e))return[];const r=so(e,t)[0];return lCe(WT(e,r,n))}function qT(e,t){if(Kt(e))return Dm;const{k:n,l:r,r:i}=e;if(t===n){if(Kt(r))return i;if(Kt(i))return r;{const[s,o]=xG(r);return ub(fr(e,{k:s,l:bG(r),v:o}))}}else return t<n?ub(fr(e,{l:qT(r,t)})):ub(fr(e,{r:qT(i,t)}))}function du(e){return Kt(e)?[]:[...du(e.l),{k:e.k,v:e.v},...du(e.r)]}function WT(e,t,n){if(Kt(e))return[];const{k:r,l:i,r:s,v:o}=e;let a=[];return r>t&&(a=a.concat(WT(i,t,n))),r>=t&&r<=n&&a.push({k:r,v:o}),r<=n&&(a=a.concat(WT(s,t,n))),a}function ub(e){const{l:t,lvl:n,r}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(Q_(t))return SG(fr(e,{lvl:n-1}));if(!Kt(t)&&!Kt(t.r))return fr(t.r,{l:fr(t,{r:t.r.l}),lvl:n,r:fr(e,{l:t.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}else{if(Q_(e))return GT(fr(e,{lvl:n-1}));if(!Kt(r)&&!Kt(r.l)){const i=r.l,s=Q_(i)?r.lvl-1:r.lvl;return fr(i,{l:fr(e,{lvl:n-1,r:i.l}),lvl:i.lvl+1,r:GT(fr(r,{l:i.r,lvl:s}))})}else throw new Error("Unexpected empty nodes")}}function fr(e,t){return wG(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function bG(e){return Kt(e.r)?e.l:ub(fr(e,{r:bG(e.r)}))}function Q_(e){return Kt(e)||e.lvl>e.r.lvl}function xG(e){return Kt(e.r)?[e.k,e.v]:xG(e.r)}function wG(e,t,n,r=Dm,i=Dm){return{k:e,l:r,lvl:n,r:i,v:t}}function d5(e){return GT(SG(e))}function SG(e){const{l:t}=e;return!Kt(t)&&t.lvl===e.lvl?fr(t,{r:fr(e,{l:t.r})}):e}function GT(e){const{lvl:t,r:n}=e;return!Kt(n)&&!Kt(n.r)&&n.lvl===t&&n.r.lvl===t?fr(n,{l:fr(e,{r:n.l}),lvl:t+1}):e}function lCe(e){return yG(e,({k:t,v:n})=>({index:t,value:n}))}function EG(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function jm(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const mN=Mt(()=>({recalcInProgress:Ce(!1)}),[],{singleton:!0});function _G(e,t,n){return e[Xb(e,t,n)]}function Xb(e,t,n,r=0){let i=e.length-1;for(;r<=i;){const s=Math.floor((r+i)/2),o=e[s],a=n(o,t);if(a===0)return s;if(a===-1){if(i-r<2)return s-1;i=s-1}else{if(i===r)return s;r=s+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function cCe(e,t,n,r){const i=Xb(e,t,r),s=Xb(e,n,r,i);return e.slice(i,s+1)}function dc(e,t){return Math.round(e.getBoundingClientRect()[t])}function Iw(e){return!Kt(e.groupOffsetTree)}function gN({index:e},t){return t===e?0:t<e?-1:1}function uCe(){return{groupIndices:[],groupOffsetTree:Ef(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ef()}}function dCe(e,t){let n=Kt(e)?0:1/0;for(const r of t){const{endIndex:i,size:s,startIndex:o}=r;if(n=Math.min(n,o),Kt(e)){e=Yi(e,0,s);continue}const a=_f(e,o-1,i+1);if(a.some(yCe(r)))continue;let l=!1,c=!1;for(const{end:d,start:f,value:p}of a)l?(i>=f||s===p)&&(e=qT(e,f)):(c=p!==s,l=!0),d>i&&i>=f&&p!==s&&(e=Yi(e,i+1,p));c&&(e=Yi(e,o,s))}return[e,n]}function fCe(e){return typeof e.groupIndex<"u"}function hCe({offset:e},t){return t===e?0:t<e?-1:1}function Lm(e,t,n){if(t.length===0)return 0;const{index:r,offset:i,size:s}=_G(t,e,gN),o=e-r,a=s*o+(o-1)*n+i;return a>0?a+n:a}function CG(e,t){if(!Iw(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function AG(e,t,n){if(fCe(e))return t.groupIndices[e.groupIndex]+1;{const r=e.index==="LAST"?n:e.index;let i=CG(r,t);return i=Math.max(0,i,Math.min(n,i)),i}}function pCe(e,t,n,r=0){return r>0&&(t=Math.max(t,_G(e,r,gN).offset)),yG(cCe(e,t,n,hCe),vCe)}function mCe(e,[t,n,r,i]){t.length>0&&r("received item sizes",t,ki.DEBUG);const s=e.sizeTree;let o=s,a=0;if(n.length>0&&Kt(s)&&t.length===2){const p=t[0].size,g=t[1].size;o=n.reduce((v,b)=>Yi(Yi(v,b,p),b+1,g),o)}else[o,a]=dCe(o,t);if(o===s)return e;const{lastIndex:l,lastOffset:c,lastSize:d,offsetTree:f}=KT(e.offsetTree,a,o,i);return{groupIndices:n,groupOffsetTree:n.reduce((p,g)=>Yi(p,g,Lm(g,f,i)),Ef()),lastIndex:l,lastOffset:c,lastSize:d,offsetTree:f,sizeTree:o}}function gCe(e){return du(e).map(({k:t,v:n},r,i)=>{const s=i[r+1];return{endIndex:s?s.k-1:1/0,size:n,startIndex:t}})}function f5(e,t){let n=0,r=0;for(;n<e;)n+=t[r+1]-t[r]-1,r++;return r-(n===e?0:1)}function KT(e,t,n,r){let i=e,s=0,o=0,a=0,l=0;if(t!==0){l=Xb(i,t-1,gN),a=i[l].offset;const c=so(n,t-1);s=c[0],o=c[1],i.length&&i[l].size===so(n,t)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:c,value:d}of _f(n,t,1/0)){const f=c-s,p=f*o+a+f*r;i.push({index:c,offset:p,size:d}),s=c,a=p,o=d}return{lastIndex:s,lastOffset:a,lastSize:o,offsetTree:i}}function vCe(e){return{index:e.index,value:e}}function yCe(e){const{endIndex:t,size:n,startIndex:r}=e;return i=>i.start===r&&(i.end===t||i.end===1/0)&&i.value===n}const bCe={offsetHeight:"height",offsetWidth:"width"},Qo=Mt(([{log:e},{recalcInProgress:t}])=>{const n=_t(),r=_t(),i=Gr(r,0),s=_t(),o=_t(),a=Ce(0),l=Ce([]),c=Ce(void 0),d=Ce(void 0),f=Ce(void 0),p=Ce(void 0),g=Ce((T,M)=>dc(T,bCe[M])),v=Ce(void 0),b=Ce(0),w=uCe(),S=Gr(Se(n,ht(l,e,b),zo(mCe,w),un()),w),C=Gr(Se(l,un(),zo((T,M)=>({current:M,prev:T.current}),{current:[],prev:[]}),Ne(({prev:T})=>T)),[]);Fe(Se(l,Ye(T=>T.length>0),ht(S,b),Ne(([T,M,O])=>{const L=T.reduce((D,F,G)=>Yi(D,F,Lm(F,M.offsetTree,O)||G),Ef());return{...M,groupIndices:T,groupOffsetTree:L}})),S),Fe(Se(r,ht(S),Ye(([T,{lastIndex:M}])=>T<M),Ne(([T,{lastIndex:M,lastSize:O}])=>[{endIndex:M,size:O,startIndex:T}])),n),Fe(c,d);const _=Gr(Se(c,Ne(T=>T===void 0)),!0);Fe(Se(d,Ye(T=>T!==void 0&&Kt(mn(S).sizeTree)),Ne(T=>{const M=mn(f),O=mn(l).length>0;return M?O?[{endIndex:0,size:M,startIndex:0},{endIndex:1,size:T,startIndex:1}]:[]:[{endIndex:0,size:T,startIndex:0}]})),n),Fe(Se(p,Ye(T=>T!==void 0&&T.length>0&&Kt(mn(S).sizeTree)),Ne(T=>{const M=[];let O=T[0],L=0;for(let D=1;D<T.length;D++){const F=T[D];F!==O&&(M.push({endIndex:D-1,size:O,startIndex:L}),O=F,L=D)}return M.push({endIndex:T.length-1,size:O,startIndex:L}),M})),n),Fe(Se(l,ht(f,d),Ye(([,T,M])=>T!==void 0&&M!==void 0),Ne(([T,M,O])=>{const L=[];for(let D=0;D<T.length;D++){const F=T[D],G=T[D+1];L.push({startIndex:F,endIndex:F,size:M}),G!==void 0&&L.push({startIndex:F+1,endIndex:G-1,size:O})}return L})),n);const k=es(Se(n,ht(S),zo(({sizes:T},[M,O])=>({changed:O!==T,sizes:O}),{changed:!1,sizes:w}),Ne(T=>T.changed)));Lt(Se(a,zo((T,M)=>({diff:T.prev-M,prev:M}),{diff:0,prev:0}),Ne(T=>T.diff)),T=>{const{groupIndices:M}=mn(S);if(T>0)ft(t,!0),ft(s,T+f5(T,M));else if(T<0){const O=mn(C);O.length>0&&(T-=f5(-T,O)),ft(o,T)}}),Lt(Se(a,ht(e)),([T,M])=>{T<0&&M("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:a},ki.ERROR)});const R=es(s);Fe(Se(s,ht(S),Ne(([T,M])=>{const O=M.groupIndices.length>0,L=[],D=M.lastSize;if(O){const F=Im(M.sizeTree,0);let G=0,z=0;for(;G<T;){const j=M.groupIndices[z],H=M.groupIndices.length===z+1?1/0:M.groupIndices[z+1]-j-1;L.push({endIndex:j,size:F,startIndex:j}),L.push({endIndex:j+1+H-1,size:D,startIndex:j+1}),z++,G+=H+1}const V=du(M.sizeTree);return G!==T&&V.shift(),V.reduce((j,{k:H,v:B})=>{let K=j.ranges;return j.prevSize!==0&&(K=[...j.ranges,{endIndex:H+T-1,size:j.prevSize,startIndex:j.prevIndex}]),{prevIndex:H+T,prevSize:B,ranges:K}},{prevIndex:T,prevSize:0,ranges:L}).ranges}return du(M.sizeTree).reduce((F,{k:G,v:z})=>({prevIndex:G+T,prevSize:z,ranges:[...F.ranges,{endIndex:G+T-1,size:F.prevSize,startIndex:F.prevIndex}]}),{prevIndex:0,prevSize:D,ranges:[]}).ranges})),n);const N=es(Se(o,ht(S,b),Ne(([T,{offsetTree:M},O])=>{const L=-T;return Lm(L,M,O)})));return Fe(Se(o,ht(S,b),Ne(([T,M,O])=>{if(M.groupIndices.length>0){if(Kt(M.sizeTree))return M;let L=Ef();const D=mn(C);let F=0,G=0,z=0;for(;F<-T;){z=D[G];const V=D[G+1]-z-1;G++,F+=V+1}if(L=du(M.sizeTree).reduce((V,{k:j,v:H})=>Yi(V,Math.max(0,j+T),H),L),F!==-T){const V=Im(M.sizeTree,z);L=Yi(L,0,V);const j=so(M.sizeTree,-T+1)[1];L=Yi(L,1,j)}return{...M,sizeTree:L,...KT(M.offsetTree,0,L,O)}}else{const L=du(M.sizeTree).reduce((D,{k:F,v:G})=>Yi(D,Math.max(0,F+T),G),Ef());return{...M,sizeTree:L,...KT(M.offsetTree,0,L,O)}}})),S),{beforeUnshiftWith:R,data:v,defaultItemSize:d,firstItemIndex:a,fixedItemSize:c,fixedGroupSize:f,gap:b,groupIndices:l,heightEstimates:p,itemSize:g,listRefresh:k,shiftWith:o,shiftWithOffset:N,sizeRanges:n,sizes:S,statefulTotalCount:i,totalCount:r,trackItemSizes:_,unshiftWith:s}},dn(xc,mN),{singleton:!0});function xCe(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{groupIndices:[],totalCount:0})}const TG=Mt(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:r,scrollTop:i}])=>{const s=_t(),o=_t(),a=es(Se(s,Ne(xCe)));return Fe(Se(a,Ne(l=>l.totalCount)),n),Fe(Se(a,Ne(l=>l.groupIndices)),e),Fe(Se(Jn(i,t,r),Ye(([l,c])=>Iw(c)),Ne(([l,c,d])=>so(c.groupOffsetTree,Math.max(l-d,0),"v")[0]),un(),Ne(l=>[l])),o),{groupCounts:s,topItemsIndexes:o}},dn(Qo,oi)),wc=Mt(([{log:e}])=>{const t=Ce(!1),n=es(Se(t,Ye(r=>r),un()));return Lt(t,r=>{r&&mn(e)("props updated",{},ki.DEBUG)}),{didMount:n,propsReady:t}},dn(xc),{singleton:!0}),wCe=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function RG(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!wCe)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Hg=Mt(([{gap:e,listRefresh:t,sizes:n,totalCount:r},{fixedFooterHeight:i,fixedHeaderHeight:s,footerHeight:o,headerHeight:a,scrollingInProgress:l,scrollTo:c,smoothScrollTargetReached:d,viewportHeight:f},{log:p}])=>{const g=_t(),v=_t(),b=Ce(0);let w=null,S=null,C=null;function _(){w&&(w(),w=null),C&&(C(),C=null),S&&(clearTimeout(S),S=null),ft(l,!1)}return Fe(Se(g,ht(n,f,r,b,a,o,p),ht(e,s,i),Ne(([[k,R,N,T,M,O,L,D],F,G,z])=>{const V=RG(k),{align:j,behavior:H,offset:B}=V,K=T-1,U=AG(V,R,K);let q=Lm(U,R.offsetTree,F)+O;j==="end"?(q+=G+so(R.sizeTree,U)[1]-N+z,U===K&&(q+=L)):j==="center"?q+=(G+so(R.sizeTree,U)[1]-N+z)/2:q-=M,B&&(q+=B);const Y=$=>{_(),$?(D("retrying to scroll to",{location:k},ki.DEBUG),ft(g,k)):(ft(v,!0),D("list did not change, scroll successful",{},ki.DEBUG))};if(_(),H==="smooth"){let $=!1;C=Lt(t,J=>{$=$||J}),w=eo(d,()=>{Y($)})}else w=eo(Se(t,SCe(150)),Y);return S=setTimeout(()=>{_()},1200),ft(l,!0),D("scrolling from index to",{behavior:H,index:U,top:q},ki.DEBUG),{behavior:H,top:q}})),c),{scrollTargetReached:v,scrollToIndex:g,topListHeight:b}},dn(Qo,oi,xc),{singleton:!0});function SCe(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return r=>{r&&(t(!0),clearTimeout(n))}}}function vN(e,t){e==0?t():requestAnimationFrame(()=>{vN(e-1,t)})}function yN(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const Bg=Mt(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:r},{scrollTargetReached:i,scrollToIndex:s},{didMount:o}])=>{const a=Ce(!0),l=Ce(0),c=Ce(!0);return Fe(Se(o,ht(l),Ye(([d,f])=>!!f),No(!1)),a),Fe(Se(o,ht(l),Ye(([d,f])=>!!f),No(!1)),c),Lt(Se(Jn(t,o),ht(a,n,e,c),Ye(([[,d],f,{sizeTree:p},g,v])=>d&&(!Kt(p)||fN(g))&&!f&&!v),ht(l)),([,d])=>{eo(i,()=>{ft(c,!0)}),vN(4,()=>{eo(r,()=>{ft(a,!0)}),ft(s,d)})}),{initialItemFinalLocationReached:c,initialTopMostItemIndex:l,scrolledToInitialItem:a}},dn(Qo,oi,Hg,wc),{singleton:!0});function kG(e,t){return Math.abs(e-t)<1.01}const zm="up",lm="down",ECe="none",_Ce={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},CCe=0,Ug=Mt(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:r,scrollTop:i,viewportHeight:s}])=>{const o=Ce(!1),a=Ce(!0),l=_t(),c=_t(),d=Ce(4),f=Ce(CCe),p=Gr(Se(VT(Se(Ke(i),Nu(1),No(!0)),Se(Ke(i),Nu(1),No(!1),c5(100))),un()),!1),g=Gr(Se(VT(Se(n,No(!0)),Se(n,No(!1),c5(200))),un()),!1);Fe(Se(Jn(Ke(i),Ke(f)),Ne(([C,_])=>C<=_),un()),a),Fe(Se(a,Oa(50)),c);const v=es(Se(Jn(r,Ke(s),Ke(t),Ke(e),Ke(d)),zo((C,[{scrollHeight:_,scrollTop:k},R,N,T,M])=>{const O=k+R-_>-M,L={scrollHeight:_,scrollTop:k,viewportHeight:R};if(O){let F,G;return k>C.state.scrollTop?(F="SCROLLED_DOWN",G=C.state.scrollTop-k):(F="SIZE_DECREASED",G=C.state.scrollTop-k||C.scrollTopDelta),{atBottom:!0,atBottomBecause:F,scrollTopDelta:G,state:L}}let D;return L.scrollHeight>C.state.scrollHeight?D="SIZE_INCREASED":R<C.state.viewportHeight?D="VIEWPORT_HEIGHT_DECREASING":k<C.state.scrollTop?D="SCROLLING_UPWARDS":D="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:D,state:L}},_Ce),un((C,_)=>C&&C.atBottom===_.atBottom))),b=Gr(Se(r,zo((C,{scrollHeight:_,scrollTop:k,viewportHeight:R})=>{if(kG(C.scrollHeight,_))return{changed:!1,jump:0,scrollHeight:_,scrollTop:k};{const N=_-(k+R)<1;return C.scrollTop!==k&&N?{changed:!0,jump:C.scrollTop-k,scrollHeight:_,scrollTop:k}:{changed:!0,jump:0,scrollHeight:_,scrollTop:k}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Ye(C=>C.changed),Ne(C=>C.jump)),0);Fe(Se(v,Ne(C=>C.atBottom)),o),Fe(Se(o,Oa(50)),l);const w=Ce(lm);Fe(Se(r,Ne(({scrollTop:C})=>C),un(),zo((C,_)=>mn(g)?{direction:C.direction,prevScrollTop:_}:{direction:_<C.prevScrollTop?zm:lm,prevScrollTop:_},{direction:lm,prevScrollTop:0}),Ne(C=>C.direction)),w),Fe(Se(r,Oa(50),No(ECe)),w);const S=Ce(0);return Fe(Se(p,Ye(C=>!C),No(0)),S),Fe(Se(i,Oa(100),ht(p),Ye(([C,_])=>!!_),zo(([C,_],[k])=>[_,k],[0,0]),Ne(([C,_])=>_-C)),S),{atBottomState:v,atBottomStateChange:l,atBottomThreshold:d,atTopStateChange:c,atTopThreshold:f,isAtBottom:o,isAtTop:a,isScrolling:p,lastJumpDueToItemResize:b,scrollDirection:w,scrollVelocity:S}},dn(oi)),Fm="top",$m="bottom",h5="none";function p5(e,t,n){return typeof e=="number"?n===zm&&t===Fm||n===lm&&t===$m?e:0:n===zm?t===Fm?e.main:e.reverse:t===$m?e.main:e.reverse}function m5(e,t){var n;return typeof e=="number"?e:(n=e[t])!=null?n:0}const bN=Mt(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:r,viewportHeight:i}])=>{const s=_t(),o=Ce(0),a=Ce(0),l=Ce(0),c=Gr(Se(Jn(Ke(r),Ke(i),Ke(n),Ke(s,jm),Ke(l),Ke(o),Ke(t),Ke(e),Ke(a)),Ne(([d,f,p,[g,v],b,w,S,C,_])=>{const k=d-C,R=w+S,N=Math.max(p-k,0);let T=h5;const M=m5(_,Fm),O=m5(_,$m);return g-=C,g+=p+S,v+=p+S,v-=C,g>d+R-M&&(T=zm),v<d-N+f+O&&(T=lm),T!==h5?[Math.max(k-p-p5(b,Fm,T)-M,0),k-N-S+f+p5(b,$m,T)+O]:null}),Ye(d=>d!=null),un(jm)),[0,0]);return{increaseViewportBy:a,listBoundary:s,overscan:l,topListHeight:o,visibleRange:c}},dn(oi),{singleton:!0});function ACe(e,t,n){if(Iw(t)){const r=CG(e,t);return[{index:so(t.groupOffsetTree,r)[0],offset:0,size:0},{data:n?.[0],index:r,offset:0,size:0}]}return[{data:n?.[0],index:e,offset:0,size:0}]}const J_={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function db(e,t,n,r,i,s){const{lastIndex:o,lastOffset:a,lastSize:l}=i;let c=0,d=0;if(e.length>0){c=e[0].offset;const b=e[e.length-1];d=b.offset+b.size}const f=n-o,p=a+f*l+(f-1)*r,g=c,v=p-d;return{bottom:d,firstItemIndex:s,items:g5(e,i,s),offsetBottom:v,offsetTop:c,top:g,topItems:g5(t,i,s),topListHeight:t.reduce((b,w)=>w.size+b,0),totalCount:n}}function PG(e,t,n,r,i,s){let o=0;if(n.groupIndices.length>0)for(const d of n.groupIndices){if(d-o>=e)break;o++}const a=e+o,l=yN(t,a),c=Array.from({length:a}).map((d,f)=>({data:s[f+l],index:f+l,offset:0,size:0}));return db(c,[],a,i,n,r)}function g5(e,t,n){if(e.length===0)return[];if(!Iw(t))return e.map(c=>({...c,index:c.index+n,originalIndex:c.index}));const r=e[0].index,i=e[e.length-1].index,s=[],o=_f(t.groupOffsetTree,r,i);let a,l=0;for(const c of e){(!a||a.end<c.index)&&(a=o.shift(),l=t.groupIndices.indexOf(a.start));let d;c.index===a.start?d={index:l,type:"group"}:d={groupIndex:l,index:c.index-(l+1)+n},s.push({...d,data:c.data,offset:c.offset,originalIndex:c.index,size:c.size})}return s}function v5(e,t){var n;return e===void 0?0:typeof e=="number"?e:(n=e[t])!=null?n:0}const Ju=Mt(([{data:e,firstItemIndex:t,gap:n,sizes:r,totalCount:i},s,{listBoundary:o,topListHeight:a,visibleRange:l},{initialTopMostItemIndex:c,scrolledToInitialItem:d},{topListHeight:f},p,{didMount:g},{recalcInProgress:v}])=>{const b=Ce([]),w=Ce(0),S=_t(),C=Ce(0);Fe(s.topItemsIndexes,b);const _=Gr(Se(Jn(g,v,Ke(l,jm),Ke(i),Ke(r),Ke(c),d,Ke(b),Ke(t),Ke(n),Ke(C),e),Ye(([T,M,,O,,,,,,,,L])=>{const D=L&&L.length!==O;return T&&!M&&!D}),Ne(([,,[T,M],O,L,D,F,G,z,V,j,H])=>{var B,K,U,q;const Y=L,{offsetTree:$,sizeTree:J}=Y,se=mn(w);if(O===0)return{...J_,totalCount:O};if(T===0&&M===0)return se===0?{...J_,totalCount:O}:PG(se,D,L,z,V,H||[]);if(Kt(J))return se>0?null:db(ACe(yN(D,O),Y,H),[],O,V,Y,z);const ue=[];if(G.length>0){const we=G[0],xe=G[G.length-1];let Re=0;for(const Ae of _f(J,we,xe)){const Te=Ae.value,We=Math.max(Ae.start,we),rt=Math.min(Ae.end,xe);for(let mt=We;mt<=rt;mt++)ue.push({data:H?.[mt],index:mt,offset:Re,size:Te}),Re+=Te}}if(!F)return db([],ue,O,V,Y,z);const ee=G.length>0?G[G.length-1]+1:0,Z=pCe($,T,M,ee);if(Z.length===0)return null;const X=O-1,fe=Dw([],we=>{for(const xe of Z){const Re=xe.value;let Ae=Re.offset,Te=xe.start;const We=Re.size;if(Re.offset<T){Te+=Math.floor((T-Re.offset+V)/(We+V));const mt=Te-xe.start;Ae+=mt*We+mt*V}Te<ee&&(Ae+=(ee-Te)*We,Te=ee);const rt=Math.min(xe.end,X);for(let mt=Te;mt<=rt&&!(Ae>=M);mt++)we.push({data:H?.[mt],index:mt,offset:Ae,size:We}),Ae+=We+V}}),me=v5(j,Fm),ne=v5(j,$m);if(fe.length>0&&(me>0||ne>0)){const we=fe[0],xe=fe[fe.length-1];if(me>0&&we.index>ee){const Re=Math.min(me,we.index-ee),Ae=[];let Te=we.offset;for(let We=we.index-1;We>=we.index-Re;We--){const rt=(K=(B=_f(J,We,We)[0])==null?void 0:B.value)!=null?K:we.size;Te-=rt+V,Ae.unshift({data:H?.[We],index:We,offset:Te,size:rt})}fe.unshift(...Ae)}if(ne>0&&xe.index<X){const Re=Math.min(ne,X-xe.index);let Ae=xe.offset+xe.size+V;for(let Te=xe.index+1;Te<=xe.index+Re;Te++){const We=(q=(U=_f(J,Te,Te)[0])==null?void 0:U.value)!=null?q:xe.size;fe.push({data:H?.[Te],index:Te,offset:Ae,size:We}),Ae+=We+V}}}return db(fe,ue,O,V,Y,z)}),Ye(T=>T!==null),un()),J_);Fe(Se(e,Ye(fN),Ne(T=>T?.length)),i),Fe(Se(_,Ne(T=>T.topListHeight)),f),Fe(f,a),Fe(Se(_,Ne(T=>[T.top,T.bottom])),o),Fe(Se(_,Ne(T=>T.items)),S);const k=es(Se(_,Ye(({items:T})=>T.length>0),ht(i,e),Ye(([{items:T},M])=>T[T.length-1].originalIndex===M-1),Ne(([,T,M])=>[T-1,M]),un(jm),Ne(([T])=>T))),R=es(Se(_,Oa(200),Ye(({items:T,topItems:M})=>T.length>0&&T[0].originalIndex===M.length),Ne(({items:T})=>T[0].index),un())),N=es(Se(_,Ye(({items:T})=>T.length>0),Ne(({items:T})=>{let M=0,O=T.length-1;for(;T[M].type==="group"&&M<O;)M++;for(;T[O].type==="group"&&O>M;)O--;return{endIndex:T[O].index,startIndex:T[M].index}}),un(EG)));return{endReached:k,initialItemCount:w,itemsRendered:S,listState:_,minOverscanItemCount:C,rangeChanged:N,startReached:R,topItemsIndexes:b,...p}},dn(Qo,TG,bN,Bg,Hg,Ug,wc,mN),{singleton:!0}),NG=Mt(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:r},{listState:i}])=>{const s=_t(),o=Gr(Se(Jn(n,e,r,t,i),Ne(([a,l,c,d,f])=>a+l+c+d+f.offsetBottom+f.bottom)),0);return Fe(Ke(o),s),{totalListHeight:o,totalListHeightChanged:s}},dn(oi,Ju),{singleton:!0}),TCe=Mt(([{viewportHeight:e},{totalListHeight:t}])=>{const n=Ce(!1),r=Gr(Se(Jn(n,e,t),Ye(([i])=>i),Ne(([,i,s])=>Math.max(0,i-s)),Oa(0),un()),0);return{alignToBottom:n,paddingTopAddition:r}},dn(oi,NG),{singleton:!0}),MG=Mt(()=>({context:Ce(null)})),RCe=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:r,...i},viewportBottom:s,viewportTop:o})=>t<o?{...i,align:n??"start",behavior:r}:e>s?{...i,align:n??"end",behavior:r}:null,OG=Mt(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,headerHeight:s,scrollingInProgress:o,scrollTop:a,viewportHeight:l},{scrollToIndex:c}])=>{const d=_t();return Fe(Se(d,ht(t,l,n,s,i,r,a),ht(e),Ne(([[f,p,g,v,b,w,S,C],_])=>{const{align:k,behavior:R,calculateViewLocation:N=RCe,done:T,...M}=f,O=AG(f,p,v-1),L=Lm(O,p.offsetTree,_)+b+w,D=L+so(p.sizeTree,O)[1],F=C+w,G=C+g-S,z=N({itemBottom:D,itemTop:L,locationParams:{align:k,behavior:R,...M},viewportBottom:G,viewportTop:F});return z?T&&eo(Se(o,Ye(V=>!V),Nu(mn(o)?1:2)),T):T&&T(),z}),Ye(f=>f!==null)),c),{scrollIntoView:d}},dn(Qo,oi,Hg,Ju,xc),{singleton:!0});function y5(e){return e?e==="smooth"?"smooth":"auto":!1}const kCe=(e,t)=>typeof e=="function"?y5(e(t)):t&&y5(e),PCe=Mt(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:r},{atBottomState:i,isAtBottom:s},{scrollToIndex:o},{scrolledToInitialItem:a},{didMount:l,propsReady:c},{log:d},{scrollingInProgress:f},{context:p},{scrollIntoView:g}])=>{const v=Ce(!1),b=_t();let w=null;function S(R){ft(o,{align:"end",behavior:R,index:"LAST"})}Lt(Se(Jn(Se(Ke(t),Nu(1)),l),ht(Ke(v),s,a,f),Ne(([[R,N],T,M,O,L])=>{let D=N&&O,F="auto";return D&&(F=kCe(T,M||L),D=D&&!!F),{followOutputBehavior:F,shouldFollow:D,totalCount:R}}),Ye(({shouldFollow:R})=>R)),({followOutputBehavior:R,totalCount:N})=>{w&&(w(),w=null),mn(n)?requestAnimationFrame(()=>{mn(d)("following output to ",{totalCount:N},ki.DEBUG),S(R)}):w=eo(e,()=>{mn(d)("following output to ",{totalCount:N},ki.DEBUG),S(R),w=null})});function C(R){const N=eo(i,T=>{R&&!T.atBottom&&T.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(mn(d)("scrolling to bottom due to increased size",{},ki.DEBUG),S("auto"))});setTimeout(N,100)}Lt(Se(Jn(Ke(v),t,c),Ye(([R,,N])=>R&&N),zo(({value:R},[,N])=>({refreshed:R===N,value:N}),{refreshed:!1,value:0}),Ye(({refreshed:R})=>R),ht(v,t)),([,R])=>{mn(a)&&C(R!==!1)}),Lt(b,()=>{C(mn(v)!==!1)}),Lt(Jn(Ke(v),i),([R,N])=>{R&&!N.atBottom&&N.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&S("auto")});const _=Ce(null),k=_t();return Fe(VT(Se(Ke(r),Ne(R=>{var N;return(N=R?.length)!=null?N:0})),Se(Ke(t))),k),Lt(Se(Jn(Se(k,Nu(1)),l),ht(Ke(_),a,f,p),Ne(([[R,N],T,M,O,L])=>N&&M&&T?.({context:L,totalCount:R,scrollingInProgress:O})),Ye(R=>!!R),Oa(0)),R=>{w&&(w(),w=null),mn(n)?requestAnimationFrame(()=>{mn(d)("scrolling into view",{}),ft(g,R)}):w=eo(e,()=>{mn(d)("scrolling into view",{}),ft(g,R),w=null})}),{autoscrollToBottom:b,followOutput:v,scrollIntoViewOnChange:_}},dn(Qo,Ug,Hg,Bg,wc,xc,oi,MG,OG)),NCe=Mt(([{data:e,firstItemIndex:t,gap:n,sizes:r},{initialTopMostItemIndex:i},{initialItemCount:s,listState:o},{didMount:a}])=>(Fe(Se(a,ht(s),Ye(([,l])=>l!==0),ht(i,r,t,n,e),Ne(([[,l],c,d,f,p,g=[]])=>PG(l,c,d,f,p,g))),o),{}),dn(Qo,Bg,Ju,wc),{singleton:!0}),MCe=Mt(([{didMount:e},{scrollTo:t},{listState:n}])=>{const r=Ce(0);return Lt(Se(e,ht(r),Ye(([,i])=>i!==0),Ne(([,i])=>({top:i}))),i=>{eo(Se(n,Nu(1),Ye(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{ft(t,i)})})}),{initialScrollTop:r}},dn(wc,oi,Ju),{singleton:!0}),DG=Mt(([{scrollVelocity:e}])=>{const t=Ce(!1),n=_t(),r=Ce(!1);return Fe(Se(e,ht(r,t,n),Ye(([i,s])=>!!s),Ne(([i,s,o,a])=>{const{enter:l,exit:c}=s;if(o){if(c(i,a))return!1}else if(l(i,a))return!0;return o}),un()),t),Lt(Se(Jn(t,e,n),ht(r)),([[i,s,o],a])=>{i&&a&&a.change&&a.change(s,o)}),{isSeeking:t,scrollSeekConfiguration:r,scrollSeekRangeChanged:n,scrollVelocity:e}},dn(Ug),{singleton:!0}),xN=Mt(([{scrollContainerState:e,scrollTo:t}])=>{const n=_t(),r=_t(),i=_t(),s=Ce(!1),o=Ce(void 0);return Fe(Se(Jn(n,r),Ne(([{scrollHeight:a,scrollTop:l,viewportHeight:c},{offsetTop:d}])=>({scrollHeight:a,scrollTop:Math.max(0,l-d),viewportHeight:c}))),e),Fe(Se(t,ht(r),Ne(([a,{offsetTop:l}])=>({...a,top:a.top+l}))),i),{customScrollParent:o,useWindowScroll:s,windowScrollContainerState:n,windowScrollTo:i,windowViewportRect:r}},dn(oi)),OCe=Mt(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:r},{initialTopMostItemIndex:i},{didMount:s},{useWindowScroll:o,windowScrollContainerState:a,windowViewportRect:l}])=>{const c=_t(),d=Ce(void 0),f=Ce(null),p=Ce(null);return Fe(a,f),Fe(l,p),Lt(Se(c,ht(t,r,o,f,p,n)),([g,v,b,w,S,C,_])=>{const k=gCe(v.sizeTree);w&&S!==null&&C!==null&&(b=S.scrollTop-C.offsetTop),b-=_,g({ranges:k,scrollTop:b})}),Fe(Se(d,Ye(fN),Ne(DCe)),i),Fe(Se(s,ht(d),Ye(([,g])=>g!==void 0),un(),Ne(([,g])=>g.ranges)),e),{getState:c,restoreStateFrom:d}},dn(Qo,oi,Bg,wc,xN));function DCe(e){return{align:"start",index:0,offset:e.scrollTop}}const ICe=Mt(([{topItemsIndexes:e}])=>{const t=Ce(0);return Fe(Se(t,Ye(n=>n>=0),Ne(n=>Array.from({length:n}).map((r,i)=>i))),e),{topItemCount:t}},dn(Ju));function IG(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const jCe=IG(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),LCe=Mt(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:r},{isAtBottom:i,isScrolling:s,lastJumpDueToItemResize:o,scrollDirection:a},{listState:l},{beforeUnshiftWith:c,gap:d,shiftWithOffset:f,sizes:p},{log:g},{recalcInProgress:v}])=>{const b=es(Se(l,ht(o),zo(([,S,C,_],[{bottom:k,items:R,offsetBottom:N,totalCount:T},M])=>{const O=k+N;let L=0;return C===T&&S.length>0&&R.length>0&&(R[0].originalIndex===0&&S[0].originalIndex===0||(L=O-_,L!==0&&(L+=M))),[L,R,T,O]},[0,[],0,0]),Ye(([S])=>S!==0),ht(r,a,n,i,g,v),Ye(([,S,C,_,,,k])=>!k&&!_&&S!==0&&C===zm),Ne(([[S],,,,,C])=>(C("Upward scrolling compensation",{amount:S},ki.DEBUG),S))));function w(S){S>0?(ft(t,{behavior:"auto",top:-S}),ft(e,0)):(ft(e,0),ft(t,{behavior:"auto",top:-S}))}return Lt(Se(b,ht(e,s)),([S,C,_])=>{_&&jCe()?ft(e,C-S):w(-S)}),Lt(Se(Jn(Gr(s,!1),e,v),Ye(([S,C,_])=>!S&&!_&&C!==0),Ne(([S,C])=>C),Oa(1)),w),Fe(Se(f,Ne(S=>({top:-S}))),t),Lt(Se(c,ht(p,d),Ne(([S,{groupIndices:C,lastSize:_,sizeTree:k},R])=>{function N(T){return T*(_+R)}if(C.length===0)return N(S);{let T=0;const M=Im(k,0);let O=0,L=0;for(;O<S;){O++,T+=M;let D=C.length===L+1?1/0:C[L+1]-C[L]-1;O+D>S&&(T-=M,D=S-O+1),O+=D,T+=N(D),L++}return T}})),S=>{ft(e,S),requestAnimationFrame(()=>{ft(t,{top:S}),requestAnimationFrame(()=>{ft(e,0),ft(v,!1)})})}),{deviation:e}},dn(oi,Ug,Ju,Qo,xc,mN)),zCe=Mt(([e,t,n,r,i,s,o,a,l,c,d])=>({...e,...t,...n,...r,...i,...s,...o,...a,...l,...c,...d}),dn(bN,NCe,wc,DG,NG,MCe,TCe,xN,OG,xc,MG)),jG=Mt(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:r,fixedGroupSize:i,gap:s,groupIndices:o,heightEstimates:a,itemSize:l,sizeRanges:c,sizes:d,statefulTotalCount:f,totalCount:p,trackItemSizes:g},{initialItemFinalLocationReached:v,initialTopMostItemIndex:b,scrolledToInitialItem:w},S,C,_,k,{scrollToIndex:R},N,{topItemCount:T},{groupCounts:M},O])=>{const{listState:L,minOverscanItemCount:D,topItemsIndexes:F,rangeChanged:G,...z}=k;return Fe(G,O.scrollSeekRangeChanged),Fe(Se(O.windowViewportRect,Ne(V=>V.visibleHeight)),S.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:r,fixedGroupHeight:i,gap:s,groupCounts:M,heightEstimates:a,initialItemFinalLocationReached:v,initialTopMostItemIndex:b,scrolledToInitialItem:w,sizeRanges:c,topItemCount:T,topItemsIndexes:F,totalCount:p,..._,groupIndices:o,itemSize:l,listState:L,minOverscanItemCount:D,scrollToIndex:R,statefulTotalCount:f,trackItemSizes:g,rangeChanged:G,...z,...O,...S,sizes:d,...C}},dn(Qo,Bg,oi,OCe,PCe,Ju,Hg,LCe,ICe,TG,zCe));function FCe(e,t){const n={},r={};let i=0;const s=e.length;for(;i<s;)r[e[i]]=1,i+=1;for(const o in t)Object.hasOwn(r,o)||(n[o]=t[o]);return n}const d0=typeof document<"u"?ie.useLayoutEffect:ie.useEffect;function LG(e,t,n){const r=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),o=Object.keys(t.events||{}),a=ie.createContext({});function l(w,S){w.propsReady&&ft(w.propsReady,!1);for(const C of r){const _=w[t.required[C]];ft(_,S[C])}for(const C of i)if(C in S){const _=w[t.optional[C]];ft(_,S[C])}w.propsReady&&ft(w.propsReady,!0)}function c(w){return s.reduce((S,C)=>(S[C]=_=>{const k=w[t.methods[C]];ft(k,_)},S),{})}function d(w){return o.reduce((S,C)=>(S[C]=tCe(w[t.events[C]]),S),{})}const f=ie.forwardRef((w,S)=>{const{children:C,..._}=w,[k]=ie.useState(()=>Dw(rCe(e),T=>{l(T,_)})),[R]=ie.useState(l5(d,k));d0(()=>{for(const T of o)T in _&&Lt(R[T],_[T]);return()=>{Object.values(R).map(hN)}},[_,R,k]),d0(()=>{l(k,_)}),ie.useImperativeHandle(S,a5(c(k)));const N=n;return E.jsx(a.Provider,{value:k,children:n?E.jsx(N,{...FCe([...r,...i,...o],_),children:C}):C})}),p=w=>{const S=ie.useContext(a);return ie.useCallback(C=>{ft(S[w],C)},[S,w])},g=w=>{const S=ie.useContext(a)[w],C=ie.useCallback(_=>Lt(S,_),[S]);return ie.useSyncExternalStore(C,()=>mn(S),()=>mn(S))},v=w=>{const S=ie.useContext(a)[w],[C,_]=ie.useState(l5(mn,S));return d0(()=>Lt(S,k=>{k!==C&&_(a5(k))}),[S,C]),C},b=ie.version.startsWith("18")?g:v;return{Component:f,useEmitter:(w,S)=>{const C=ie.useContext(a)[w];d0(()=>Lt(C,S),[S,C])},useEmitterValue:b,usePublisher:p}}const zG=ie.createContext(void 0),FG=ie.createContext(void 0),$G=typeof document<"u"?ie.useLayoutEffect:ie.useEffect;function eC(e){return"self"in e}function $Ce(e){return"body"in e}function HG(e,t,n,r=yh,i,s){const o=ie.useRef(null),a=ie.useRef(null),l=ie.useRef(null),c=ie.useCallback(p=>{let g,v,b;const w=p.target;if($Ce(w)||eC(w)){const C=eC(w)?w:w.defaultView;b=s?C.scrollX:C.scrollY,g=s?C.document.documentElement.scrollWidth:C.document.documentElement.scrollHeight,v=s?C.innerWidth:C.innerHeight}else b=s?w.scrollLeft:w.scrollTop,g=s?w.scrollWidth:w.scrollHeight,v=s?w.offsetWidth:w.offsetHeight;const S=()=>{e({scrollHeight:g,scrollTop:Math.max(b,0),viewportHeight:v})};p.suppressFlushSync?S():Nk.flushSync(S),a.current!==null&&(b===a.current||b<=0||b===g-v)&&(a.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,t,s]);ie.useEffect(()=>{const p=i||o.current;return r(i||o.current),c({suppressFlushSync:!0,target:p}),p.addEventListener("scroll",c,{passive:!0}),()=>{r(null),p.removeEventListener("scroll",c)}},[o,c,n,r,i]);function d(p){const g=o.current;if(!g||(s?"offsetWidth"in g&&g.offsetWidth===0:"offsetHeight"in g&&g.offsetHeight===0))return;const v=p.behavior==="smooth";let b,w,S;eC(g)?(w=Math.max(dc(g.document.documentElement,s?"width":"height"),s?g.document.documentElement.scrollWidth:g.document.documentElement.scrollHeight),b=s?g.innerWidth:g.innerHeight,S=s?window.scrollX:window.scrollY):(w=g[s?"scrollWidth":"scrollHeight"],b=dc(g,s?"width":"height"),S=g[s?"scrollLeft":"scrollTop"]);const C=w-b;if(p.top=Math.ceil(Math.max(Math.min(C,p.top),0)),kG(b,w)||p.top===S){e({scrollHeight:w,scrollTop:S,viewportHeight:b}),v&&t(!0);return}v?(a.current=p.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,a.current=null,t(!0)},1e3)):a.current=null,s&&(p={behavior:p.behavior,left:p.top}),g.scrollTo(p)}function f(p){s&&(p={behavior:p.behavior,left:p.top}),o.current.scrollBy(p)}return{scrollByCallback:f,scrollerRef:o,scrollToCallback:d}}const tC="-webkit-sticky",b5="sticky",wN=IG(()=>{if(typeof document>"u")return b5;const e=document.createElement("div");return e.style.position=tC,e.style.position===tC?tC:b5});function SN(e){return e}const HCe=Mt(()=>{const e=Ce(a=>`Item ${a}`),t=Ce(a=>`Group ${a}`),n=Ce({}),r=Ce(SN),i=Ce("div"),s=Ce(yh),o=(a,l=null)=>Gr(Se(n,Ne(c=>c[a]),un()),l);return{components:n,computeItemKey:r,EmptyPlaceholder:o("EmptyPlaceholder"),FooterComponent:o("Footer"),GroupComponent:o("Group","div"),groupContent:t,HeaderComponent:o("Header"),HeaderFooterTag:i,ItemComponent:o("Item","div"),itemContent:e,ListComponent:o("List","div"),ScrollerComponent:o("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:o("ScrollSeekPlaceholder"),TopItemListComponent:o("TopItemList")}}),BCe=Mt(([e,t])=>({...e,...t}),dn(jG,HCe)),UCe=({height:e})=>E.jsx("div",{style:{height:e}}),VCe={overflowAnchor:"none",position:wN(),zIndex:1},BG={overflowAnchor:"none"},qCe={...BG,display:"inline-block",height:"100%"},x5=ie.memo(function({showTopList:e=!1}){const t=st("listState"),n=Es("sizeRanges"),r=st("useWindowScroll"),i=st("customScrollParent"),s=Es("windowScrollContainerState"),o=Es("scrollContainerState"),a=i||r?s:o,l=st("itemContent"),c=st("context"),d=st("groupContent"),f=st("trackItemSizes"),p=st("itemSize"),g=st("log"),v=Es("gap"),b=st("horizontalDirection"),{callbackRef:w}=oCe(n,p,f,e?yh:a,g,v,i,b,st("skipAnimationFrameInResizeObserver")),[S,C]=ie.useState(0);EN("deviation",z=>{S!==z&&C(z)});const _=st("EmptyPlaceholder"),k=st("ScrollSeekPlaceholder")||UCe,R=st("ListComponent"),N=st("ItemComponent"),T=st("GroupComponent"),M=st("computeItemKey"),O=st("isSeeking"),L=st("groupIndices").length>0,D=st("alignToBottom"),F=st("initialItemFinalLocationReached"),G=e?{}:{boxSizing:"border-box",...b?{display:"inline-block",height:"100%",marginLeft:S!==0?S:D?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:S!==0?S:D?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...F?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&_?E.jsx(_,{...qr(_,c)}):E.jsx(R,{...qr(R,c),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:w,style:G,children:(e?t.topItems:t.items).map(z=>{const V=z.originalIndex,j=M(V+t.firstItemIndex,z.data,c);return O?x.createElement(k,{...qr(k,c),height:z.size,index:z.index,key:j,type:z.type||"item",...z.type==="group"?{}:{groupIndex:z.groupIndex}}):z.type==="group"?x.createElement(T,{...qr(T,c),"data-index":V,"data-item-index":z.index,"data-known-size":z.size,key:j,style:VCe},d(z.index,c)):x.createElement(N,{...qr(N,c),...YCe(N,z.data),"data-index":V,"data-item-group-index":z.groupIndex,"data-item-index":z.index,"data-known-size":z.size,key:j,style:b?qCe:BG},L?l(z.index,z.groupIndex,z.data,c):l(z.index,z.data,c))})})}),WCe={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},GCe={outline:"none",overflowX:"auto",position:"relative"},jw=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),KCe={position:wN(),top:0,width:"100%",zIndex:1};function qr(e,t){if(typeof e!="string")return{context:t}}function YCe(e,t){return{item:typeof e=="string"?void 0:t}}const XCe=ie.memo(function(){const e=st("HeaderComponent"),t=Es("headerHeight"),n=st("HeaderFooterTag"),r=Qu(ie.useMemo(()=>s=>{t(dc(s,"height"))},[t]),!0,st("skipAnimationFrameInResizeObserver")),i=st("context");return e?E.jsx(n,{ref:r,children:E.jsx(e,{...qr(e,i)})}):null}),ZCe=ie.memo(function(){const e=st("FooterComponent"),t=Es("footerHeight"),n=st("HeaderFooterTag"),r=Qu(ie.useMemo(()=>s=>{t(dc(s,"height"))},[t]),!0,st("skipAnimationFrameInResizeObserver")),i=st("context");return e?E.jsx(n,{ref:r,children:E.jsx(e,{...qr(e,i)})}):null});function UG({useEmitter:e,useEmitterValue:t,usePublisher:n}){return ie.memo(function({children:r,style:i,context:s,...o}){const a=n("scrollContainerState"),l=t("ScrollerComponent"),c=n("smoothScrollTargetReached"),d=t("scrollerRef"),f=t("horizontalDirection")||!1,{scrollByCallback:p,scrollerRef:g,scrollToCallback:v}=HG(a,c,l,d,void 0,f);return e("scrollTo",v),e("scrollBy",p),E.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:g,style:{...f?GCe:WCe,...i},tabIndex:0,...o,...qr(l,s),children:r})})}function VG({useEmitter:e,useEmitterValue:t,usePublisher:n}){return ie.memo(function({children:r,style:i,context:s,...o}){const a=n("windowScrollContainerState"),l=t("ScrollerComponent"),c=n("smoothScrollTargetReached"),d=t("totalListHeight"),f=t("deviation"),p=t("customScrollParent"),g=ie.useRef(null),v=t("scrollerRef"),{scrollByCallback:b,scrollerRef:w,scrollToCallback:S}=HG(a,c,l,v,p);return $G(()=>{var C;return w.current=p||((C=g.current)==null?void 0:C.ownerDocument.defaultView),()=>{w.current=null}},[w,p]),e("windowScrollTo",S),e("scrollBy",b),E.jsx(l,{ref:g,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...d!==0?{height:d+f}:{}},...o,...qr(l,s),children:r})})}const QCe=({children:e})=>{const t=ie.useContext(zG),n=Es("viewportHeight"),r=Es("fixedItemHeight"),i=st("alignToBottom"),s=st("horizontalDirection"),o=ie.useMemo(()=>mG(n,l=>dc(l,s?"width":"height")),[n,s]),a=Qu(o,!0,st("skipAnimationFrameInResizeObserver"));return ie.useEffect(()=>{t&&(n(t.viewportHeight),r(t.itemHeight))},[t,n,r]),E.jsx("div",{"data-viewport-type":"element",ref:a,style:jw(i),children:e})},JCe=({children:e})=>{const t=ie.useContext(zG),n=Es("windowViewportRect"),r=Es("fixedItemHeight"),i=st("customScrollParent"),s=vG(n,i,st("skipAnimationFrameInResizeObserver")),o=st("alignToBottom");return ie.useEffect(()=>{t&&(r(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,r]),E.jsx("div",{"data-viewport-type":"window",ref:s,style:jw(o),children:e})},eAe=({children:e})=>{const t=st("TopItemListComponent")||"div",n=st("headerHeight"),r={...KCe,marginTop:`${n}px`},i=st("context");return E.jsx(t,{style:r,...qr(t,i),children:e})},tAe=ie.memo(function(e){const t=st("useWindowScroll"),n=st("topItemsIndexes").length>0,r=st("customScrollParent"),i=st("context");return E.jsxs(r||t?iAe:rAe,{...e,context:i,children:[n&&E.jsx(eAe,{children:E.jsx(x5,{showTopList:!0})}),E.jsxs(r||t?JCe:QCe,{children:[E.jsx(XCe,{}),E.jsx(x5,{}),E.jsx(ZCe,{})]})]})}),{Component:nAe,useEmitter:EN,useEmitterValue:st,usePublisher:Es}=LG(BCe,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},tAe),rAe=UG({useEmitter:EN,useEmitterValue:st,usePublisher:Es}),iAe=VG({useEmitter:EN,useEmitterValue:st,usePublisher:Es}),sAe=nAe,oAe=Mt(()=>{const e=Ce(c=>E.jsxs("td",{children:["Item $",c]})),t=Ce(null),n=Ce(c=>E.jsxs("td",{colSpan:1e3,children:["Group ",c]})),r=Ce(null),i=Ce(null),s=Ce({}),o=Ce(SN),a=Ce(yh),l=(c,d=null)=>Gr(Se(s,Ne(f=>f[c]),un()),d);return{components:s,computeItemKey:o,context:t,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:i,fixedHeaderContent:r,itemContent:e,groupContent:n,ScrollerComponent:l("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});dn(jG,oAe);wN();const w5={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},aAe={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:S5,floor:Zb,max:cm,min:nC,round:E5}=Math;function _5(e,t,n){return Array.from({length:t-e+1}).map((r,i)=>({data:n===null?null:n[i+e],index:i+e}))}function lAe(e){return{...aAe,items:e}}function f0(e,t){return e&&e.width===t.width&&e.height===t.height}function cAe(e,t){return e&&e.column===t.column&&e.row===t.row}const uAe=Mt(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:r},{footerHeight:i,headerHeight:s,scrollBy:o,scrollContainerState:a,scrollTo:l,scrollTop:c,smoothScrollTargetReached:d,viewportHeight:f},p,g,{didMount:v,propsReady:b},{customScrollParent:w,useWindowScroll:S,windowScrollContainerState:C,windowScrollTo:_,windowViewportRect:k},R])=>{const N=Ce(0),T=Ce(0),M=Ce(w5),O=Ce({height:0,width:0}),L=Ce({height:0,width:0}),D=_t(),F=_t(),G=Ce(0),z=Ce(null),V=Ce({column:0,row:0}),j=_t(),H=_t(),B=Ce(!1),K=Ce(0),U=Ce(!0),q=Ce(!1),Y=Ce(!1);Lt(Se(v,ht(K),Ye(([Z,X])=>!!X)),()=>{ft(U,!1)}),Lt(Se(Jn(v,U,L,O,K,q),Ye(([Z,X,fe,me,,ne])=>Z&&!X&&fe.height!==0&&me.height!==0&&!ne)),([,,,,Z])=>{ft(q,!0),vN(1,()=>{ft(D,Z)}),eo(Se(c),()=>{ft(t,[0,0]),ft(U,!0)})}),Fe(Se(H,Ye(Z=>Z!=null&&Z.scrollTop>0),No(0)),T),Lt(Se(v,ht(H),Ye(([,Z])=>Z!=null)),([,Z])=>{Z&&(ft(O,Z.viewport),ft(L,Z.item),ft(V,Z.gap),Z.scrollTop>0&&(ft(B,!0),eo(Se(c,Nu(1)),X=>{ft(B,!1)}),ft(l,{top:Z.scrollTop})))}),Fe(Se(O,Ne(({height:Z})=>Z)),f),Fe(Se(Jn(Ke(O,f0),Ke(L,f0),Ke(V,(Z,X)=>Z&&Z.column===X.column&&Z.row===X.row),Ke(c)),Ne(([Z,X,fe,me])=>({gap:fe,item:X,scrollTop:me,viewport:Z}))),j),Fe(Se(Jn(Ke(N),r,Ke(V,cAe),Ke(L,f0),Ke(O,f0),Ke(z),Ke(T),Ke(B),Ke(U),Ke(K)),Ye(([,,,,,,,Z])=>!Z),Ne(([Z,[X,fe],me,ne,we,xe,Re,,Ae,Te])=>{const{column:We,row:rt}=me,{height:mt,width:ir}=ne,{width:Bt}=we;if(Re===0&&(Z===0||Bt===0))return w5;if(ir===0){const sn=yN(Te,Z),fn=sn+Math.max(Re-1,0);return lAe(_5(sn,fn,xe))}const Sn=qG(Bt,ir,We);let Ee,Me;Ae?X===0&&fe===0&&Re>0?(Ee=0,Me=Re-1):(Ee=Sn*Zb((X+rt)/(mt+rt)),Me=Sn*S5((fe+rt)/(mt+rt))-1,Me=nC(Z-1,cm(Me,Sn-1)),Ee=nC(Me,cm(0,Ee))):(Ee=0,Me=-1);const le=_5(Ee,Me,xe),{bottom:be,top:Pe}=C5(we,me,ne,le),Ve=S5(Z/Sn),Ge=Ve*mt+(Ve-1)*rt-be;return{bottom:be,itemHeight:mt,items:le,itemWidth:ir,offsetBottom:Ge,offsetTop:Pe,top:Pe}})),M),Fe(Se(z,Ye(Z=>Z!==null),Ne(Z=>Z.length)),N),Fe(Se(Jn(O,L,M,V),Ye(([Z,X,{items:fe}])=>fe.length>0&&X.height!==0&&Z.height!==0),Ne(([Z,X,{items:fe},me])=>{const{bottom:ne,top:we}=C5(Z,me,X,fe);return[we,ne]}),un(jm)),t);const $=Ce(!1);Fe(Se(c,ht($),Ne(([Z,X])=>X||Z!==0)),$);const J=es(Se(Jn(M,N),Ye(([{items:Z}])=>Z.length>0),ht($),Ye(([[Z,X],fe])=>{const me=Z.items[Z.items.length-1].index===X-1;return(fe||Z.bottom>0&&Z.itemHeight>0&&Z.offsetBottom===0&&Z.items.length===X)&&me}),Ne(([[,Z]])=>Z-1),un())),se=es(Se(Ke(M),Ye(({items:Z})=>Z.length>0&&Z[0].index===0),No(0),un())),ue=es(Se(Ke(M),ht(B),Ye(([{items:Z},X])=>Z.length>0&&!X),Ne(([{items:Z}])=>({endIndex:Z[Z.length-1].index,startIndex:Z[0].index})),un(EG),Oa(0)));Fe(ue,g.scrollSeekRangeChanged),Fe(Se(D,ht(O,L,N,V),Ne(([Z,X,fe,me,ne])=>{const we=RG(Z),{align:xe,behavior:Re,offset:Ae}=we;let Te=we.index;Te==="LAST"&&(Te=me-1),Te=cm(0,Te,nC(me-1,Te));let We=YT(X,ne,fe,Te);return xe==="end"?We=E5(We-X.height+fe.height):xe==="center"&&(We=E5(We-X.height/2+fe.height/2)),Ae&&(We+=Ae),{behavior:Re,top:We}})),l);const ee=Gr(Se(M,Ne(Z=>Z.offsetBottom+Z.bottom)),0);return Fe(Se(k,Ne(Z=>({height:Z.visibleHeight,width:Z.visibleWidth}))),O),{customScrollParent:w,data:z,deviation:G,footerHeight:i,gap:V,headerHeight:s,increaseViewportBy:e,initialItemCount:T,itemDimensions:L,overscan:n,restoreStateFrom:H,scrollBy:o,scrollContainerState:a,scrollHeight:F,scrollTo:l,scrollToIndex:D,scrollTop:c,smoothScrollTargetReached:d,totalCount:N,useWindowScroll:S,viewportDimensions:O,windowScrollContainerState:C,windowScrollTo:_,windowViewportRect:k,...g,gridState:M,horizontalDirection:Y,initialTopMostItemIndex:K,totalListHeight:ee,...p,endReached:J,propsReady:b,rangeChanged:ue,startReached:se,stateChanged:j,stateRestoreInProgress:B,...R}},dn(bN,oi,Ug,DG,wc,xN,xc));function qG(e,t,n){return cm(1,Zb((e+n)/(Zb(t)+n)))}function C5(e,t,n,r){const{height:i}=n;if(i===void 0||r.length===0)return{bottom:0,top:0};const s=YT(e,t,n,r[0].index);return{bottom:YT(e,t,n,r[r.length-1].index)+i,top:s}}function YT(e,t,n,r){const i=qG(e.width,n.width,t.column),s=Zb(r/i),o=s*n.height+cm(0,s-1)*t.row;return o>0?o+t.row:o}const dAe=Mt(()=>{const e=Ce(f=>`Item ${f}`),t=Ce({}),n=Ce(null),r=Ce("virtuoso-grid-item"),i=Ce("virtuoso-grid-list"),s=Ce(SN),o=Ce("div"),a=Ce(yh),l=(f,p=null)=>Gr(Se(t,Ne(g=>g[f]),un()),p),c=Ce(!1),d=Ce(!1);return Fe(Ke(d),c),{components:t,computeItemKey:s,context:n,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:o,itemClassName:r,ItemComponent:l("Item","div"),itemContent:e,listClassName:i,ListComponent:l("List","div"),readyStateChanged:c,reportReadyState:d,ScrollerComponent:l("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),fAe=Mt(([e,t])=>({...e,...t}),dn(uAe,dAe)),hAe=ie.memo(function(){const e=pn("gridState"),t=pn("listClassName"),n=pn("itemClassName"),r=pn("itemContent"),i=pn("computeItemKey"),s=pn("isSeeking"),o=_s("scrollHeight"),a=pn("ItemComponent"),l=pn("ListComponent"),c=pn("ScrollSeekPlaceholder"),d=pn("context"),f=_s("itemDimensions"),p=_s("gap"),g=pn("log"),v=pn("stateRestoreInProgress"),b=_s("reportReadyState"),w=Qu(ie.useMemo(()=>S=>{const C=S.parentElement.parentElement.scrollHeight;o(C);const _=S.firstChild;if(_){const{height:k,width:R}=_.getBoundingClientRect();f({height:k,width:R})}p({column:A5("column-gap",getComputedStyle(S).columnGap,g),row:A5("row-gap",getComputedStyle(S).rowGap,g)})},[o,f,p,g]),!0,!1);return $G(()=>{e.itemHeight>0&&e.itemWidth>0&&b(!0)},[e]),v?null:E.jsx(l,{className:t,ref:w,...qr(l,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(S=>{const C=i(S.index,S.data,d);return s?E.jsx(c,{...qr(c,d),height:e.itemHeight,index:S.index,width:e.itemWidth},C):x.createElement(a,{...qr(a,d),className:n,"data-index":S.index,key:C},r(S.index,S.data,d))})})}),pAe=ie.memo(function(){const e=pn("HeaderComponent"),t=_s("headerHeight"),n=pn("headerFooterTag"),r=Qu(ie.useMemo(()=>s=>{t(dc(s,"height"))},[t]),!0,!1),i=pn("context");return e?E.jsx(n,{ref:r,children:E.jsx(e,{...qr(e,i)})}):null}),mAe=ie.memo(function(){const e=pn("FooterComponent"),t=_s("footerHeight"),n=pn("headerFooterTag"),r=Qu(ie.useMemo(()=>s=>{t(dc(s,"height"))},[t]),!0,!1),i=pn("context");return e?E.jsx(n,{ref:r,children:E.jsx(e,{...qr(e,i)})}):null}),gAe=({children:e})=>{const t=ie.useContext(FG),n=_s("itemDimensions"),r=_s("viewportDimensions"),i=Qu(ie.useMemo(()=>s=>{r(s.getBoundingClientRect())},[r]),!0,!1);return ie.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),E.jsx("div",{ref:i,style:jw(!1),children:e})},vAe=({children:e})=>{const t=ie.useContext(FG),n=_s("windowViewportRect"),r=_s("itemDimensions"),i=pn("customScrollParent"),s=vG(n,i,!1);return ie.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),E.jsx("div",{ref:s,style:jw(!1),children:e})},yAe=ie.memo(function({...e}){const t=pn("useWindowScroll"),n=pn("customScrollParent"),r=n||t?xAe:bAe,i=n||t?vAe:gAe,s=pn("context");return E.jsx(r,{...e,...qr(r,s),children:E.jsxs(i,{children:[E.jsx(pAe,{}),E.jsx(hAe,{}),E.jsx(mAe,{})]})})}),{useEmitter:WG,useEmitterValue:pn,usePublisher:_s}=LG(fAe,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},yAe),bAe=UG({useEmitter:WG,useEmitterValue:pn,usePublisher:_s}),xAe=VG({useEmitter:WG,useEmitterValue:pn,usePublisher:_s});function A5(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,ki.WARN),t==="normal"?0:parseInt(t??"0",10)}const wAe=({note:e})=>{const t=dN(r=>r.setSelectedNote),n=e.tags?.includes("RESUME");return E.jsxs("div",{className:"flex items-start justify-between p-4 border-b border-white/5 hover:bg-white/[0.03] transition-all cursor-pointer group",onClick:()=>t(e),children:[E.jsxs("div",{className:"space-y-2 overflow-hidden flex-1",children:[E.jsxs("p",{className:"text-sm text-zinc-200 leading-relaxed line-clamp-2 italic font-serif",children:[n?E.jsxs("span",{className:"flex items-center gap-2 text-cyan-400 not-italic font-sans font-bold text-[10px] uppercase tracking-widest mb-1",children:[E.jsx(Ba,{className:"w-3 h-3"})," Resumo IA"]}):null,'"',e.preview,'"']}),E.jsxs("div",{className:"flex items-center text-[10px] text-zinc-500 gap-2",children:[E.jsx(Gu,{className:"w-3 h-3"}),E.jsx("span",{className:"truncate font-medium uppercase tracking-tight",children:e.title}),E.jsx("span",{children:""}),E.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),E.jsx("div",{className:"ml-4 pt-1",children:E.jsx(WU,{className:"w-4 h-4 text-zinc-700 group-hover:text-blue-500 transition-colors"})})]})};function SAe({notes:e}){return E.jsx("div",{className:"h-full w-full",children:E.jsx(sAe,{style:{height:"100%"},data:e,itemContent:(t,n)=>E.jsx(wAe,{note:n}),components:{Footer:()=>E.jsx("p",{className:"text-center text-zinc-700 py-10 text-[10px] uppercase tracking-widest font-bold",children:"Fim da Galxia"})}})})}function EAe({clusters:e,allNotes:t}){const[n,r]=x.useState(null),i=n?t.filter(o=>o.tags?.includes(n.label)):t,{t:s}=lo();return E.jsxs(W_e,{children:[E.jsx(G_e,{asChild:!0,children:E.jsxs(ct,{variant:"secondary",className:"absolute bottom-6 right-6 z-50 bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 text-white px-6 py-6 rounded-2xl shadow-2xl",children:[E.jsx(YU,{className:"w-5 h-5 mr-3 text-blue-400"}),s("library.explore_btn")," (",t.length,")"]})}),E.jsxs(uG,{className:"w-[450px] sm:w-[540px] bg-[#050505] border-l border-white/10 text-white p-0 flex flex-col",children:[E.jsxs("div",{className:"p-6 pb-4",children:[E.jsxs(dG,{children:[E.jsxs(fG,{className:"text-white text-2xl font-bold flex items-center",children:[E.jsx(BU,{className:"w-6 h-6 mr-3 text-blue-500"}),n?n.label:"Todas as Notas"]}),E.jsx(hG,{className:"text-gray-400",children:n?`${i.length} conexes encontradas neste tema.`:"Navegue por todo o seu conhecimento capturado."})]}),E.jsxs("div",{className:"mt-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-zinc-500",children:"Filtrar por Galxia"}),n&&E.jsx("button",{onClick:()=>r(null),className:"text-[10px] text-blue-400 hover:underline",children:"Limpar"})]}),E.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto pr-2 custom-scrollbar",children:e.map(o=>E.jsx("button",{onClick:()=>r(o.id===n?.id?null:o),style:{borderColor:n?.id===o.id?o.color:"rgba(255,255,255,0.1)",backgroundColor:n?.id===o.id?`${o.color}15`:"transparent",color:n?.id===o.id?"white":"#a1a1aa"},className:"px-3 py-1.5 rounded-lg border text-xs transition-all hover:border-white/30",children:o.label},o.id))})]})]}),E.jsx("div",{className:"flex-1 overflow-hidden border-t border-white/5",children:E.jsx(SAe,{notes:i})})]})]})}function _Ae(e){const t=CAe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(TAe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function CAe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=kAe(i),a=RAe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AAe=Symbol("radix.slottable");function TAe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AAe}function RAe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function kAe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var PAe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vg=PAe.reduce((e,t)=>{const n=_Ae(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function XT(e,[t,n]){return Math.min(n,Math.max(t,e))}function NAe(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var _N="ScrollArea",[GG]=Ds(_N),[MAe,Is]=GG(_N),KG=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[a,l]=x.useState(null),[c,d]=x.useState(null),[f,p]=x.useState(null),[g,v]=x.useState(null),[b,w]=x.useState(null),[S,C]=x.useState(0),[_,k]=x.useState(0),[R,N]=x.useState(!1),[T,M]=x.useState(!1),O=pt(t,D=>l(D)),L=yg(i);return E.jsx(MAe,{scope:n,type:r,dir:L,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:p,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:R,onScrollbarXEnabledChange:N,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:T,onScrollbarYEnabledChange:M,onCornerWidthChange:C,onCornerHeightChange:k,children:E.jsx(Vg.div,{dir:L,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});KG.displayName=_N;var YG="ScrollAreaViewport",XG=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,o=Is(YG,n),a=x.useRef(null),l=pt(t,a,o.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),E.jsx(Vg.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:E.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});XG.displayName=YG;var Jo="ScrollAreaScrollbar",CN=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Is(Jo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=e.orientation==="horizontal";return x.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?E.jsx(OAe,{...r,ref:t,forceMount:n}):i.type==="scroll"?E.jsx(DAe,{...r,ref:t,forceMount:n}):i.type==="auto"?E.jsx(ZG,{...r,ref:t,forceMount:n}):i.type==="always"?E.jsx(AN,{...r,ref:t}):null});CN.displayName=Jo;var OAe=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Is(Jo,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),E.jsx(Xr,{present:n||s,children:E.jsx(ZG,{"data-state":s?"visible":"hidden",...r,ref:t})})}),DAe=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Is(Jo,e.__scopeScrollArea),s=e.orientation==="horizontal",o=zw(()=>l("SCROLL_END"),100),[a,l]=NAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),x.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let f=c[d];const p=()=>{const g=c[d];f!==g&&(l("SCROLL"),o()),f=g};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[i.viewport,s,l,o]),E.jsx(Xr,{present:n||a!=="hidden",children:E.jsx(AN,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),ZG=x.forwardRef((e,t)=>{const n=Is(Jo,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=x.useState(!1),a=e.orientation==="horizontal",l=zw(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return Ff(n.viewport,l),Ff(n.content,l),E.jsx(Xr,{present:r||s,children:E.jsx(AN,{"data-state":s?"visible":"hidden",...i,ref:t})})}),AN=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Is(Jo,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[a,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=n7(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,g){return $Ae(p,o.current,a,g)}return n==="horizontal"?E.jsx(IAe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollLeft,g=T5(p,a,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=f(p,i.dir))}}):n==="vertical"?E.jsx(jAe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const p=i.viewport.scrollTop,g=T5(p,a);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=f(p))}}):null}),IAe=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Is(Jo,e.__scopeScrollArea),[o,a]=x.useState(),l=x.useRef(null),c=pt(t,l,s.onScrollbarXChange);return x.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.jsx(JG,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lw(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),i7(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Jb(o.paddingLeft),paddingEnd:Jb(o.paddingRight)}})}})}),jAe=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Is(Jo,e.__scopeScrollArea),[o,a]=x.useState(),l=x.useRef(null),c=pt(t,l,s.onScrollbarYChange);return x.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),E.jsx(JG,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lw(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const p=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),i7(p,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Jb(o.paddingTop),paddingEnd:Jb(o.paddingBottom)}})}})}),[LAe,QG]=GG(Jo),JG=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...p}=e,g=Is(Jo,n),[v,b]=x.useState(null),w=pt(t,O=>b(O)),S=x.useRef(null),C=x.useRef(""),_=g.viewport,k=r.content-r.viewport,R=xr(d),N=xr(l),T=zw(f,10);function M(O){if(S.current){const L=O.clientX-S.current.left,D=O.clientY-S.current.top;c({x:L,y:D})}}return x.useEffect(()=>{const O=L=>{const D=L.target;v?.contains(D)&&R(L,k)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[_,v,k,R]),x.useEffect(N,[r,N]),Ff(v,T),Ff(g.content,T),E.jsx(LAe,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:xr(s),onThumbPointerUp:xr(o),onThumbPositionChange:N,onThumbPointerDown:xr(a),children:E.jsx(Vg.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:ke(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),S.current=v.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),M(O))}),onPointerMove:ke(e.onPointerMove,M),onPointerUp:ke(e.onPointerUp,O=>{const L=O.target;L.hasPointerCapture(O.pointerId)&&L.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=C.current,g.viewport&&(g.viewport.style.scrollBehavior=""),S.current=null})})})}),Qb="ScrollAreaThumb",e7=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=QG(Qb,e.__scopeScrollArea);return E.jsx(Xr,{present:n||i.hasThumb,children:E.jsx(zAe,{ref:t,...r})})}),zAe=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Is(Qb,n),o=QG(Qb,n),{onThumbPositionChange:a}=o,l=pt(t,f=>o.onThumbChange(f)),c=x.useRef(void 0),d=zw(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(d(),!c.current){const g=HAe(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,d,a]),E.jsx(Vg.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ke(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),v=f.clientX-g.left,b=f.clientY-g.top;o.onThumbPointerDown({x:v,y:b})}),onPointerUp:ke(e.onPointerUp,o.onThumbPointerUp)})});e7.displayName=Qb;var TN="ScrollAreaCorner",t7=x.forwardRef((e,t)=>{const n=Is(TN,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?E.jsx(FAe,{...e,ref:t}):null});t7.displayName=TN;var FAe=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Is(TN,n),[s,o]=x.useState(0),[a,l]=x.useState(0),c=!!(s&&a);return Ff(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),Ff(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),o(d)}),c?E.jsx(Vg.div,{...r,ref:t,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Jb(e){return e?parseInt(e,10):0}function n7(e,t){const n=e/t;return isNaN(n)?0:n}function Lw(e){const t=n7(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function $Ae(e,t,n,r="ltr"){const i=Lw(n),s=i/2,o=t||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return r7([l,c],f)(e)}function T5(e,t,n="ltr"){const r=Lw(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=XT(e,l);return r7([0,o],[0,a])(c)}function r7(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function i7(e,t){return e>0&&e<t}var HAe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&t(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function zw(e,t){const n=xr(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ff(e,t){const n=xr(t);tr(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var s7=KG,BAe=XG,UAe=t7;const Fw=x.forwardRef(({className:e,children:t,...n},r)=>E.jsxs(s7,{ref:r,className:ot("relative overflow-hidden",e),...n,children:[E.jsx(BAe,{className:"h-full w-full rounded-[inherit]",children:t}),E.jsx(o7,{}),E.jsx(UAe,{})]}));Fw.displayName=s7.displayName;const o7=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>E.jsx(CN,{ref:r,orientation:t,className:ot("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:E.jsx(e7,{className:"relative flex-1 rounded-full bg-border"})}));o7.displayName=CN.displayName;function R5(e,t,n){var r,i,s;n===void 0&&(n={});var o=(r=n.isImmediate)!=null&&r,a=(i=n.callback)!=null&&i,l=n.maxWait,c=Date.now(),d=[];function f(){if(l!==void 0){var g=Date.now()-c;if(g+t>=l)return l-g}return t}var p=function(){var g=[].slice.call(arguments),v=this;return new Promise(function(b,w){var S=o&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,c=Date.now(),!o){var _=e.apply(v,g);a&&a(_),d.forEach(function(k){return(0,k.resolve)(_)}),d=[]}},f()),S){var C=e.apply(v,g);return a&&a(C),b(C)}d.push({resolve:b,reject:w})})};return p.cancel=function(g){s!==void 0&&clearTimeout(s),d.forEach(function(v){return(0,v.reject)(g)}),d=[]},p}const ZT=(e,{width:t,height:n})=>({x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,width:t,height:n,pageNumber:e.pageNumber}),VAe=(e,t)=>{const[n,r,i,s]=t.convertToViewportRectangle([e.x1,e.y1,e.x2,e.y2]);return{left:Math.min(n,i),top:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(r-s),pageNumber:e.pageNumber}},rC=(e,t,n=!1)=>{const{width:r,height:i}=t;if(n)return VAe(e,t);if(e.x1===void 0)throw new Error("You are using old position format, please update");const s=r*e.x1/e.width,o=i*e.y1/e.height,a=r*e.x2/e.width,l=i*e.y2/e.height;return{left:s,top:o,width:a-s,height:l-o,pageNumber:e.pageNumber}},a7=e=>e.ownerDocument||document,RN=e=>a7(e).defaultView||window,tc=e=>e!=null&&(e instanceof HTMLElement||e instanceof RN(e).HTMLElement),qAe=e=>e instanceof HTMLCanvasElement||e instanceof RN(e).HTMLCanvasElement,um=e=>{const t=e.closest(".page");if(!tc(t))return null;const n=Number(t.dataset.pageNumber);return{node:t,number:n}},WAe=e=>{const t=e.startContainer.parentElement,n=e.endContainer.parentElement;if(!tc(t)||!tc(n))return[];const r=um(t),i=um(n);if(!r?.number||!i?.number)return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const s=[];let o=r.number;const a=r.node.ownerDocument;for(;o<=i.number;){const l=um(a.querySelector(`[data-page-number='${o}'`));l&&s.push(l),o++}return s},GAe=(e,t,n)=>{const r=a7(e);let i=e.querySelector(n);return i||(i=r.createElement("div"),i.className=t,e.appendChild(i)),i},KAe=(e,t)=>{const{left:n,top:r,width:i,height:s}=t,o=e?e.ownerDocument:null,a=o?.createElement("canvas");if(!a||!qAe(a))return"";a.width=i,a.height=s;const l=a.getContext("2d");if(!l||!e)return"";const c=window.devicePixelRatio;return l.drawImage(e,n*c,r*c,i*c,s*c,0,0,i,s),a.toDataURL("image/png")},YAe=e=>{const t=Array.from(e).map(d=>{const{left:f,top:p,width:g,height:v,pageNumber:b}=d,w=f,S=f+g,C=p,_=p+v;return{X0:w,X1:S,Y0:C,Y1:_,pageNumber:b}});let n=Number.MAX_SAFE_INTEGER;for(const d of t)n=Math.min(n,d.pageNumber??n);const r=t.filter(d=>(d.X0>0||d.X1>0||d.Y0>0||d.Y1>0)&&d.pageNumber===n),i=r.reduce((d,f)=>({X0:Math.min(d.X0,f.X0),X1:Math.max(d.X1,f.X1),Y0:Math.min(d.Y0,f.Y0),Y1:Math.max(d.Y1,f.Y1),pageNumber:n}),r[0]),{X0:s,X1:o,Y0:a,Y1:l,pageNumber:c}=i;return{left:s,top:a,width:o-s,height:l-a,pageNumber:c}},XAe=e=>e.sort((t,n)=>{const r=(t.pageNumber||0)*t.top-(n.pageNumber||0)*n.top;return r===0?t.left-n.left:r}),ZAe=(e,t)=>e.pageNumber===t.pageNumber&&e.left<=t.left&&t.left<=e.left+e.width,QAe=(e,t,n=5)=>e.pageNumber===t.pageNumber&&Math.abs(e.top-t.top)<n&&Math.abs(e.height-t.height)<n,JAe=(e,t)=>e.pageNumber===t.pageNumber&&e.top>t.top&&e.left>t.left&&e.top+e.height<t.top+t.height&&e.left+e.width<t.left+t.width,eTe=(e,t,n=10)=>{const r=e.left+e.width,i=t.left+t.width;return e.pageNumber===t.pageNumber&&e.left<=t.left&&r<=i&&t.left-r<=n},k5=(e,t)=>{e.width=Math.max(t.width-e.left+t.left,e.width)},tTe=e=>{const t=XAe(e),n=new Set,r=t.filter(s=>t.every(o=>!JAe(s,o)));let i=0;for(;i<=2;){for(const s of r)for(const o of r)s===o||n.has(s)||n.has(o)||QAe(s,o)&&(ZAe(s,o)&&(k5(s,o),s.height=Math.max(s.height,o.height),n.add(o)),eTe(s,o)&&(k5(s,o),n.add(o)));i+=1}return r.filter(s=>!n.has(s))},nTe=(e,t)=>!(e.top<t.top||e.bottom>t.bottom||e.right>t.right||e.left<t.left),rTe=(e,t,n=!0)=>{const r=Array.from(e.getClientRects()),i=[];for(const s of r)for(const o of t){const a=o.node.getBoundingClientRect();if(nTe(s,a)&&s.width>0&&s.height>0&&s.width<a.width&&s.height<a.height){const l={top:s.top+o.node.scrollTop-a.top,left:s.left+o.node.scrollLeft-a.left,width:s.width,height:s.height,pageNumber:o.number};i.push(l)}}return n?tTe(i):i},iTe="_container_12oj9_1",sTe="_highlightLayer_12oj9_8",oTe="_disableSelection_12oj9_19",iC={container:iTe,highlightLayer:sTe,disableSelection:oTe};function aTe({highlightsByPage:e,scaledPositionToViewport:t,pageNumber:n,scrolledToHighlightId:r,highlightTransform:i,tip:s,hideTipAndSelection:o,viewer:a,screenshot:l,showTip:c,setTip:d}){const f=e[String(n)]||[];return E.jsx("div",{children:f.map((p,g)=>{const v={...p,position:t(p.position)};s&&s.highlight.id===String(p.id)&&c(s.highlight,s.callback(v));const b=r===p.id;return i(v,g,(w,S)=>{d({highlight:w,callback:S}),c(w,S(w))},o,w=>{const S=a.getPageView((w.pageNumber||Number.parseInt(n))-1).viewport;return ZT(w,S)},w=>l(w,Number.parseInt(n)),b)})})}const lTe="_mouseSelection_1p43j_1",cTe={mouseSelection:lTe},P5=(e,t)=>({left:Math.min(t.x,e.x),top:Math.min(t.y,e.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}),uTe=e=>e.width>=1&&e.height>=1;function dTe({onSelection:e,onDragStart:t,onDragEnd:n,shouldStart:r,onChange:i}){const[s,o]=x.useState(!1),[a,l]=x.useState(null),[c,d]=x.useState(null),f=x.useRef(null),p=x.useRef(a),g=x.useRef(s);x.useEffect(()=>{p.current=a},[a]),x.useEffect(()=>{g.current=s},[s]);const v=x.useCallback(()=>{n(),l(null),d(null),o(!1)},[n]);return x.useEffect(()=>{i(!!(a&&c))},[a,c,i]),x.useEffect(()=>{const b=f.current;if(!b)return;const w=b.parentElement;if(!w||!tc(w))return;const S=(k,R)=>{const N=w.getBoundingClientRect();return{x:k-N.left+w.scrollLeft,y:R-N.top+w.scrollTop-window.scrollY}},C=k=>{!p.current||g.current||d(S(k.pageX,k.pageY))},_=k=>{if(!r(k)){v();return}const R=k.target;if(!(R instanceof Element)||!tc(R))return;t(),l(S(k.pageX,k.pageY)),d(null),o(!1);const N=M=>{var O;(O=M.currentTarget)==null||O.removeEventListener("mouseup",N);const L=p.current;if(!L||!(M instanceof MouseEvent))return;const D=S(M.pageX,M.pageY),F=P5(L,D);if(!(M.target instanceof Element)||!tc(M.target)||!w.contains(M.target)||!uTe(F)){v();return}d(D),o(!0),e(R,F,v),n()},T=w.ownerDocument;T?.body&&T.body.addEventListener("mouseup",N)};return w.addEventListener("mousemove",C),w.addEventListener("mousedown",_),()=>{w.removeEventListener("mousemove",C),w.removeEventListener("mousedown",_)}},[r,t,n,e,v]),E.jsx("div",{ref:f,children:a&&c&&E.jsx("div",{className:cTe.mouseSelection,style:P5(a,c)})})}const fTe="_tipContainer_f56kr_1",hTe={tipContainer:fTe};function pTe(e,t,n){return Math.min(Math.max(e,t),n)}function mTe({children:e,style:t,scrollTop:n,pageBoundingRect:r}){const[i,s]=x.useState(0),[o,a]=x.useState(0),l=x.useRef(null),c=x.useCallback(()=>{if(!l.current)return;const{offsetHeight:w,offsetWidth:S}=l.current;s(w),a(S)},[]);x.useEffect(()=>{setTimeout(c,0)},[c]);const d=o===0&&i===0,f=t.top-i-5<n,p=f?t.bottom+5:t.top-i-5,g=pTe(t.left-o/2,0,r.width-o),v=x.useCallback(()=>{a(0),s(0),setTimeout(c,0)},[c]),b=ie.Children.map(e,w=>w!=null?ie.cloneElement(w,{onUpdate:v,popup:{position:f?"below":"above"}}):null);return E.jsx("div",{id:"PdfHighlighter__tip-container",className:hTe.tipContainer,style:{visibility:d?"hidden":"visible",top:p,left:g},ref:l,children:b})}var gTe=Object.defineProperty,vTe=(e,t,n)=>t in e?gTe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nn=(e,t,n)=>vTe(e,typeof t!="symbol"?t+"":t,n);const N5="empty-id";class l7 extends x.PureComponent{constructor(t){super(t),Nn(this,"state",{ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:N5,isAreaSelectionInProgress:!1,tip:null,tipPosition:null,tipChildren:null}),Nn(this,"viewer"),Nn(this,"resizeObserver",null),Nn(this,"containerNode",null),Nn(this,"containerNodeRef"),Nn(this,"highlightRoots",{}),Nn(this,"unsubscribe",()=>{}),Nn(this,"attachRef",n=>{var r;const{resizeObserver:i}=this;if(this.containerNode=this.containerNodeRef.current,this.unsubscribe(),this.containerNode){const{ownerDocument:s}=this.containerNode;n.on("textlayerrendered",this.onTextLayerRendered),n.on("pagesinit",this.onDocumentReady),s.addEventListener("selectionchange",this.onSelectionChange),s.addEventListener("keydown",this.handleKeyDown),(r=s.defaultView)==null||r.addEventListener("resize",this.debouncedScaleValue),i&&i.observe(this.containerNode),this.unsubscribe=()=>{var o;n.off("pagesinit",this.onDocumentReady),n.off("textlayerrendered",this.onTextLayerRendered),s.removeEventListener("selectionchange",this.onSelectionChange),s.removeEventListener("keydown",this.handleKeyDown),(o=s.defaultView)==null||o.removeEventListener("resize",this.debouncedScaleValue),i&&i.disconnect()}}}),Nn(this,"hideTipAndSelection",()=>{this.setState({tipPosition:null,tipChildren:null}),this.setState({ghostHighlight:null,tip:null},()=>this.renderHighlightLayers())}),Nn(this,"renderTip",()=>{const{tipPosition:n,tipChildren:r}=this.state;if(!n)return null;const{boundingRect:i,pageNumber:s}=n,o={node:this.viewer.getPageView((i.pageNumber||s)-1).div,pageNumber:i.pageNumber||s},a=o.node.getBoundingClientRect(),l={bottom:a.bottom,height:a.height,left:a.left,right:a.right,top:a.top,width:a.width,x:a.x,y:a.y,pageNumber:o.pageNumber};return E.jsx(mTe,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:l,style:{left:o.node.offsetLeft+i.left+i.width/2,top:i.top+o.node.offsetTop,bottom:i.top+o.node.offsetTop+i.height},children:r})}),Nn(this,"onTextLayerRendered",()=>{this.renderHighlightLayers()}),Nn(this,"scrollTo",n=>{const{pageNumber:r,boundingRect:i,usePdfCoordinates:s}=n.position;this.viewer.container.removeEventListener("scroll",this.onScroll);const o=this.viewer.getPageView(r-1).viewport;this.viewer.scrollPageIntoView({pageNumber:r,destArray:[null,{name:"XYZ"},...o.convertToPdfPoint(0,rC(i,o,s).top-10),0]}),this.setState({scrolledToHighlightId:n.id},()=>this.renderHighlightLayers()),setTimeout(()=>{this.viewer.container.addEventListener("scroll",this.onScroll)},100)}),Nn(this,"onDocumentReady",()=>{const{scrollRef:n}=this.props;this.handleScaleValue(),n(this.scrollTo)}),Nn(this,"onSelectionChange",()=>{const n=this.containerNode;if(!n)return;const r=RN(n).getSelection();if(!r)return;const i=r.rangeCount>0?r.getRangeAt(0):null;if(r.isCollapsed){this.setState({isCollapsed:!0});return}!i||!n||!n.contains(i.commonAncestorContainer)||(this.setState({isCollapsed:!1,range:i}),this.debouncedAfterSelection())}),Nn(this,"onScroll",()=>{const{onScrollChange:n}=this.props;n(),this.setState({scrolledToHighlightId:N5},()=>this.renderHighlightLayers()),this.viewer.container.removeEventListener("scroll",this.onScroll)}),Nn(this,"onMouseDown",n=>{!(n.target instanceof Element)||!tc(n.target)||n.target.closest("#PdfHighlighter__tip-container")||this.hideTipAndSelection()}),Nn(this,"handleKeyDown",n=>{n.code==="Escape"&&this.hideTipAndSelection()}),Nn(this,"afterSelection",()=>{const{onSelectionFinished:n}=this.props,{isCollapsed:r,range:i}=this.state;if(!i||r)return;const s=WAe(i);if(!s||s.length===0)return;const o=rTe(i,s);if(o.length===0)return;const l={boundingRect:YAe(o),rects:o,pageNumber:s[0].number},c={text:i.toString()},d=this.viewportPositionToScaled(l);this.setTip(l,n(d,c,()=>this.hideTipAndSelection(),()=>this.setState({ghostHighlight:{position:d}},()=>this.renderHighlightLayers())))}),Nn(this,"debouncedAfterSelection",R5(this.afterSelection,500)),Nn(this,"handleScaleValue",()=>{this.viewer&&(this.viewer.currentScaleValue=this.props.pdfScaleValue)}),Nn(this,"debouncedScaleValue",R5(this.handleScaleValue,500)),typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(this.debouncedScaleValue)),this.containerNodeRef=ie.createRef()}componentDidMount(){this.init()}componentDidUpdate(t){if(t.pdfDocument!==this.props.pdfDocument){this.init();return}t.highlights!==this.props.highlights&&this.renderHighlightLayers()}async init(){const{pdfDocument:t}=this.props,n=await of(()=>import("./pdf_viewer-IQcJaTYP.js"),[]),r=new n.EventBus,i=new n.PDFLinkService({eventBus:r,externalLinkTarget:2});if(!this.containerNodeRef.current)throw new Error("!");this.viewer=this.viewer||new n.PDFViewer({container:this.containerNodeRef.current,eventBus:r,textLayerMode:2,removePageBorders:!0,linkService:i}),i.setDocument(t),i.setViewer(this.viewer),this.viewer.setDocument(t),this.attachRef(r)}componentWillUnmount(){this.unsubscribe()}findOrCreateHighlightLayer(t){const{textLayer:n}=this.viewer.getPageView(t-1)||{};return n?GAe(n.div,`PdfHighlighter__highlight-layer ${iC.highlightLayer}`,".PdfHighlighter__highlight-layer"):null}groupHighlightsByPage(t){const{ghostHighlight:n}=this.state,r=[...t,n].filter(Boolean),i=new Set;for(const o of r){i.add(o.position.pageNumber);for(const a of o.position.rects)a.pageNumber&&i.add(a.pageNumber)}const s={};for(const o of i){s[o]=s[o]||[];for(const a of r){const l={...a,position:{pageNumber:o,boundingRect:a.position.boundingRect,rects:[],usePdfCoordinates:a.position.usePdfCoordinates}};let c=!1;for(const d of a.position.rects)o===(d.pageNumber||a.position.pageNumber)&&(l.position.rects.push(d),c=!0);(c||o===a.position.pageNumber)&&s[o].push(l)}}return s}showTip(t,n){const{isCollapsed:r,ghostHighlight:i,isAreaSelectionInProgress:s}=this.state;!r||i||s||this.setTip(t.position,n)}scaledPositionToViewport({pageNumber:t,boundingRect:n,rects:r,usePdfCoordinates:i}){const s=this.viewer.getPageView(t-1).viewport;return{boundingRect:rC(n,s,i),rects:(r||[]).map(o=>rC(o,s,i)),pageNumber:t}}viewportPositionToScaled({pageNumber:t,boundingRect:n,rects:r}){const i=this.viewer.getPageView(t-1).viewport;return{boundingRect:ZT(n,i),rects:(r||[]).map(s=>ZT(s,i)),pageNumber:t}}screenshot(t,n){const r=this.viewer.getPageView(n-1).canvas;return KAe(r,t)}setTip(t,n){this.setState({tipPosition:t,tipChildren:n})}toggleTextSelection(t){this.viewer.viewer&&this.viewer.viewer.classList.toggle(iC.disableSelection,t)}render(){const{onSelectionFinished:t,enableAreaSelection:n}=this.props;return E.jsx("div",{onPointerDown:this.onMouseDown,children:E.jsxs("div",{ref:this.containerNodeRef,className:iC.container,onContextMenu:r=>r.preventDefault(),children:[E.jsx("div",{className:"pdfViewer"}),this.renderTip(),typeof n=="function"?E.jsx(dTe,{onDragStart:()=>this.toggleTextSelection(!0),onDragEnd:()=>this.toggleTextSelection(!1),onChange:r=>this.setState({isAreaSelectionInProgress:r}),shouldStart:r=>n(r)&&r.target instanceof Element&&tc(r.target)&&!!r.target.closest(".page"),onSelection:(r,i,s)=>{const o=um(r);if(!o)return;const a={...i,top:i.top-o.node.offsetTop,left:i.left-o.node.offsetLeft,pageNumber:o.number},l={boundingRect:a,rects:[],pageNumber:o.number},c=this.viewportPositionToScaled(l),d=this.screenshot(a,a.pageNumber);this.setTip(l,t(c,{image:d},()=>this.hideTipAndSelection(),()=>{console.log("setting ghost highlight",c),this.setState({ghostHighlight:{position:c,content:{image:d}}},()=>{s(),this.renderHighlightLayers()})}))}}):null]})})}renderHighlightLayers(){const{pdfDocument:t}=this.props;for(let n=1;n<=t.numPages;n++){const r=this.highlightRoots[n];if(r?.container.isConnected)this.renderHighlightLayer(r.reactRoot,n);else{const i=this.findOrCreateHighlightLayer(n);if(i){const s=dU.createRoot(i);this.highlightRoots[n]={reactRoot:s,container:i},this.renderHighlightLayer(s,n)}}}}renderHighlightLayer(t,n){const{highlightTransform:r,highlights:i}=this.props,{tip:s,scrolledToHighlightId:o}=this.state;t.render(E.jsx(aTe,{highlightsByPage:this.groupHighlightsByPage(i),pageNumber:n.toString(),scrolledToHighlightId:o,highlightTransform:r,tip:s,scaledPositionToViewport:this.scaledPositionToViewport.bind(this),hideTipAndSelection:this.hideTipAndSelection.bind(this),viewer:this.viewer,screenshot:this.screenshot.bind(this),showTip:this.showTip.bind(this),setTip:a=>{this.setState({tip:a})}}))}}Nn(l7,"defaultProps",{pdfScaleValue:"auto"});const yTe="_highlight_3l4zw_1",bTe="_emoji_3l4zw_5",xTe="_parts_3l4zw_12",wTe="_part_3l4zw_12",STe="_scrolledTo_3l4zw_23",Pp={highlight:yTe,emoji:bTe,parts:xTe,part:wTe,scrolledTo:STe};function ETe({position:e,onClick:t,onMouseOver:n,onMouseOut:r,comment:i,isScrolledTo:s}){const{rects:o,boundingRect:a}=e;return E.jsxs("div",{className:`Highlight ${Pp.highlight} ${s?Pp.scrolledTo:""}`,children:[i?E.jsx("div",{className:`Highlight__emoji ${Pp.emoji}`,style:{left:20,top:a.top},children:i.emoji}):null,E.jsx("div",{className:`Highlight__parts ${Pp.parts}`,children:o.map((l,c)=>E.jsx("div",{onMouseOver:n,onMouseOut:r,onClick:t,style:l,className:`Highlight__part ${Pp.part}`},c))})]})}var _Te=Object.defineProperty,CTe=(e,t,n)=>t in e?_Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h0=(e,t,n)=>CTe(e,typeof t!="symbol"?t+"":t,n);class ATe extends x.Component{constructor(){super(...arguments),h0(this,"container",null),h0(this,"unsubscribe",()=>{}),h0(this,"onMouseMove",t=>{if(!this.container)return;const{onMoveAway:n,paddingX:r,paddingY:i}=this.props,{clientX:s,clientY:o}=t,{left:a,top:l,width:c,height:d}=this.container.getBoundingClientRect(),f=s>a-r&&s<a+c+r,p=o>l-i&&o<l+d+i;f&&p||n()}),h0(this,"attachRef",t=>{if(this.container=t,this.unsubscribe(),t){const{ownerDocument:n}=t;n.addEventListener("mousemove",this.onMouseMove),this.unsubscribe=()=>{n.removeEventListener("mousemove",this.onMouseMove)}}})}render(){const{onMoveAway:t,paddingX:n,paddingY:r,children:i,...s}=this.props;return E.jsx("div",{ref:this.attachRef,children:ie.cloneElement(i,s)})}}function TTe({onMouseOver:e,popupContent:t,onMouseOut:n,children:r}){const[i,s]=x.useState(!1);return E.jsx("div",{onMouseOver:()=>{s(!0),e(E.jsx(ATe,{onMoveAway:()=>{i||n()},paddingX:60,paddingY:30,children:t}))},onMouseOut:()=>{s(!1)},children:r})}var Np={exports:{}},sC={},oC={exports:{}},aC,M5;function RTe(){if(M5)return aC;M5=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aC=e,aC}var lC,O5;function kTe(){if(O5)return lC;O5=1;var e=RTe();function t(){}function n(){}return n.resetWarningCache=t,lC=function(){function r(o,a,l,c,d,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},lC}var D5;function kN(){return D5||(D5=1,oC.exports=kTe()()),oC.exports}function c7(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=c7(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function I5(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=c7(e))&&(r&&(r+=" "),r+=t);return r}const PTe=Object.freeze(Object.defineProperty({__proto__:null,clsx:I5,default:I5},Symbol.toStringTag,{value:"Module"})),NTe=sre(PTe);var jn={},Fl={},j5;function $w(){if(j5)return Fl;j5=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.dontSetMe=i,Fl.findInArray=e,Fl.int=r,Fl.isFunction=t,Fl.isNum=n;function e(s,o){for(let a=0,l=s.length;a<l;a++)if(o.apply(o,[s[a],a,s]))return s[a]}function t(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function n(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,o,a){if(s[o])return new Error("Invalid prop ".concat(o," passed to ").concat(a," - do not set this, set it on the child."))}return Fl}var $l={},L5;function MTe(){if(L5)return $l;L5=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.browserPrefixToKey=n,$l.browserPrefixToStyle=r,$l.default=void 0,$l.getPrefix=t;const e=["Moz","Webkit","O","ms"];function t(){var s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!a||o in a)return"";for(let l=0;l<e.length;l++)if(n(o,e[l])in a)return e[l];return""}function n(s,o){return o?"".concat(o).concat(i(s)):s}function r(s,o){return o?"-".concat(o.toLowerCase(),"-").concat(s):s}function i(s){let o="",a=!0;for(let l=0;l<s.length;l++)a?(o+=s[l].toUpperCase(),a=!1):s[l]==="-"?a=!0:o+=s[l];return o}return $l.default=t(),$l}var z5;function PN(){if(z5)return jn;z5=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.addClassName=R,jn.addEvent=a,jn.addUserSelectStyles=_,jn.createCSSTransform=v,jn.createSVGTransform=b,jn.getTouch=S,jn.getTouchIdentifier=C,jn.getTranslation=w,jn.innerHeight=f,jn.innerWidth=p,jn.matchesSelector=s,jn.matchesSelectorAndParentsTo=o,jn.offsetXYFromParent=g,jn.outerHeight=c,jn.outerWidth=d,jn.removeClassName=N,jn.removeEvent=l,jn.removeUserSelectStyles=k;var e=$w(),t=r(MTe());function n(T){if(typeof WeakMap!="function")return null;var M=new WeakMap,O=new WeakMap;return(n=function(L){return L?O:M})(T)}function r(T,M){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var O=n(M);if(O&&O.has(T))return O.get(T);var L={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in T)if(F!=="default"&&Object.prototype.hasOwnProperty.call(T,F)){var G=D?Object.getOwnPropertyDescriptor(T,F):null;G&&(G.get||G.set)?Object.defineProperty(L,F,G):L[F]=T[F]}return L.default=T,O&&O.set(T,L),L}let i="";function s(T,M){return i||(i=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(O){return(0,e.isFunction)(T[O])})),(0,e.isFunction)(T[i])?T[i](M):!1}function o(T,M,O){let L=T;do{if(s(L,M))return!0;if(L===O)return!1;L=L.parentNode}while(L);return!1}function a(T,M,O,L){if(!T)return;const D={capture:!0,...L};T.addEventListener?T.addEventListener(M,O,D):T.attachEvent?T.attachEvent("on"+M,O):T["on"+M]=O}function l(T,M,O,L){if(!T)return;const D={capture:!0,...L};T.removeEventListener?T.removeEventListener(M,O,D):T.detachEvent?T.detachEvent("on"+M,O):T["on"+M]=null}function c(T){let M=T.clientHeight;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M+=(0,e.int)(O.borderTopWidth),M+=(0,e.int)(O.borderBottomWidth),M}function d(T){let M=T.clientWidth;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M+=(0,e.int)(O.borderLeftWidth),M+=(0,e.int)(O.borderRightWidth),M}function f(T){let M=T.clientHeight;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M-=(0,e.int)(O.paddingTop),M-=(0,e.int)(O.paddingBottom),M}function p(T){let M=T.clientWidth;const O=T.ownerDocument.defaultView.getComputedStyle(T);return M-=(0,e.int)(O.paddingLeft),M-=(0,e.int)(O.paddingRight),M}function g(T,M,O){const D=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),F=(T.clientX+M.scrollLeft-D.left)/O,G=(T.clientY+M.scrollTop-D.top)/O;return{x:F,y:G}}function v(T,M){const O=w(T,M,"px");return{[(0,t.browserPrefixToKey)("transform",t.default)]:O}}function b(T,M){return w(T,M,"")}function w(T,M,O){let{x:L,y:D}=T,F="translate(".concat(L).concat(O,",").concat(D).concat(O,")");if(M){const G="".concat(typeof M.x=="string"?M.x:M.x+O),z="".concat(typeof M.y=="string"?M.y:M.y+O);F="translate(".concat(G,", ").concat(z,")")+F}return F}function S(T,M){return T.targetTouches&&(0,e.findInArray)(T.targetTouches,O=>M===O.identifier)||T.changedTouches&&(0,e.findInArray)(T.changedTouches,O=>M===O.identifier)}function C(T){if(T.targetTouches&&T.targetTouches[0])return T.targetTouches[0].identifier;if(T.changedTouches&&T.changedTouches[0])return T.changedTouches[0].identifier}function _(T){if(!T)return;let M=T.getElementById("react-draggable-style-el");M||(M=T.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,T.getElementsByTagName("head")[0].appendChild(M)),T.body&&R(T.body,"react-draggable-transparent-selection")}function k(T){if(T)try{if(T.body&&N(T.body,"react-draggable-transparent-selection"),T.selection)T.selection.empty();else{const M=(T.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function R(T,M){T.classList?T.classList.add(M):T.className.match(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)")))||(T.className+=" ".concat(M))}function N(T,M){T.classList?T.classList.remove(M):T.className=T.className.replace(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)"),"g"),"")}return jn}var wo={},F5;function u7(){if(F5)return wo;F5=1,Object.defineProperty(wo,"__esModule",{value:!0}),wo.canDragX=i,wo.canDragY=s,wo.createCoreData=a,wo.createDraggableData=l,wo.getBoundPosition=n,wo.getControlPosition=o,wo.snapToGrid=r;var e=$w(),t=PN();function n(f,p,g){if(!f.props.bounds)return[p,g];let{bounds:v}=f.props;v=typeof v=="string"?v:c(v);const b=d(f);if(typeof v=="string"){const{ownerDocument:w}=b,S=w.defaultView;let C;if(v==="parent"?C=b.parentNode:C=w.querySelector(v),!(C instanceof S.HTMLElement))throw new Error('Bounds selector "'+v+'" could not find an element.');const _=C,k=S.getComputedStyle(b),R=S.getComputedStyle(_);v={left:-b.offsetLeft+(0,e.int)(R.paddingLeft)+(0,e.int)(k.marginLeft),top:-b.offsetTop+(0,e.int)(R.paddingTop)+(0,e.int)(k.marginTop),right:(0,t.innerWidth)(_)-(0,t.outerWidth)(b)-b.offsetLeft+(0,e.int)(R.paddingRight)-(0,e.int)(k.marginRight),bottom:(0,t.innerHeight)(_)-(0,t.outerHeight)(b)-b.offsetTop+(0,e.int)(R.paddingBottom)-(0,e.int)(k.marginBottom)}}return(0,e.isNum)(v.right)&&(p=Math.min(p,v.right)),(0,e.isNum)(v.bottom)&&(g=Math.min(g,v.bottom)),(0,e.isNum)(v.left)&&(p=Math.max(p,v.left)),(0,e.isNum)(v.top)&&(g=Math.max(g,v.top)),[p,g]}function r(f,p,g){const v=Math.round(p/f[0])*f[0],b=Math.round(g/f[1])*f[1];return[v,b]}function i(f){return f.props.axis==="both"||f.props.axis==="x"}function s(f){return f.props.axis==="both"||f.props.axis==="y"}function o(f,p,g){const v=typeof p=="number"?(0,t.getTouch)(f,p):null;if(typeof p=="number"&&!v)return null;const b=d(g),w=g.props.offsetParent||b.offsetParent||b.ownerDocument.body;return(0,t.offsetXYFromParent)(v||f,w,g.props.scale)}function a(f,p,g){const v=!(0,e.isNum)(f.lastX),b=d(f);return v?{node:b,deltaX:0,deltaY:0,lastX:p,lastY:g,x:p,y:g}:{node:b,deltaX:p-f.lastX,deltaY:g-f.lastY,lastX:f.lastX,lastY:f.lastY,x:p,y:g}}function l(f,p){const g=f.props.scale;return{node:p.node,x:f.state.x+p.deltaX/g,y:f.state.y+p.deltaY/g,deltaX:p.deltaX/g,deltaY:p.deltaY/g,lastX:f.state.x,lastY:f.state.y}}function c(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function d(f){const p=f.findDOMNode();if(!p)throw new Error("<DraggableCore>: Unmounted during event!");return p}return wo}var Mp={},p0={},$5;function d7(){if($5)return p0;$5=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.default=e;function e(){}return p0}var H5;function OTe(){if(H5)return Mp;H5=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.default=void 0;var e=c(gc()),t=a(kN()),n=a(qx()),r=PN(),i=u7(),s=$w(),o=a(d7());function a(w){return w&&w.__esModule?w:{default:w}}function l(w){if(typeof WeakMap!="function")return null;var S=new WeakMap,C=new WeakMap;return(l=function(_){return _?C:S})(w)}function c(w,S){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var C=l(S);if(C&&C.has(w))return C.get(w);var _={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in w)if(R!=="default"&&Object.prototype.hasOwnProperty.call(w,R)){var N=k?Object.getOwnPropertyDescriptor(w,R):null;N&&(N.get||N.set)?Object.defineProperty(_,R,N):_[R]=w[R]}return _.default=w,C&&C.set(w,_),_}function d(w,S,C){return S=f(S),S in w?Object.defineProperty(w,S,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[S]=C,w}function f(w){var S=p(w,"string");return typeof S=="symbol"?S:String(S)}function p(w,S){if(typeof w!="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var _=C.call(w,S);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}const g={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let v=g.mouse,b=class extends e.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",S=>{if(this.props.onMouseDown(S),!this.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;const C=this.findDOMNode();if(!C||!C.ownerDocument||!C.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:_}=C;if(this.props.disabled||!(S.target instanceof _.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(S.target,this.props.handle,C)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(S.target,this.props.cancel,C))return;S.type==="touchstart"&&S.preventDefault();const k=(0,r.getTouchIdentifier)(S);this.touchIdentifier=k;const R=(0,i.getControlPosition)(S,k,this);if(R==null)return;const{x:N,y:T}=R,M=(0,i.createCoreData)(this,N,T);(0,o.default)("DraggableCore: handleDragStart: %j",M),(0,o.default)("calling",this.props.onStart),!(this.props.onStart(S,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(_),this.dragging=!0,this.lastX=N,this.lastY=T,(0,r.addEvent)(_,v.move,this.handleDrag),(0,r.addEvent)(_,v.stop,this.handleDragStop))}),d(this,"handleDrag",S=>{const C=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(C==null)return;let{x:_,y:k}=C;if(Array.isArray(this.props.grid)){let T=_-this.lastX,M=k-this.lastY;if([T,M]=(0,i.snapToGrid)(this.props.grid,T,M),!T&&!M)return;_=this.lastX+T,k=this.lastY+M}const R=(0,i.createCoreData)(this,_,k);if((0,o.default)("DraggableCore: handleDrag: %j",R),this.props.onDrag(S,R)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=_,this.lastY=k}),d(this,"handleDragStop",S=>{if(!this.dragging)return;const C=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(C==null)return;let{x:_,y:k}=C;if(Array.isArray(this.props.grid)){let M=_-this.lastX||0,O=k-this.lastY||0;[M,O]=(0,i.snapToGrid)(this.props.grid,M,O),_=this.lastX+M,k=this.lastY+O}const R=(0,i.createCoreData)(this,_,k);if(this.props.onStop(S,R)===!1||this.mounted===!1)return!1;const T=this.findDOMNode();T&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(T.ownerDocument),(0,o.default)("DraggableCore: handleDragStop: %j",R),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,T&&((0,o.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(T.ownerDocument,v.move,this.handleDrag),(0,r.removeEvent)(T.ownerDocument,v.stop,this.handleDragStop))}),d(this,"onMouseDown",S=>(v=g.mouse,this.handleDragStart(S))),d(this,"onMouseUp",S=>(v=g.mouse,this.handleDragStop(S))),d(this,"onTouchStart",S=>(v=g.touch,this.handleDragStart(S))),d(this,"onTouchEnd",S=>(v=g.touch,this.handleDragStop(S)))}componentDidMount(){this.mounted=!0;const S=this.findDOMNode();S&&(0,r.addEvent)(S,g.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const S=this.findDOMNode();if(S){const{ownerDocument:C}=S;(0,r.removeEvent)(C,g.mouse.move,this.handleDrag),(0,r.removeEvent)(C,g.touch.move,this.handleDrag),(0,r.removeEvent)(C,g.mouse.stop,this.handleDragStop),(0,r.removeEvent)(C,g.touch.stop,this.handleDragStop),(0,r.removeEvent)(S,g.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(C)}}findDOMNode(){var S,C;return(S=this.props)!==null&&S!==void 0&&S.nodeRef?(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current:n.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Mp.default=b,d(b,"displayName","DraggableCore"),d(b,"propTypes",{allowAnyClick:t.default.bool,children:t.default.node.isRequired,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(w,S){if(w[S]&&w[S].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),d(b,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Mp}var B5;function DTe(){return B5||(B5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=p(gc()),n=d(kN()),r=d(qx()),i=d(NTe),s=PN(),o=u7(),a=$w(),l=d(OTe()),c=d(d7());function d(C){return C&&C.__esModule?C:{default:C}}function f(C){if(typeof WeakMap!="function")return null;var _=new WeakMap,k=new WeakMap;return(f=function(R){return R?k:_})(C)}function p(C,_){if(C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var k=f(_);if(k&&k.has(C))return k.get(C);var R={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in C)if(T!=="default"&&Object.prototype.hasOwnProperty.call(C,T)){var M=N?Object.getOwnPropertyDescriptor(C,T):null;M&&(M.get||M.set)?Object.defineProperty(R,T,M):R[T]=C[T]}return R.default=C,k&&k.set(C,R),R}function g(){return g=Object.assign?Object.assign.bind():function(C){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(C[R]=k[R])}return C},g.apply(this,arguments)}function v(C,_,k){return _=b(_),_ in C?Object.defineProperty(C,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[_]=k,C}function b(C){var _=w(C,"string");return typeof _=="symbol"?_:String(_)}function w(C,_){if(typeof C!="object"||C===null)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var R=k.call(C,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(C)}class S extends t.Component{static getDerivedStateFromProps(_,k){let{position:R}=_,{prevPropsPosition:N}=k;return R&&(!N||R.x!==N.x||R.y!==N.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:N}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(_){super(_),v(this,"onDragStart",(k,R)=>{if((0,c.default)("Draggable: onDragStart: %j",R),this.props.onStart(k,(0,o.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(k,R)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",R);const N=(0,o.createDraggableData)(this,R),T={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:O,y:L}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[D,F]=(0,o.getBoundPosition)(this,T.x,T.y);T.x=D,T.y=F,T.slackX=this.state.slackX+(O-T.x),T.slackY=this.state.slackY+(L-T.y),N.x=T.x,N.y=T.y,N.deltaX=T.x-this.state.x,N.deltaY=T.y-this.state.y}if(this.props.onDrag(k,N)===!1)return!1;this.setState(T)}),v(this,"onDragStop",(k,R)=>{if(!this.state.dragging||this.props.onStop(k,(0,o.createDraggableData)(this,R))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",R);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:O,y:L}=this.props.position;T.x=O,T.y=L}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,k;return(_=(k=this.props)===null||k===void 0||(k=k.nodeRef)===null||k===void 0?void 0:k.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:k,children:R,defaultPosition:N,defaultClassName:T,defaultClassNameDragging:M,defaultClassNameDragged:O,position:L,positionOffset:D,scale:F,...G}=this.props;let z={},V=null;const H=!!!L||this.state.dragging,B=L||N,K={x:(0,o.canDragX)(this)&&H?this.state.x:B.x,y:(0,o.canDragY)(this)&&H?this.state.y:B.y};this.state.isElementSVG?V=(0,s.createSVGTransform)(K,D):z=(0,s.createCSSTransform)(K,D);const U=(0,i.default)(R.props.className||"",T,{[M]:this.state.dragging,[O]:this.state.dragged});return t.createElement(l.default,g({},G,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(R),{className:U,style:{...R.props.style,...z},transform:V}))}}e.default=S,v(S,"displayName","Draggable"),v(S,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),v(S,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(sC)),sC}var U5;function ITe(){if(U5)return Np.exports;U5=1;const{default:e,DraggableCore:t}=DTe();return Np.exports=e,Np.exports.default=e,Np.exports.DraggableCore=t,Np.exports}var jTe=ITe();const LTe=Di(jTe);var Yn=function(){return Yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yn.apply(this,arguments)},V5={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},q5={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},m0={width:"20px",height:"20px",position:"absolute",zIndex:1},zTe={top:Yn(Yn({},V5),{top:"-5px"}),right:Yn(Yn({},q5),{left:void 0,right:"-5px"}),bottom:Yn(Yn({},V5),{top:void 0,bottom:"-5px"}),left:Yn(Yn({},q5),{left:"-5px"}),topRight:Yn(Yn({},m0),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Yn(Yn({},m0),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Yn(Yn({},m0),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Yn(Yn({},m0),{left:"-10px",top:"-10px",cursor:"nw-resize"})},FTe=x.memo(function(e){var t=e.onResizeStart,n=e.direction,r=e.children,i=e.replaceStyles,s=e.className,o=x.useCallback(function(c){t(c,n)},[t,n]),a=x.useCallback(function(c){t(c,n)},[t,n]),l=x.useMemo(function(){return Yn(Yn({position:"absolute",userSelect:"none"},zTe[n]),i??{})},[i,n]);return E.jsx("div",{className:s||void 0,style:l,onMouseDown:o,onTouchStart:a,children:r})}),$Te=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ro=function(){return Ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ro.apply(this,arguments)},HTe={width:"auto",height:"auto"},g0=function(e,t,n){return Math.max(Math.min(e,n),t)},W5=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},Zd=function(e,t){return new RegExp(e,"i").test(t)},v0=function(e){return!!(e.touches&&e.touches.length)},BTe=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},G5=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(s,o,a){return Math.abs(o-e)<Math.abs(t[s]-e)?a:s},0),i=Math.abs(t[r]-e);return n===0||i<n?t[r]:e},cC=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},y0=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var i=Number(e.replace("%",""))/100;return t*i}if(e.endsWith("vw")){var i=Number(e.replace("vw",""))/100;return n*i}if(e.endsWith("vh")){var i=Number(e.replace("vh",""))/100;return r*i}}return e},UTe=function(e,t,n,r,i,s,o){return r=y0(r,e.width,t,n),i=y0(i,e.height,t,n),s=y0(s,e.width,t,n),o=y0(o,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},VTe=function(e){return Array.isArray(e)?e:[e,e]},qTe=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],K5="__resizable_base__",WTe=(function(e){$Te(t,e);function t(n){var r,i,s,o,a=e.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var c=a.window.document.createElement("div");return c.style.width="100%",c.style.height="100%",c.style.position="absolute",c.style.transform="scale(0, 0)",c.style.left="0",c.style.flex="0 0 100%",c.classList?c.classList.add(K5):c.className+=K5,l.appendChild(c),c},a.removeBase=function(l){var c=a.parentNode;c&&c.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(o=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&o!==void 0?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||HTe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var c=n.getParentSize(),d=Number(n.state[a].toString().replace("px","")),f=d/c[a]*100;return"".concat(f,"%")}return cC(n.state[a])},s=r&&typeof r.width<"u"&&!this.state.isResizing?cC(r.width):i("width"),o=r&&typeof r.height<"u"&&!this.state.isResizing?cC(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&Zd("left",s),a=i&&Zd("top",s),l,c;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(l=o?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),c=a?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,c=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),c=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),c&&Number.isFinite(c)&&(r=r&&r<c?r:c),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,s=VTe(this.props.resizeRatio||1),o=s[0],a=s[1],l=this.state,c=l.direction,d=l.original,f=this.props,p=f.lockAspectRatio,g=f.lockAspectRatioExtraHeight,v=f.lockAspectRatioExtraWidth,b=d.width,w=d.height,S=g||0,C=v||0;return Zd("right",c)&&(b=d.width+(n-d.x)*o/i,p&&(w=(b-C)/this.ratio+S)),Zd("left",c)&&(b=d.width-(n-d.x)*o/i,p&&(w=(b-C)/this.ratio+S)),Zd("bottom",c)&&(w=d.height+(r-d.y)*a/i,p&&(b=(w-S)*this.ratio+C)),Zd("top",c)&&(w=d.height-(r-d.y)*a/i,p&&(b=(w-S)*this.ratio+C)),{newWidth:b,newHeight:w}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,s){var o=this.props,a=o.lockAspectRatio,l=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,d=typeof s.width>"u"?10:s.width,f=typeof i.width>"u"||i.width<0?n:i.width,p=typeof s.height>"u"?10:s.height,g=typeof i.height>"u"||i.height<0?r:i.height,v=l||0,b=c||0;if(a){var w=(p-v)*this.ratio+b,S=(g-v)*this.ratio+b,C=(d-b)/this.ratio+v,_=(f-b)/this.ratio+v,k=Math.max(d,w),R=Math.min(f,S),N=Math.max(p,C),T=Math.min(g,_);n=g0(n,k,R),r=g0(r,N,T)}else n=g0(n,d,f),r=g0(r,p,g);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,l=o.top,c=o.right,d=o.bottom;this.resizableLeft=a*n,this.resizableRight=c*n,this.resizableTop=l*n,this.resizableBottom=d*n}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(n.nativeEvent&&BTe(n.nativeEvent)?(i=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&v0(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(n,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var c=this.parentNode;if(c){var d=this.window.getComputedStyle(c).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ro(Ro({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(f)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&v0(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,a=i.minWidth,l=i.minHeight,c=v0(n)?n.touches[0].clientX:n.clientX,d=v0(n)?n.touches[0].clientY:n.clientY,f=this.state,p=f.direction,g=f.original,v=f.width,b=f.height,w=this.getParentSize(),S=UTe(w,this.window.innerWidth,this.window.innerHeight,s,o,a,l);s=S.maxWidth,o=S.maxHeight,a=S.minWidth,l=S.minHeight;var C=this.calculateNewSizeFromDirection(c,d),_=C.newHeight,k=C.newWidth,R=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(k=G5(k,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=G5(_,this.props.snap.y,this.props.snapGap));var N=this.calculateNewSizeFromAspectRatio(k,_,{width:R.maxWidth,height:R.maxHeight},{width:a,height:l});if(k=N.newWidth,_=N.newHeight,this.props.grid){var T=W5(k,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),M=W5(_,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),O=this.props.snapGap||0,L=O===0||Math.abs(T-k)<=O?T:k,D=O===0||Math.abs(M-_)<=O?M:_;k=L,_=D}var F={width:k-g.width,height:_-g.height};if(this.delta=F,v&&typeof v=="string"){if(v.endsWith("%")){var G=k/w.width*100;k="".concat(G,"%")}else if(v.endsWith("vw")){var z=k/this.window.innerWidth*100;k="".concat(z,"vw")}else if(v.endsWith("vh")){var V=k/this.window.innerHeight*100;k="".concat(V,"vh")}}if(b&&typeof b=="string"){if(b.endsWith("%")){var G=_/w.height*100;_="".concat(G,"%")}else if(b.endsWith("vw")){var z=_/this.window.innerWidth*100;_="".concat(z,"vw")}else if(b.endsWith("vh")){var V=_/this.window.innerHeight*100;_="".concat(V,"vh")}}var j={width:this.createSizeForCssProperty(k,"width"),height:this.createSizeForCssProperty(_,"height")};this.flexDir==="row"?j.flexBasis=j.width:this.flexDir==="column"&&(j.flexBasis=j.height);var H=this.state.width!==j.width,B=this.state.height!==j.height,K=this.state.flexBasis!==j.flexBasis,U=H||B||K;U&&nl.flushSync(function(){r.setState(j)}),this.props.onResize&&U&&this.props.onResize(n,p,this.resizable,F)}},t.prototype.onMouseUp=function(n){var r,i,s=this.state,o=s.isResizing,a=s.direction;s.original,!(!o||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ro(Ro({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},t.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,c=r.handleComponent;if(!i)return null;var d=Object.keys(i).map(function(f){return i[f]!==!1?E.jsx(FTe,{direction:f,onResizeStart:n.onResizeStart,replaceStyles:s&&s[f],className:o&&o[f],children:c&&c[f]?c[f]:null},f):null});return E.jsx("div",{className:l,style:a,children:d})},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,a){return qTe.indexOf(a)!==-1||(o[a]=n.props[a]),o},{}),i=Ro(Ro(Ro({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return E.jsxs(s,Ro({style:i,className:this.props.className},r,{ref:function(o){o&&(n.resizable=o)},children:[this.state.isResizing&&E.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t})(x.PureComponent);var QT=function(e,t){return QT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},QT(e,t)};function GTe(e,t){QT(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var cr=function(){return cr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cr.apply(this,arguments)};function KTe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var YTe={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},XTe=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},ZTe=(function(e){GTe(t,e);function t(n){var r=e.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,s=this.getDraggablePosition(),o=s.x,a=s.y;this.draggable.setState({x:o-r,y:a-i}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},t.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},t.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var s=this.getParent(),o=this.props.scale,a;if(this.props.bounds==="parent")a=s;else if(this.props.bounds==="body"){var l=s.getBoundingClientRect(),c=l.left,d=l.top,f=document.body.getBoundingClientRect(),p=-(c-s.offsetLeft*o-f.left)/o,g=-(d-s.offsetTop*o-f.top)/o,v=(document.body.offsetWidth-this.resizable.size.width*o)/o+p,b=(document.body.offsetHeight-this.resizable.size.height*o)/o+g;return this.setState({bounds:{top:g,right:v,bottom:b,left:p}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var w=s.getBoundingClientRect(),S=w.left,C=w.top,_=-(S-s.offsetLeft*o)/o,k=-(C-s.offsetTop*o)/o,v=(window.innerWidth-this.resizable.size.width*o)/o+_,b=(window.innerHeight-this.resizable.size.height*o)/o+k;return this.setState({bounds:{top:k,right:v,bottom:b,left:_}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(s instanceof HTMLElement))){var R=a.getBoundingClientRect(),N=R.left,T=R.top,M=s.getBoundingClientRect(),O=M.left,L=M.top,D=(N-O)/o,F=T-L;if(this.resizable){this.updateOffsetFromParent();var G=this.offsetFromParent;this.setState({bounds:{top:F-G.top,right:D+(a.offsetWidth-this.resizable.size.width)-G.left/o,bottom:F+(a.offsetHeight-this.resizable.size.height)-G.top,left:D-G.left/o}})}}}},t.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,cr(cr({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDrag(n,cr(cr({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,cr(cr({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},t.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,cr(cr({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,cr(cr({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,cr(cr({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},t.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,o=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+o.left,y:a.y+o.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),c=void 0;this.props.bounds==="parent"?c=l:this.props.bounds==="body"?c=document.body:this.props.bounds==="window"?c=window:typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);var d=this.getSelfElement();if(d instanceof Element&&(c instanceof HTMLElement||c===window)&&l instanceof HTMLElement){var f=this.getMaxSizesFromProps(),p=f.maxWidth,g=f.maxHeight,v=this.getParentSize();if(p&&typeof p=="string")if(p.endsWith("%")){var b=Number(p.replace("%",""))/100;p=v.width*b}else p.endsWith("px")&&(p=Number(p.replace("px","")));if(g&&typeof g=="string")if(g.endsWith("%")){var b=Number(g.replace("%",""))/100;g=v.height*b}else g.endsWith("px")&&(g=Number(g.replace("px","")));var w=d.getBoundingClientRect(),S=w.left,C=w.top,_=this.props.bounds==="window"?{left:0,top:0}:c.getBoundingClientRect(),k=_.left,R=_.top,N=this.getOffsetWidth(c),T=this.getOffsetHeight(c),M=r.toLowerCase().endsWith("left"),O=r.toLowerCase().endsWith("right"),L=r.startsWith("top"),D=r.startsWith("bottom");if((M||L)&&this.resizable){var F=(S-k)/s+this.resizable.size.width;this.setState({maxWidth:F>Number(p)?p:F})}if(O||this.props.lockAspectRatio&&!M&&!L){var F=N+(k-S)/s;this.setState({maxWidth:F>Number(p)?p:F})}if((L||M)&&this.resizable){var F=(C-R)/s+this.resizable.size.height;this.setState({maxHeight:F>Number(g)?g:F})}if(D||this.props.lockAspectRatio&&!L&&!M){var F=T+(R-C)/s;this.setState({maxHeight:F>Number(g)?g:F})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},t.prototype.onResize=function(n,r,i,s){var o=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-s.width,c=-s.height,d=["top","left","topLeft","bottomLeft","topRight"];d.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=c));var f=this.draggable.state;(a.x!==f.x||a.y!==f.y)&&nl.flushSync(function(){o.draggable.setState(a)}),this.updateOffsetFromParent();var p=this.offsetFromParent,g=this.getDraggablePosition().x+p.left,v=this.getDraggablePosition().y+p.top;this.resizingPosition={x:g,y:v},this.props.onResize&&this.props.onResize(n,r,i,s,{x:g,y:v})},t.prototype.onResizeStop=function(n,r,i,s){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),a=o.maxWidth,l=o.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,s,this.resizingPosition)},t.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},t.prototype.updatePosition=function(n){this.draggable.setState(n)},t.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var s=r.getBoundingClientRect(),o=s.left,a=s.top,l=i.getBoundingClientRect(),c=this.getDraggablePosition(),d=r.scrollLeft,f=r.scrollTop;this.offsetFromParent={left:l.left-o+d-c.x*n,top:l.top-a+f-c.y*n}},t.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,s=r.style,o=r.dragHandleClassName,a=r.position,l=r.onMouseDown,c=r.onMouseUp,d=r.dragAxis,f=r.dragGrid,p=r.bounds,g=r.enableUserSelectHack,v=r.cancel,b=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var w=r.resizeHandleStyles,S=r.resizeHandleClasses,C=r.resizeHandleComponent,_=r.enableResizing,k=r.resizeGrid,R=r.resizeHandleWrapperClass,N=r.resizeHandleWrapperStyle,T=r.scale,M=r.allowAnyClick,O=r.dragPositionOffset,L=KTe(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),D=this.props.default?cr({},this.props.default):void 0;delete L.default;var F=i||o?{cursor:"auto"}:{cursor:"move"},G=cr(cr(cr({},YTe),F),s),z=this.offsetFromParent,V=z.left,j=z.top,H;a&&(H={x:a.x-V,y:a.y-j});var B=this.state.resizing?void 0:H,K=this.state.resizing?"both":d;return x.createElement(LTe,{ref:function(U){U&&(n.draggable=U)},handle:o?".".concat(o):void 0,defaultPosition:D,onMouseDown:l,onMouseUp:c,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:K,disabled:i,grid:f,bounds:p?this.state.bounds:void 0,position:B,enableUserSelectHack:g,cancel:v,scale:T,allowAnyClick:M,nodeRef:this.resizableElement,positionOffset:O},x.createElement(WTe,cr({},L,{ref:function(U){U&&(n.resizable=U,n.resizableElement.current=U.resizable)},defaultSize:D,size:this.props.size,enable:typeof _=="boolean"?XTe(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:G,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:k,handleWrapperClass:R,handleWrapperStyle:N,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:w,handleClasses:S,handleComponent:C,scale:this.props.scale}),b))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t})(x.PureComponent);const QTe="_areaHighlight_1ppoh_1",JTe="_part_1ppoh_8",eRe="_scrolledTo_1ppoh_15",uC={areaHighlight:QTe,part:JTe,scrolledTo:eRe};function tRe({highlight:e,onChange:t,isScrolledTo:n,...r}){return E.jsx("div",{className:`${uC.areaHighlight} ${n?uC.scrolledTo:""}`,children:E.jsx(ZTe,{className:uC.part,onDragStop:(i,s)=>{const o={...e.position.boundingRect,top:s.y,left:s.x};t(o)},onResizeStop:(i,s,o,a,l)=>{var c;const d={top:l.y,left:l.x,width:o.offsetWidth,height:o.offsetHeight,pageNumber:((c=um(o))==null?void 0:c.number)||-1};t(d)},position:{x:e.position.boundingRect.left,y:e.position.boundingRect.top},size:{width:e.position.boundingRect.width,height:e.position.boundingRect.height},onClick:i=>{i.stopPropagation(),i.preventDefault()},...r})})}var dm={};dm.d=(e,t)=>{for(var n in t)dm.o(t,n)&&!dm.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})};dm.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Je=globalThis.pdfjsLib={};dm.d(Je,{AbortException:()=>td,AnnotationEditorLayer:()=>ka,AnnotationEditorParamsType:()=>nt,AnnotationEditorType:()=>At,AnnotationEditorUIManager:()=>fc,AnnotationLayer:()=>Jke,AnnotationMode:()=>Xl,CMapCompressionType:()=>eR,ColorPicker:()=>Po,DOMSVGFactory:()=>ON,DrawLayer:()=>Ur,FeatureTest:()=>Ci,GlobalWorkerOptions:()=>Hm,ImageKind:()=>fb,InvalidPDFException:()=>h7,MissingPDFException:()=>ed,OPS:()=>qs,Outliner:()=>lR,PDFDataRangeTransport:()=>P7,PDFDateString:()=>b7,PDFWorker:()=>ys,PasswordResponses:()=>sRe,PermissionFlag:()=>iRe,PixelsPerInch:()=>$f,RenderingCancelledException:()=>DN,TextLayer:()=>xi,UnexpectedResponseException:()=>Vw,Util:()=>$e,VerbosityLevel:()=>Hw,XfaLayer:()=>M7,build:()=>Oke,createValidAbsoluteUrl:()=>cRe,fetchData:()=>Xw,getDocument:()=>_ke,getFilenameFromUrl:()=>bRe,getPdfFilenameFromUrl:()=>xRe,getXfaPageViewport:()=>wRe,isDataScheme:()=>IN,isPdfFile:()=>jN,noContextMenu:()=>Pi,normalizeUnicode:()=>mRe,renderTextLayer:()=>mke,setLayerDimensions:()=>Mu,shadow:()=>Rt,updateTextLayer:()=>gke,version:()=>Mke});const Kr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),f7=[1,0,0,1,0,0],JT=[.001,0,0,.001,0,0],nRe=1e7,dC=1.35,vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Xl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},rRe="pdfjs_internal_editor_",At={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},iRe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Br={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},lr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Op={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Hw={ERRORS:0,WARNINGS:1,INFOS:5},eR={NONE:0,BINARY:1},qs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},sRe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Bw=Hw.WARNINGS;function oRe(e){Number.isInteger(e)&&(Bw=e)}function aRe(){return Bw}function Uw(e){Bw>=Hw.INFOS&&console.log(`Info: ${e}`)}function vt(e){Bw>=Hw.WARNINGS&&console.log(`Warning: ${e}`)}function Yt(e){throw new Error(e)}function pr(e,t){e||Yt(t)}function lRe(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function cRe(e,t=null,n=null){if(!e)return null;try{if(n&&typeof e=="string"&&(n.addDefaultProtocol&&e.startsWith("www.")&&e.match(/\./g)?.length>=2&&(e=`http://${e}`),n.tryConvertEncoding))try{e=pRe(e)}catch{}const r=t?new URL(e,t):new URL(e);if(lRe(r))return r}catch{}return null}function Rt(e,t,n,r=!1){return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Sc=(function(){function t(n,r){this.constructor===t&&Yt("Cannot initialize BaseException."),this.message=n,this.name=r}return t.prototype=new Error,t.constructor=t,t})();class tR extends Sc{constructor(t,n){super(t,"PasswordException"),this.code=n}}class nR extends Sc{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class h7 extends Sc{constructor(t){super(t,"InvalidPDFException")}}class ed extends Sc{constructor(t){super(t,"MissingPDFException")}}class Vw extends Sc{constructor(t,n){super(t,"UnexpectedResponseException"),this.status=n}}class uRe extends Sc{constructor(t){super(t,"FormatError")}}class td extends Sc{constructor(t){super(t,"AbortException")}}function p7(e){(typeof e!="object"||e?.length===void 0)&&Yt("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const s=Math.min(i+n,t),o=e.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function qw(e){typeof e!="string"&&Yt("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r)&255;return n}function dRe(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function NN(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}function fRe(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function hRe(){try{return new Function(""),!0}catch{return!1}}class Ci{static get isLittleEndian(){return Rt(this,"isLittleEndian",fRe())}static get isEvalSupported(){return Rt(this,"isEvalSupported",hRe())}static get isOffscreenCanvasSupported(){return Rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Rt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Rt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Rt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const fC=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class $e{static makeHexColor(t,n,r){return`#${fC[t]}${fC[n]}${fC[r]}`}static scaleMinMax(t,n){let r;t[0]?(t[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=t[3],n[3]*=t[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,t[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static applyTransform(t,n){const r=t[0]*n[0]+t[1]*n[2]+n[4],i=t[0]*n[1]+t[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(t,n){const r=n[0]*n[3]-n[1]*n[2],i=(t[0]*n[3]-t[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,s=(-t[0]*n[1]+t[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,s]}static getAxialAlignedBoundingBox(t,n){const r=this.applyTransform(t,n),i=this.applyTransform(t.slice(2,4),n),s=this.applyTransform([t[0],t[3]],n),o=this.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t){const n=[t[0],t[2],t[1],t[3]],r=t[0]*n[0]+t[1]*n[2],i=t[0]*n[1]+t[1]*n[3],s=t[2]*n[0]+t[3]*n[2],o=t[2]*n[1]+t[3]*n[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,d=a-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const r=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return s>o?null:[r,s,i,o]}static#e(t,n,r,i,s,o,a,l,c,d){if(c<=0||c>=1)return;const f=1-c,p=c*c,g=p*c,v=f*(f*(f*t+3*c*n)+3*p*r)+g*i,b=f*(f*(f*s+3*c*o)+3*p*a)+g*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],b),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],b)}static#t(t,n,r,i,s,o,a,l,c,d,f,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&this.#e(t,n,r,i,s,o,a,l,-f/d,p);return}const g=d**2-4*f*c;if(g<0)return;const v=Math.sqrt(g),b=2*c;this.#e(t,n,r,i,s,o,a,l,(-d+v)/b,p),this.#e(t,n,r,i,s,o,a,l,(-d-v)/b,p)}static bezierBoundingBox(t,n,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],n,l)):c=[Math.min(t,a),Math.min(n,l),Math.max(t,a),Math.max(n,l)],this.#t(t,r,s,a,n,i,o,l,3*(-t+3*(r-s)+a),6*(t-2*r+s),3*(r-t),c),this.#t(t,r,s,a,n,i,o,l,3*(-n+3*(i-o)+l),6*(n-2*i+o),3*(i-n),c),c}}function pRe(e){return decodeURIComponent(escape(e))}let hC=null,Y5=null;function mRe(e){return hC||(hC=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Y5=new Map([["","t"]])),e.replaceAll(hC,(t,n,r)=>n?n.normalize("NFKC"):Y5.get(r))}function gRe(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const e=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(Math.random()*255);return p7(e)}const m7="pdfjs_internal_id_",Aa={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Ww{constructor(){this.constructor===Ww&&Yt("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,r,i,s){return"none"}destroy(t=!1){}}class Gw{#e=!1;constructor({enableHWA:t=!1}={}){this.constructor===Gw&&Yt("Cannot initialize BaseCanvasFactory."),this.#e=t}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(t,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(t,n,r){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){Yt("Abstract method `_createCanvas` called.")}}class Kw{constructor({baseUrl:t=null,isCompressed:n=!0}){this.constructor===Kw&&Yt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?eR.BINARY:eR.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(t,n){Yt("Abstract method `_fetchData` called.")}}class Yw{constructor({baseUrl:t=null}){this.constructor===Yw&&Yt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(t){Yt("Abstract method `_fetchData` called.")}}class MN{constructor(){this.constructor===MN&&Yt("Cannot initialize BaseSVGFactory.")}create(t,n,r=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${n}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Yt("Abstract method `_createSVG` called.")}}const Ra="http://www.w3.org/2000/svg";class $f{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class vRe extends Ww{#e;#t;#n;#i;#s;#r=0;constructor({docId:t,ownerDocument:n=globalThis.document}={}){super(),this.#n=t,this.#i=n}get#o(){return this.#e||=new Map}get#l(){return this.#s||=new Map}get#u(){if(!this.#t){const t=this.#i.createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#i.createElementNS(Ra,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#t=this.#i.createElementNS(Ra,"defs"),t.append(r),r.append(this.#t),this.#i.body.append(t)}return this.#t}#d(t){if(t.length===1){const l=t[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=l[f]/255;const d=c.join(",");return[d,d,d]}const[n,r,i]=t,s=new Array(256),o=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=n[l]/255,o[l]=r[l]/255,a[l]=i[l]/255;return[s.join(","),o.join(","),a.join(",")]}addFilter(t){if(!t)return"none";let n=this.#o.get(t);if(n)return n;const[r,i,s]=this.#d(t),o=t.length===1?r:`${r}${i}${s}`;if(n=this.#o.get(o),n)return this.#o.set(t,n),n;const a=`g_${this.#n}_transfer_map_${this.#r++}`,l=`url(#${a})`;this.#o.set(t,l),this.#o.set(o,l);const c=this.#a(a);return this.#m(r,i,s,c),l}addHCMFilter(t,n){const r=`${t}-${n}`,i="base";let s=this.#l.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#l.set(i,s)),!t||!n))return s.url;const o=this.#v(t);t=$e.makeHexColor(...o);const a=this.#v(n);if(n=$e.makeHexColor(...a),this.#u.style.color="",t==="#000000"&&n==="#ffffff"||t===n)return s.url;const l=new Array(256);for(let g=0;g<=255;g++){const v=g/255;l[g]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=l.join(","),d=`g_${this.#n}_hcm_filter`,f=s.filter=this.#a(d);this.#m(c,c,c,f),this.#c(f);const p=(g,v)=>{const b=o[g]/255,w=a[g]/255,S=new Array(v+1);for(let C=0;C<=v;C++)S[C]=b+C/v*(w-b);return S.join(",")};return this.#m(p(0,5),p(1,5),p(2,5),f),s.url=`url(#${d})`,s.url}addAlphaFilter(t){let n=this.#o.get(t);if(n)return n;const[r]=this.#d([t]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(t,n),n;const s=`g_${this.#n}_alpha_map_${this.#r++}`,o=`url(#${s})`;this.#o.set(t,o),this.#o.set(i,o);const a=this.#a(s);return this.#f(r,a),o}addLuminosityFilter(t){let n=this.#o.get(t||"luminosity");if(n)return n;let r,i;if(t?([r]=this.#d([t]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(t,n),n;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,o=`url(#${s})`;this.#o.set(t,o),this.#o.set(i,o);const a=this.#a(s);return this.#h(a),t&&this.#f(r,a),o}addHighlightHCMFilter(t,n,r,i,s){const o=`${n}-${r}-${i}-${s}`;let a=this.#l.get(t);if(a?.key===o||(a?(a.filter?.remove(),a.key=o,a.url="none",a.filter=null):(a={key:o,url:"none",filter:null},this.#l.set(t,a)),!n||!r))return a.url;const[l,c]=[n,r].map(this.#v.bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,g]=[i,s].map(this.#v.bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),this.#u.style.color="";const v=(S,C,_)=>{const k=new Array(256),R=(f-d)/_,N=S/255,T=(C-S)/(255*_);let M=0;for(let O=0;O<=_;O++){const L=Math.round(d+O*R),D=N+O*T;for(let F=M;F<=L;F++)k[F]=D;M=L+1}for(let O=M;O<256;O++)k[O]=k[M-1];return k.join(",")},b=`g_${this.#n}_hcm_${t}_filter`,w=a.filter=this.#a(b);return this.#c(w),this.#m(v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),w),a.url=`url(#${b})`,a.url}destroy(t=!1){t&&this.#l.size!==0||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#r=0)}#h(t){const n=this.#i.createElementNS(Ra,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)}#c(t){const n=this.#i.createElementNS(Ra,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)}#a(t){const n=this.#i.createElementNS(Ra,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),this.#u.append(n),n}#p(t,n,r){const i=this.#i.createElementNS(Ra,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)}#m(t,n,r,i){const s=this.#i.createElementNS(Ra,"feComponentTransfer");i.append(s),this.#p(s,"feFuncR",t),this.#p(s,"feFuncG",n),this.#p(s,"feFuncB",r)}#f(t,n){const r=this.#i.createElementNS(Ra,"feComponentTransfer");n.append(r),this.#p(r,"feFuncA",t)}#v(t){return this.#u.style.color=t,LN(getComputedStyle(this.#u).getPropertyValue("color"))}}class yRe extends Gw{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const r=this._document.createElement("canvas");return r.width=t,r.height=n,r}}async function Xw(e,t="text"){if(Xp(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class g7 extends Kw{_fetchData(t,n){return Xw(t,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):qw(r),compressionType:n}))}}class v7 extends Yw{_fetchData(t){return Xw(t,"arraybuffer").then(n=>new Uint8Array(n))}}class ON extends MN{_createSVG(t){return document.createElementNS(Ra,t)}}class qg{constructor({viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,f=0,p=1;break;case 90:c=0,d=1,f=1,p=0;break;case 270:c=0,d=-1,f=-1,p=0;break;case 0:c=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,v,b,w;c===0?(g=Math.abs(l-t[1])*n+i,v=Math.abs(a-t[0])*n+s,b=(t[3]-t[1])*n,w=(t[2]-t[0])*n):(g=Math.abs(a-t[0])*n+i,v=Math.abs(l-t[1])*n+s,b=(t[2]-t[0])*n,w=(t[3]-t[1])*n),this.transform=[c*n,d*n,f*n,p*n,g-c*n*a-f*n*l,v-d*n*a-p*n*l],this.width=b,this.height=w}get rawDims(){const{viewBox:t}=this;return Rt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new qg({viewBox:this.viewBox.slice(),scale:t,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(t,n){return $e.applyTransform([t,n],this.transform)}convertToViewportRectangle(t){const n=$e.applyTransform([t[0],t[1]],this.transform),r=$e.applyTransform([t[2],t[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(t,n){return $e.applyInverseTransform([t,n],this.transform)}}class DN extends Sc{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function IN(e){const t=e.length;let n=0;for(;n<t&&e[n].trim()==="";)n++;return e.substring(n,n+5).toLowerCase()==="data:"}function jN(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function bRe(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function xRe(e,t="document.pdf"){if(typeof e!="string")return t;if(IN(e))return vt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||t}class X5{started=Object.create(null);times=[];time(t){t in this.started&&vt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||vt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)t.push(`${r.padEnd(n)} ${s-i}ms
`);return t.join("")}}function Xp(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return n==="http:"||n==="https:"}catch{return!1}}function Pi(e){e.preventDefault()}function y7(e){console.log("Deprecated API usage: "+e)}let Z5;class b7{static toDateObject(t){if(!t||typeof t!="string")return null;Z5||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=Z5.exec(t);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let f=parseInt(n[9],10)||0;return f=f>=0&&f<=59?f:0,c==="-"?(o+=d,a+=f):c==="+"&&(o-=d,a-=f),new Date(Date.UTC(r,i,s,o,a,l))}}function wRe(e,{scale:t=1,rotation:n=0}){const{width:r,height:i}=e.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new qg({viewBox:s,scale:t,rotation:n})}function LN(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(vt(`Not a valid color format: "${e}"`),[0,0,0])}function SRe(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,LN(r))}t.remove()}function Cn(e){const{a:t,b:n,c:r,d:i,e:s,f:o}=e.getTransform();return[t,n,r,i,s,o]}function Ta(e){const{a:t,b:n,c:r,d:i,e:s,f:o}=e.getTransform().invertSelf();return[t,n,r,i,s,o]}function Mu(e,t,n=!1,r=!0){if(t instanceof qg){const{pageWidth:i,pageHeight:s}=t.rawDims,{style:o}=e,a=Ci.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,d=a?`round(${l}, 1px)`:`calc(${l})`,f=a?`round(${c}, 1px)`:`calc(${c})`;!n||t.rotation%180===0?(o.width=d,o.height=f):(o.width=f,o.height=d)}r&&e.setAttribute("data-main-rotation",t.rotation)}class zN{#e=null;#t=null;#n;#i=null;constructor(t){this.#n=t}render(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const n=this.#n._uiManager._signal;t.addEventListener("contextmenu",Pi,{signal:n}),t.addEventListener("pointerdown",zN.#s,{signal:n});const r=this.#i=document.createElement("div");r.className="buttons",t.append(r);const i=this.#n.toolbarPosition;if(i){const{style:s}=t,o=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}static#s(t){t.stopPropagation()}#r(t){this.#n._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#o(t){this.#n._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#l(t){const n=this.#n._uiManager._signal;t.addEventListener("focusin",this.#r.bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",this.#o.bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",Pi,{signal:n})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden")}#u(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#n.editorType}-button`),this.#l(t),t.addEventListener("click",n=>{this.#n._uiManager.delete()},{signal:this.#n._uiManager._signal}),this.#i.append(t)}get#d(){const t=document.createElement("div");return t.className="divider",t}addAltTextButton(t){this.#l(t),this.#i.prepend(t,this.#d)}addColorPicker(t){this.#t=t;const n=t.renderButton();this.#l(n),this.#i.prepend(n,this.#d)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class ERe{#e=null;#t=null;#n;constructor(t){this.#n=t}#i(){const t=this.#t=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Pi,{signal:this.#n._signal});const n=this.#e=document.createElement("div");return n.className="buttons",t.append(n),this.#r(),t}#s(t,n){let r=0,i=0;for(const s of t){const o=s.y+s.height;if(o<r)continue;const a=s.x+(n?s.width:0);if(o>r){i=a,r=o;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]}show(t,n,r){const[i,s]=this.#s(n,r),{style:o}=this.#t||=this.#i();t.append(this.#t),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=this.#n._signal;t.addEventListener("contextmenu",Pi,{signal:r}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:r}),this.#e.append(t)}}function ex(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}function _Re(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}class CRe{#e=0;get id(){return`${rRe}${this.#e++}`}}class FN{#e=gRe();#t=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Rt(this,"_isSVGFittingCanvas",s)}async#i(t,n){this.#n||=new Map;let r=this.#n.get(t);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await Xw(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const s=FN._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,c()},o.onload=async()=>{const f=r.svgUrl=o.result;a.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},a.onerror=o.onerror=d});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return this.#n.set(t,r),r&&this.#n.set(r.id,r),r}async getFromFile(t){const{lastModified:n,name:r,size:i,type:s}=t;return this.#i(`${n}_${r}_${i}_${s}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromId(t){this.#n||=new Map;const n=this.#n.get(t);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(t){const n=this.#n.get(t);return n?.isSvg?n.svgUrl:null}deleteId(t){this.#n||=new Map;const n=this.#n.get(t);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(t){return t.startsWith(`image_${this.#e}_`)}}class ARe{#e=[];#t=!1;#n;#i=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&t(),this.#t)return;const l={cmd:t,undo:n,post:r,type:s};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(l);return}if(o&&this.#e[this.#i].type===s){a&&(l.undo=this.#e[this.#i].undo),this.#e[this.#i]=l;return}const c=this.#i+1;c===this.#n?this.#e.splice(0,1):(this.#i=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#i===-1)return;this.#t=!0;const{undo:t,post:n}=this.#e[this.#i];t(),n?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;const{cmd:t,post:n}=this.#e[this.#i];t(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}class Wg{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Ci.platform;for(const[r,i,s={}]of t)for(const o of r){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(t,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(t,n)||(i.bind(t,...o,n)(),s||(n.stopPropagation(),n.preventDefault()))}}class $N{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return SRe(t),Rt(this,"_colors",t)}convert(t){const n=LN(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,o)=>s===n[o]))return $N._colorsMapping.get(r);return n}getHexCode(t){const n=this._colors.get(t);return n?$e.makeHexColor(...n):t}}class fc{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#r=null;#o=null;#l=new ARe;#u=0;#d=new Set;#h=null;#c=null;#a=new Set;#p=!1;#m=null;#f=null;#v=null;#g=!1;#b=null;#x=new CRe;#S=!1;#_=!1;#C=null;#T=null;#A=null;#w=At.NONE;#y=new Set;#E=null;#R=null;#k=null;#M=this.blur.bind(this);#N=this.focus.bind(this);#I=this.copy.bind(this);#O=this.cut.bind(this);#j=this.paste.bind(this);#D=this.keydown.bind(this);#V=this.keyup.bind(this);#q=this.onEditingAction.bind(this);#B=this.onPageChanging.bind(this);#$=this.onScaleChanging.bind(this);#L=this.onRotationChanging.bind(this);#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#U=[0,0];#z=null;#H=null;#X=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=fc.prototype,n=o=>o.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new Wg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&o.#H.contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&o.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(t,n,r,i,s,o,a,l,c){this._signal=this.#e.signal,this.#H=t,this.#X=n,this.#s=r,this._eventBus=i,this._eventBus._on("editingaction",this.#q),this._eventBus._on("pagechanging",this.#B),this._eventBus._on("scalechanging",this.#$),this._eventBus._on("rotationchanging",this.#L),this.#ie(),this.#le(),this.#Z(),this.#r=s.annotationStorage,this.#m=s.filterFactory,this.#R=o,this.#v=a||null,this.#p=l,this.#A=c||null,this.viewParameters={realScale:$f.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null,this._eventBus._off("editingaction",this.#q),this._eventBus._off("pagechanging",this.#B),this._eventBus._off("scalechanging",this.#$),this._eventBus._off("rotationchanging",this.#L);for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#a.clear(),this.#t=null,this.#y.clear(),this.#l.destroy(),this.#s?.destroy(),this.#b?.hide(),this.#b=null,this.#f&&(clearTimeout(this.#f),this.#f=null),this.#z&&(clearTimeout(this.#z),this.#z=null)}async mlGuess(t){return this.#A?.guess(t)||null}get hasMLManager(){return!!this.#A}get hcmFilter(){return Rt(this,"hcmFilter",this.#R?this.#m.addHCMFilter(this.#R.foreground,this.#R.background):"none")}get direction(){return Rt(this,"direction",getComputedStyle(this.#H).direction)}get highlightColors(){return Rt(this,"highlightColors",this.#v?new Map(this.#v.split(",").map(t=>t.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Rt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#T=t}editAltText(t){this.#s?.editAltText(this,t)}onPageChanging({pageNumber:t}){this.#u=t-1}focusMainContainer(){this.#H.focus()}findParent(t,n){for(const r of this.#i.values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(t>=i&&t<=i+o&&n>=s&&n<=s+a)return r}return null}disableUserSelect(t=!1){this.#X.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#a.add(t)}removeShouldRescale(t){this.#a.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*$f.PDF_TO_CSS_UNITS;for(const n of this.#a)n.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#G({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}highlightSelection(t=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=n,a=n.toString(),c=this.#G(n).closest(".textLayer"),d=this.getSelectionBoxes(c);if(d){n.empty(),this.#w===At.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:At.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const f of this.#i.values())if(f.hasTextLayer(c)){f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}#ne(){const t=document.getSelection();if(!t||t.isCollapsed)return;const r=this.#G(t).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#b||=new ERe(this),this.#b.show(r,i,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}#re(){const t=document.getSelection();if(!t||t.isCollapsed){this.#E&&(this.#b?.hide(),this.#E=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===this.#E)return;if(!this.#G(t).closest(".textLayer")){this.#E&&(this.#b?.hide(),this.#E=null,this.#P({hasSelectedText:!1}));return}if(this.#b?.hide(),this.#E=n,this.#P({hasSelectedText:!0}),!(this.#w!==At.HIGHLIGHT&&this.#w!==At.NONE)&&(this.#w===At.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#g=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this._signal,o=a=>{a.type==="pointerup"&&a.button!==0||(window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),a.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}}#K(t=""){this.#w===At.HIGHLIGHT?this.highlightSelection(t):this.#p&&this.#ne()}#ie(){document.addEventListener("selectionchange",this.#re.bind(this),{signal:this._signal})}#se(){const t=this._signal;window.addEventListener("focus",this.#N,{signal:t}),window.addEventListener("blur",this.#M,{signal:t})}#oe(){window.removeEventListener("focus",this.#N),window.removeEventListener("blur",this.#M)}blur(){if(this.isShiftKeyDown=!1,this.#g&&(this.#g=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of this.#y)if(n.div.contains(t)){this.#C=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#C)return;const[t,n]=this.#C;this.#C=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Z(){const t=this._signal;window.addEventListener("keydown",this.#D,{signal:t}),window.addEventListener("keyup",this.#V,{signal:t})}#ae(){window.removeEventListener("keydown",this.#D),window.removeEventListener("keyup",this.#V)}#Q(){const t=this._signal;document.addEventListener("copy",this.#I,{signal:t}),document.addEventListener("cut",this.#O,{signal:t}),document.addEventListener("paste",this.#j,{signal:t})}#J(){document.removeEventListener("copy",this.#I),document.removeEventListener("cut",this.#O),document.removeEventListener("paste",this.#j)}#le(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Z(),this.#Q()}removeEditListeners(){this.#ae(),this.#J()}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#y){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:n}=t;for(const s of n.items)for(const o of this.#c)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){vt(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)this.#ee(l);this.#te(s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){vt(`paste: "${s.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#w!==At.NONE&&!this.isEditorHandlingKeyboard&&fc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#g&&(this.#g=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#P(t){Object.entries(t).some(([r,i])=>this.#Y[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#w===At.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#F([[nt.HIGHLIGHT_FREE,!0]]))}#F(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#se(),this.#Q(),this.#P({isEditing:this.#w!==At.NONE,isEmpty:this.#W(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#oe(),this.#J(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const n of this.#c)this.#F(n.defaultPropertiesToUpdate)}}getId(){return this.#x.id}get currentLayer(){return this.#i.get(this.#u)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#u}addLayer(t){this.#i.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}updateMode(t,n=null,r=!1){if(this.#w!==t){if(this.#w=t,t===At.NONE){this.setEditingState(!1),this.#ue();return}this.setEditingState(!0),this.#ce(),this.unselectAll();for(const i of this.#i.values())i.updateMode(t);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of this.#n.values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#w&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,n){if(this.#c){switch(t){case nt.CREATE:this.currentLayer.addNewEditor();return;case nt.HIGHLIGHT_DEFAULT_COLOR:this.#T?.updateColor(n);break;case nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#k||=new Map).set(t,n),this.showAllEditors("highlight",n);break}for(const r of this.#y)r.updateParams(t,n);for(const r of this.#c)r.updateDefaultParams(t,n)}}showAllEditors(t,n,r=!1){for(const s of this.#n.values())s.editorType===t&&s.show(n);(this.#k?.get(nt.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#F([[nt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#_!==t){this.#_=t;for(const n of this.#i.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}#ce(){if(!this.#S){this.#S=!0;for(const t of this.#i.values())t.enable();for(const t of this.#n.values())t.enable()}}#ue(){if(this.unselectAll(),this.#S){this.#S=!1;for(const t of this.#i.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const n=[];for(const r of this.#n.values())r.pageIndex===t&&n.push(r);return n}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.focusMainContainer(),this.#f=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#d.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#d.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#d.has(t)}removeDeletedAnnotationElement(t){this.#d.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#ee(t){const n=this.#i.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#F(t.propertiesToUpdate))}get#de(){let t=null;for(t of this.#y);return t}updateUI(t){this.#de===t&&this.#F(t.propertiesToUpdate)}toggleSelected(t){if(this.#y.has(t)){this.#y.delete(t),t.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#y.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(t){for(const n of this.#y)n!==t&&n.unselect();this.#y.clear(),this.#y.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(t){return this.#y.has(t)}get firstSelectedEditor(){return this.#y.values().next().value}unselect(t){t.unselect(),this.#y.delete(t),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#y.size!==0}get isEnterHandled(){return this.#y.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#P({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#W()})}redo(){this.#l.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#W()})}addCommands(t){this.#l.add(t),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#W()})}#W(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#y],n=()=>{for(const i of t)i.remove()},r=()=>{for(const i of t)this.#ee(i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#te(t){for(const n of this.#y)n.unselect();this.#y.clear();for(const n of t)n.isEmpty()||(this.#y.add(n),n.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#y)t.commit();this.#te(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#w!==At.NONE))&&this.hasSelection){for(const t of this.#y)t.unselect();this.#y.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#U[0]+=t,this.#U[1]+=n;const[i,s]=this.#U,o=[...this.#y],a=1e3;this.#z&&clearTimeout(this.#z),this.#z=setTimeout(()=>{this.#z=null,this.#U[0]=this.#U[1]=0,this.addCommands({cmd:()=>{for(const l of o)this.#n.has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)this.#n.has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a);for(const l of o)l.translateInPage(t,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#h=new Map;for(const t of this.#y)this.#h.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#h)return!1;this.disableUserSelect(!1);const t=this.#h;this.#h=null;let n=!1;for(const[{x:i,y:s,pageIndex:o},a]of t)a.newX=i,a.newY=s,a.newPageIndex=o,n||=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex;if(!n)return!1;const r=(i,s,o,a)=>{if(this.#n.has(i.id)){const l=this.#i.get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of t)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of t)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#h)for(const r of this.#h.keys())r.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#y.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#w}get imageManager(){return Rt(this,"imageManager",new FN)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let c=0,d=n.rangeCount;c<d;c++)if(!t.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(c,d,f,p)=>({x:(d-i)/o,y:1-(c+f-r)/s,width:p/o,height:f/s});break;case"180":a=(c,d,f,p)=>({x:1-(c+f-r)/s,y:1-(d+p-i)/o,width:f/s,height:p/o});break;case"270":a=(c,d,f,p)=>({x:1-(d+p-i)/o,y:(c-r)/s,width:p/o,height:f/s});break;default:a=(c,d,f,p)=>({x:(c-r)/s,y:(d-i)/o,width:f/s,height:p/o});break}const l=[];for(let c=0,d=n.rangeCount;c<d;c++){const f=n.getRangeAt(c);if(!f.collapsed)for(const{x:p,y:g,width:v,height:b}of f.getClientRects())v===0||b===0||l.push(a(p,g,v,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#o||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const n=this.#o?.get(t.data.id);if(!n)return;const r=this.#r.getRawValue(n);r&&(this.#w===At.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}}class fu{#e="";#t=!1;#n=null;#i=null;#s=null;#r=!1;#o=null;static _l10nPromise=null;constructor(t){this.#o=t}static initialize(t){fu._l10nPromise||=t}async render(){const t=this.#n=document.createElement("button");t.className="altText";const n=await fu._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=n,t.setAttribute("aria-label",n),t.tabIndex="0";const r=this.#o._uiManager._signal;t.addEventListener("contextmenu",Pi,{signal:r}),t.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#o._uiManager.editAltText(this.#o)};return t.addEventListener("click",i,{capture:!0,signal:r}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(this.#r=!0,i(s))},{signal:r}),await this.#l(),t}finish(){this.#n&&(this.#n.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return!this.#e&&!this.#t}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:n}){this.#e===t&&this.#t===n||(this.#e=t,this.#t=n,this.#l())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}destroy(){this.#n?.remove(),this.#n=null,this.#i=null}async#l(){const t=this.#n;if(!t)return;if(!this.#e&&!this.#t){t.classList.remove("done"),this.#i?.remove();return}t.classList.add("done"),fu._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(i=>{t.setAttribute("aria-label",i)});let n=this.#i;if(!n){this.#i=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip");const i=n.id=`alt-text-tooltip-${this.#o.id}`;t.setAttribute("aria-describedby",i);const s=100,o=this.#o._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#i.classList.add("show"),this.#o._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i?.classList.remove("show")},{signal:o})}n.innerText=this.#t?await fu._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#e,n.parentNode||t.append(n),this.#o.getImageForAltText()?.setAttribute("aria-describedby",n.id)}}class et{#e=null;#t=null;#n=null;#i=!1;#s=!1;#r=null;#o=null;#l=this.focusin.bind(this);#u=this.focusout.bind(this);#d=null;#h="";#c=!1;#a=null;#p=!1;#m=!1;#f=!1;#v=null;#g=0;#b=0;#x=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#S=!1;#_=et._zIndex++;static _borderLineWidth=-1;static _colorManager=new $N;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=et.prototype._resizeWithKeyboard,n=fc.TRANSLATE_SMALL,r=fc.TRANSLATE_BIG;return Rt(this,"_resizerKeyboardManager",new Wg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,r]}],[["Escape","mac+Escape"],et.prototype._stopResizingWithKeyboard]]))}constructor(t){this.constructor===et&&Yt("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Rt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new TRe({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n,r){if(et._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,t.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))])),r?.strings)for(const s of r.strings)et._l10nPromise.set(s,t.get(s));if(et._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);et._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){Yt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#D(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(t+r)/s,this.y=(n+i)/o,this.fixAndSetPosition()}#C([t,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/t,this.y+=i/n,this.fixAndSetPosition()}translate(t,n){this.#C(this.parentDimensions,t,n)}translateInPage(t,n){this.#a||=[this.x,this.y],this.#C(this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}drag(t,n){this.#a||=[this.x,this.y];const[r,i]=this.parentDimensions;if(this.x+=t/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#a&&(this.#a[0]!==this.x||this.#a[1]!==this.y)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:r}=et,i=r/t,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=n,a*=r,i*=n,s*=r,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(n-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(n-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(n,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(n,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=n,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:d}=this.div;d.left=`${(100*i).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#T(t,n,r){switch(r){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}}screenToPageTranslation(t,n){return et.#T(t,n,this.parentRotation)}pageTranslationToScreen(t,n){return et.#T(t,n,360-this.parentRotation)}#A(t){switch(t){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,r]}=this,i=n*t,s=r*t;return Ci.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(t,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*t/r).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:n,width:r}=t,i=r.endsWith("%"),s=!this.#s&&n.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(t.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!this.#s&&!s&&(t.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#w(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of t){const i=document.createElement("div");this.#r.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#y.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Pi,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#r)}#y(t,n){n.preventDefault();const{isMac:r}=Ci.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#n?.toggle(!1);const i=this.#R.bind(this,t),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Pi,{signal:o});const l=this.x,c=this.y,d=this.width,f=this.height,p=this.parent.div.style.cursor,g=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const v=()=>{this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Pi),this.parent.div.style.cursor=p,this.div.style.cursor=g,this.#E(l,c,d,f)};window.addEventListener("pointerup",v,{signal:o}),window.addEventListener("blur",v,{signal:o})}#E(t,n,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===t&&o===n&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[c,d]=this.parentDimensions;this.setDims(c*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=t,this.y=n;const[c,d]=this.parentDimensions;this.setDims(c*r,d*i),this.fixAndSetPosition()},mustExec:!0})}#R(t,n){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,c=et.MIN_SIZE/r,d=et.MIN_SIZE/i,f=H=>Math.round(H*1e4)/1e4,p=this.#A(this.rotation),g=(H,B)=>[p[0]*H+p[2]*B,p[1]*H+p[3]*B],v=this.#A(360-this.rotation),b=(H,B)=>[v[0]*H+v[2]*B,v[1]*H+v[3]*B];let w,S,C=!1,_=!1;switch(t){case"topLeft":C=!0,w=(H,B)=>[0,0],S=(H,B)=>[H,B];break;case"topMiddle":w=(H,B)=>[H/2,0],S=(H,B)=>[H/2,B];break;case"topRight":C=!0,w=(H,B)=>[H,0],S=(H,B)=>[0,B];break;case"middleRight":_=!0,w=(H,B)=>[H,B/2],S=(H,B)=>[0,B/2];break;case"bottomRight":C=!0,w=(H,B)=>[H,B],S=(H,B)=>[0,0];break;case"bottomMiddle":w=(H,B)=>[H/2,B],S=(H,B)=>[H/2,0];break;case"bottomLeft":C=!0,w=(H,B)=>[0,B],S=(H,B)=>[H,0];break;case"middleLeft":_=!0,w=(H,B)=>[0,B/2],S=(H,B)=>[H,B/2];break}const k=w(a,l),R=S(a,l);let N=g(...R);const T=f(s+N[0]),M=f(o+N[1]);let O=1,L=1,[D,F]=this.screenToPageTranslation(n.movementX,n.movementY);if([D,F]=b(D/r,F/i),C){const H=Math.hypot(a,l);O=L=Math.max(Math.min(Math.hypot(R[0]-k[0]-D,R[1]-k[1]-F)/H,1/a,1/l),c/a,d/l)}else _?O=Math.max(c,Math.min(1,Math.abs(R[0]-k[0]-D)))/a:L=Math.max(d,Math.min(1,Math.abs(R[1]-k[1]-F)))/l;const G=f(a*O),z=f(l*L);N=g(...S(G,z));const V=T-N[0],j=M-N[1];this.width=G,this.height=z,this.x=V,this.y=j,this.setDims(r*G,i*z),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this.#d||this.#m?this.#d:(this.#d=new zN(this),this.div.append(this.#d.render()),this.#n&&this.#d.addAltTextButton(await this.#n.render()),this.#d)}removeEditToolbar(){this.#d&&(this.#d.remove(),this.#d=null,this.#n?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(fu.initialize(et._l10nPromise),this.#n=new fu(this),this.#e&&(this.#n.data=this.#e,this.#e=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}hasAltText(){return!this.#n?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",this.#l,{signal:t}),this.div.addEventListener("focusout",this.#u,{signal:t});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),ex(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:n}=Ci.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#M(t);return}this.#k(t)}#k(t){const{isMac:n}=Ci.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#M(t){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},this.#g=t.clientX,this.#b=t.clientY,i=a=>{const{clientX:l,clientY:c}=a,[d,f]=this.screenToPageTranslation(l-this.#g,c-this.#b);this.#g=l,this.#b=c,this._uiManager.dragSelectedEditors(d,f)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),this.#c=!1,this._uiManager.endDragSession()||this.#k(t)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,n,r){t.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(t,n,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/i,d=n/i,f=this.x*s,p=this.y*o,g=this.width*s,v=this.height*o;switch(r){case 0:return[f+c+a,o-p-d-v+l,f+c+g+a,o-p-d+l];case 90:return[f+d+a,o-p+c+l,f+d+v+a,o-p+c+g+l];case 180:return[f-c-g+a,o-p+d+l,f-c+a,o-p+d+v+l];case 270:return[f-d-v+a,o-p-c-g+l,f-d+a,o-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[r,i,s,o]=t,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,n-o,a,l];case 90:return[r,n-i,l,a];case 180:return[s,n-i,a,l];case 270:return[s,n-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#m=!0}disableEditMode(){this.#m=!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#f}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){const t=this._uiManager._signal;this.div?.addEventListener("focusin",this.#l,{signal:t}),this.div?.addEventListener("focusout",this.#u,{signal:t})}rotate(t){}serialize(t=!1,n=null){Yt("An editor must be serializable")}static deserialize(t,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=t.rotation,i.#e=t.accessibilityData;const[s,o]=i.pageDimensions,[a,l,c,d]=i.getRectInCurrentCoords(t.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=d/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#u),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#D(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#w(),this.#r.classList.remove("hidden"),ex(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#o={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#r.children;if(!this.#t){this.#t=Array.from(n);const o=this.#N.bind(this),a=this.#I.bind(this),l=this._uiManager._signal;for(const c of this.#t){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",this.#O.bind(this,d),{signal:l}),et._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(f=>c.setAttribute("aria-label",f))}}const r=this.#t[0];let i=0;for(const o of n){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)this.#r.append(this.#r.firstChild);else if(s>i)for(let a=0;a<s-i;a++)this.#r.firstChild.before(this.#r.lastChild);let o=0;for(const a of n){const c=this.#t[o++].getAttribute("data-resizer-name");et._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(d=>a.setAttribute("aria-label",d))}}this.#j(0),this.#f=!0,this.#r.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#N(t){et._resizerKeyboardManager.exec(this,t)}#I(t){this.#f&&t.relatedTarget?.parentNode!==this.#r&&this.#D()}#O(t){this.#h=this.#f?t:""}#j(t){if(this.#t)for(const n of this.#t)n.tabIndex=t}_resizeWithKeyboard(t,n){this.#f&&this.#R(this.#h,{movementX:t,movementY:n})}#D(){if(this.#f=!1,this.#j(-1),this.#o){const{savedX:t,savedY:n,savedWidth:r,savedHeight:i}=this.#o;this.#E(t,n,r,i),this.#o=null}}_stopResizingWithKeyboard(){this.#D(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this.#d){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#d?.show()});return}this.#d?.show()}unselect(){this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#d?.hide()}updateParams(t,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,n){this.#s=!0;const r=t/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){this.#x||=new Map;const{action:r}=t;let i=this.#x.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(r),this.#x.size===0&&(this.#x=null)},et._telemetryTimeout),this.#x.set(r,i);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(t){const{firstChild:n}=t.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class TRe extends et{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Q5=3285377520,ps=4294901760,So=65535;class x7{constructor(t){this.h1=t?t&4294967295:Q5,this.h2=t?t&4294967295:Q5}update(t){let n,r;if(typeof t=="string"){n=new Uint8Array(t.length*2),r=0;for(let b=0,w=t.length;b<w;b++){const S=t.charCodeAt(b);S<=255?n[r++]=S:(n[r++]=S>>>8,n[r++]=S&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(n.buffer,0,i);let a=0,l=0,c=this.h1,d=this.h2;const f=3432918353,p=461845907,g=f&So,v=p&So;for(let b=0;b<i;b++)b&1?(a=o[b],a=a*f&ps|a*g&So,a=a<<15|a>>>17,a=a*p&ps|a*v&So,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[b],l=l*f&ps|l*g&So,l=l<<15|l>>>17,l=l*p&ps|l*v&So,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,s){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*f&ps|a*g&So,a=a<<15|a>>>17,a=a*p&ps|a*v&So,i&1?c^=a:d^=a}this.h1=c,this.h2=d}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&ps|t*36045&So,n=n*4283543511&ps|((n<<16|t>>>16)*2950163797&ps)>>>16,t^=n>>>1,t=t*444984403&ps|t*60499&So,n=n*3301882366&ps|((n<<16|t>>>16)*3120437893&ps)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const rR=Object.freeze({map:null,hash:"",transfer:void 0});class HN{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const r=this.#t.get(t);return r===void 0?n:Object.assign(n,r)}getRawValue(t){return this.#t.get(t)}remove(t){if(this.#t.delete(t),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#t.values())if(n instanceof et)return;this.onAnnotationEditor(null)}}setValue(t,n){const r=this.#t.get(t);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(n))r[s]!==o&&(i=!0,r[s]=o);else i=!0,this.#t.set(t,n);i&&this.#n(),n instanceof et&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(t){return this.#t.has(t)}getAll(){return this.#t.size>0?NN(this.#t):null}setAll(t){for(const[n,r]of Object.entries(t))this.setValue(n,r)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new w7(this)}get serializable(){if(this.#t.size===0)return rR;const t=new Map,n=new x7,r=[],i=Object.create(null);let s=!1;for(const[o,a]of this.#t){const l=a instanceof et?a.serialize(!1,i):a;l&&(t.set(o,l),n.update(`${o}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const o of t.values())o.bitmap&&r.push(o.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:r}:rR}get editorStats(){let t=null;const n=new Map;for(const r of this.#t.values()){if(!(r instanceof et))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;n.has(s)||n.set(s,Object.getPrototypeOf(r).constructor),t||=Object.create(null);const o=t[s]||=new Map;for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[r,i]of n)t[r]=i.computeTelemetryFinalData(t[r]);return t}}class w7 extends HN{#e;constructor(t){super();const{map:n,hash:r,transfer:i}=t.serializable,s=structuredClone(n,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){Yt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}class RRe{#e=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:n}){if(!(!t||this.#e.has(t.loadedName))){if(pr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=t,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),this.#e.add(r),n?.(t)}catch{vt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Yt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const r=t.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw vt(`Failed to load font '${r.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Rt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Kr||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Rt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function n(){for(pr(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:t};return r.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Rt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function r(k,R){return k.charCodeAt(R)<<24|k.charCodeAt(R+1)<<16|k.charCodeAt(R+2)<<8|k.charCodeAt(R+3)&255}function i(k,R,N,T){const M=k.substring(0,R),O=k.substring(R+N);return M+T+O}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function d(k,R){if(++c>30){vt("Load test font never loaded."),R();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(d.bind(null,k,R))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,f.length,f);const v=16,b=1482184792;let w=r(p,v);for(s=0,o=f.length-3;s<o;s+=4)w=w-b+r(f,s)|0;s<f.length&&(w=w-b+r(f+"XXX",s)|0),p=i(p,v,4,dRe(w));const S=`url(data:font/opentype;base64,${btoa(p)});`,C=`@font-face {font-family:"${f}";src:${S}}`;this.insertRule(C);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const k of[t.loadedName,f]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=k,_.append(R)}this._document.body.append(_),d(f,()=>{_.remove(),n.complete()})}}class kRe{constructor(t,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=p7(this.data),n=`url(data:${this.mimetype};base64,${btoa(t)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${n}}`}return this._inspectFont?.(this,n),r}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=t.get(this.loadedName+"_path_"+n)}catch(s){vt(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case Aa.BEZIER_CURVE_TO:{const[a,l,c,d,f,p]=r.slice(s,s+6);i.push(g=>g.bezierCurveTo(a,l,c,d,f,p)),s+=6}break;case Aa.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case Aa.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case Aa.QUADRATIC_CURVE_TO:{const[a,l,c,d]=r.slice(s,s+4);i.push(f=>f.quadraticCurveTo(a,l,c,d)),s+=4}break;case Aa.RESTORE:i.push(a=>a.restore());break;case Aa.SAVE:i.push(a=>a.save());break;case Aa.SCALE:pr(i.length===2,"Scale command is only valid at the third position.");break;case Aa.TRANSFORM:{const[a,l,c,d,f,p]=r.slice(s,s+6);i.push(g=>g.transform(a,l,c,d,f,p)),s+=6}break;case Aa.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[n]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,c=i.length;l<c;l++)i[l](o)}}}if(Kr){var iR=Promise.withResolvers(),sR=null;(async()=>{const t=await of(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await of(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await of(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await of(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:t,http:n,https:r,url:i,canvas:s,path2d:o}))})().then(t=>{sR=t,iR.resolve()},t=>{vt(`loadPackages: ${t}`),sR=new Map,iR.resolve()})}class Wo{static get promise(){return iR.promise}static get(t){return sR?.get(t)}}const S7=function(e){return Wo.get("fs").promises.readFile(e).then(n=>new Uint8Array(n))};class PRe extends Ww{}class NRe extends Gw{_createCanvas(t,n){return Wo.get("canvas").createCanvas(t,n)}}class MRe extends Kw{_fetchData(t,n){return S7(t).then(r=>({cMapData:r,compressionType:n}))}}class ORe extends Yw{_fetchData(t){return S7(t)}}const ti={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function oR(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class Gg{constructor(){this.constructor===Gg&&Yt("Cannot initialize BaseShadingPattern.")}getPattern(){Yt("Abstract method `getPattern` called.")}}class DRe extends Gg{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let n;this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(t,n,r,i){let s;if(i===ti.STROKE||i===ti.FILL){const o=n.current.getClippedPathBoundingBox(i,Cn(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=n.cachedCanvases.getCanvas("pattern",a,l,!0),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=$e.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),oR(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=t.createPattern(c.canvas,"no-repeat");const f=new DOMMatrix(r);s.setTransform(f)}else oR(t,this._bbox),s=this._createGradient(t);return s}}function pC(e,t,n,r,i,s,o,a){const l=t.coords,c=t.colors,d=e.data,f=e.width*4;let p;l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=s,s=o,o=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=o,o=a,a=p),l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=s,s=o,o=p);const g=(l[n]+t.offsetX)*t.scaleX,v=(l[n+1]+t.offsetY)*t.scaleY,b=(l[r]+t.offsetX)*t.scaleX,w=(l[r+1]+t.offsetY)*t.scaleY,S=(l[i]+t.offsetX)*t.scaleX,C=(l[i+1]+t.offsetY)*t.scaleY;if(v>=C)return;const _=c[s],k=c[s+1],R=c[s+2],N=c[o],T=c[o+1],M=c[o+2],O=c[a],L=c[a+1],D=c[a+2],F=Math.round(v),G=Math.round(C);let z,V,j,H,B,K,U,q;for(let Y=F;Y<=G;Y++){if(Y<w){const ee=Y<v?0:(v-Y)/(v-w);z=g-(g-b)*ee,V=_-(_-N)*ee,j=k-(k-T)*ee,H=R-(R-M)*ee}else{let ee;Y>C?ee=1:w===C?ee=0:ee=(w-Y)/(w-C),z=b-(b-S)*ee,V=N-(N-O)*ee,j=T-(T-L)*ee,H=M-(M-D)*ee}let $;Y<v?$=0:Y>C?$=1:$=(v-Y)/(v-C),B=g-(g-S)*$,K=_-(_-O)*$,U=k-(k-L)*$,q=R-(R-D)*$;const J=Math.round(Math.min(z,B)),se=Math.round(Math.max(z,B));let ue=f*Y+J*4;for(let ee=J;ee<=se;ee++)$=(z-ee)/(z-B),$<0?$=0:$>1&&($=1),d[ue++]=V-(V-K)*$|0,d[ue++]=j-(j-U)*$|0,d[ue++]=H-(H-q)*$|0,d[ue++]=255}}function IRe(e,t,n){const r=t.coords,i=t.colors;let s,o;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let d=s*a;for(let f=0;f<c;f++,d++)pC(e,n,r[d],r[d+1],r[d+a],i[d],i[d+1],i[d+a]),pC(e,n,r[d+a+1],r[d+1],r[d+a],i[d+a+1],i[d+1],i[d+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)pC(e,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class jRe extends Gg{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*t[1]*1.1)),3e3),g=c/f,v=d/p,b={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/g,scaleY:1/v},w=f+4,S=p+4,C=r.getCanvas("mesh",w,S,!1),_=C.context,k=_.createImageData(f,p);if(n){const N=k.data;for(let T=0,M=N.length;T<M;T+=4)N[T]=n[0],N[T+1]=n[1],N[T+2]=n[2],N[T+3]=255}for(const N of this._figures)IRe(k,N,b);return _.putImageData(k,2,2),{canvas:C.canvas,offsetX:a-2*g,offsetY:l-2*v,scaleX:g,scaleY:v}}getPattern(t,n,r,i){oR(t,this._bbox);let s;if(i===ti.SHADING)s=$e.singularValueDecompose2dScale(Cn(t));else if(s=$e.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=$e.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===ti.SHADING?null:this._background,n.cachedCanvases);return i!==ti.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class LRe extends Gg{getPattern(){return"hotpink"}}function zRe(e){switch(e[0]){case"RadialAxial":return new DRe(e);case"Mesh":return new jRe(e);case"Dummy":return new LRe}throw new Error(`Unknown IR type: ${e[0]}`)}const J5={COLORED:1,UNCOLORED:2};class BN{static MAX_PATTERN_SIZE=3e3;constructor(t,n,r,i,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const n=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;Uw("TilingType: "+a);const d=r[0],f=r[1],p=r[2],g=r[3],v=$e.singularValueDecompose2dScale(this.matrix),b=$e.singularValueDecompose2dScale(this.baseTransform),w=[v[0]*b[0],v[1]*b[1]],S=this.getSizeAndScale(i,this.ctx.canvas.width,w[0]),C=this.getSizeAndScale(s,this.ctx.canvas.height,w[1]),_=t.cachedCanvases.getCanvas("pattern",S.size,C.size,!0),k=_.context,R=c.createCanvasGraphics(k);R.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(R,o,l);let N=d,T=f,M=p,O=g;return d<0&&(N=0,M+=Math.abs(d)),f<0&&(T=0,O+=Math.abs(f)),k.translate(-(S.scale*N),-(C.scale*T)),R.transform(S.scale,0,0,C.scale,0,0),k.save(),this.clipBbox(R,N,T,M,O),R.baseTransform=Cn(R.ctx),R.executeOperatorList(n),R.endDrawing(),{canvas:_.canvas,scaleX:S.scale,scaleY:C.scale,offsetX:N,offsetY:T}}getSizeAndScale(t,n,r){t=Math.abs(t);const i=Math.max(BN.MAX_PATTERN_SIZE,n);let s=Math.ceil(t*r);return s>=i?s=i:r=s/t,{scale:r,size:s}}clipBbox(t,n,r,i,s){const o=i-n,a=s-r;t.ctx.rect(n,r,o,a),t.current.updateRectMinMax(Cn(t.ctx),[n,r,i,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,r){const i=t.ctx,s=t.current;switch(n){case J5.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case J5.UNCOLORED:const a=$e.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new uRe(`Unsupported paint type: ${n}`)}}getPattern(t,n,r,i){let s=r;i!==ti.SHADING&&(s=$e.transform(s,n.baseTransform),this.matrix&&(s=$e.transform(s,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=t.createPattern(o.canvas,"repeat");return l.setTransform(a),l}}function FRe({src:e,srcPos:t=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Ci.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],d=r>>3,f=r&7,p=e.length;n=new Uint32Array(n.buffer);let g=0;for(let v=0;v<i;v++){for(const w=t+d;t<w;t++){const S=t<p?e[t]:255;n[g++]=S&128?c:l,n[g++]=S&64?c:l,n[g++]=S&32?c:l,n[g++]=S&16?c:l,n[g++]=S&8?c:l,n[g++]=S&4?c:l,n[g++]=S&2?c:l,n[g++]=S&1?c:l}if(f===0)continue;const b=t<p?e[t++]:255;for(let w=0;w<f;w++)n[g++]=b&1<<7-w?c:l}return{srcPos:t,destPos:g}}const e3=16,t3=100,$Re=15,n3=10,r3=1e3,bi=16;function HRe(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(r,i){t.translate(r,i),this.__originalTranslate(r,i)},e.scale=function(r,i){t.scale(r,i),this.__originalScale(r,i)},e.transform=function(r,i,s,o,a,l){t.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},e.setTransform=function(r,i,s,o,a,l){t.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(r){t.rotate(r),this.__originalRotate(r)},e.clip=function(r){t.clip(r),this.__originalClip(r)},e.moveTo=function(n,r){t.moveTo(n,r),this.__originalMoveTo(n,r)},e.lineTo=function(n,r){t.lineTo(n,r),this.__originalLineTo(n,r)},e.bezierCurveTo=function(n,r,i,s,o,a){t.bezierCurveTo(n,r,i,s,o,a),this.__originalBezierCurveTo(n,r,i,s,o,a)},e.rect=function(n,r,i,s){t.rect(n,r,i,s),this.__originalRect(n,r,i,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class BRe{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,r){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function b0(e,t,n,r,i,s,o,a,l,c){const[d,f,p,g,v,b]=Cn(e);if(f===0&&p===0){const C=o*d+v,_=Math.round(C),k=a*g+b,R=Math.round(k),N=(o+l)*d+v,T=Math.abs(Math.round(N)-_)||1,M=(a+c)*g+b,O=Math.abs(Math.round(M)-R)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(g),_,R),e.drawImage(t,n,r,i,s,0,0,T,O),e.setTransform(d,f,p,g,v,b),[T,O]}if(d===0&&g===0){const C=a*p+v,_=Math.round(C),k=o*f+b,R=Math.round(k),N=(a+c)*p+v,T=Math.abs(Math.round(N)-_)||1,M=(o+l)*f+b,O=Math.abs(Math.round(M)-R)||1;return e.setTransform(0,Math.sign(f),Math.sign(p),0,_,R),e.drawImage(t,n,r,i,s,0,0,O,T),e.setTransform(d,f,p,g,v,b),[O,T]}e.drawImage(t,n,r,i,s,o,a,l,c);const w=Math.hypot(d,f),S=Math.hypot(p,g);return[w*l,S*c]}function URe(e){const{width:t,height:n}=e;if(t>r3||n>r3)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let o=new Uint8Array(s*(n+1)),a,l,c;const d=t+7&-8;let f=new Uint8Array(d*n),p=0;for(const S of e.data){let C=128;for(;C>0;)f[p++]=S&C?0:255,C>>=1}let g=0;for(p=0,f[p]!==0&&(o[0]=1,++g),l=1;l<t;l++)f[p]!==f[p+1]&&(o[l]=f[p]?2:1,++g),p++;for(f[p]!==0&&(o[l]=2,++g),a=1;a<n;a++){p=a*d,c=a*s,f[p-d]!==f[p]&&(o[c]=f[p]?1:8,++g);let S=(f[p]?4:0)+(f[p-d]?8:0);for(l=1;l<t;l++)S=(S>>2)+(f[p+1]?4:0)+(f[p-d+1]?8:0),i[S]&&(o[c+l]=i[S],++g),p++;if(f[p-d]!==f[p]&&(o[c+l]=f[p]?2:4,++g),g>r)return null}for(p=d*(n-1),c=a*s,f[p]!==0&&(o[c]=8,++g),l=1;l<t;l++)f[p]!==f[p+1]&&(o[c+l]=f[p]?4:8,++g),p++;if(f[p]!==0&&(o[c+l]=4,++g),g>r)return null;const v=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=new Path2D;for(a=0;g&&a<=n;a++){let S=a*s;const C=S+t;for(;S<C&&!o[S];)S++;if(S===C)continue;b.moveTo(S%s,a);const _=S;let k=o[S];do{const R=v[k];do S+=R;while(!o[S]);const N=o[S];N!==5&&N!==10?(k=N,o[S]=0):(k=N&51*k>>4,o[S]&=k>>2|k<<2),b.lineTo(S%s,S/s|0),o[S]||--g}while(_!==S);--a}return f=null,o=null,function(S){S.save(),S.scale(1/t,-1/n),S.translate(0,-n),S.fill(b),S.beginPath(),S.restore()}}class i3{constructor(t,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=f7,this.textMatrixScale=1,this.fontMatrix=JT,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Br.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,n])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,n){this.x=t,this.y=n}updatePathMinMax(t,n,r){[n,r]=$e.applyTransform([n,r],t),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(t,n){const r=$e.applyTransform(n,t),i=$e.applyTransform(n.slice(2),t),s=$e.applyTransform([n[0],n[3]],t),o=$e.applyTransform([n[2],n[1]],t);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(t,n){$e.scaleMinMax(t,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(t,n,r,i,s,o,a,l,c,d){const f=$e.bezierBoundingBox(n,r,i,s,o,a,l,c,d);d||this.updateRectMinMax(t,f)}getPathBoundingBox(t=ti.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(t===ti.STROKE){n||Yt("Stroke bounding box must include transform.");const i=$e.singularValueDecompose2dScale(n),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const t=$e.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=ti.FILL,n=null){return $e.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function s3(e,t){if(typeof ImageData<"u"&&t instanceof ImageData){e.putImageData(t,0,0);return}const n=t.height,r=t.width,i=n%bi,s=(n-i)/bi,o=i===0?s:s+1,a=e.createImageData(r,bi);let l=0,c;const d=t.data,f=a.data;let p,g,v,b;if(t.kind===fb.GRAYSCALE_1BPP){const w=d.byteLength,S=new Uint32Array(f.buffer,0,f.byteLength>>2),C=S.length,_=r+7>>3,k=4294967295,R=Ci.isLittleEndian?4278190080:255;for(p=0;p<o;p++){for(v=p<s?bi:i,c=0,g=0;g<v;g++){const N=w-l;let T=0;const M=N>_?r:N*8-7,O=M&-8;let L=0,D=0;for(;T<O;T+=8)D=d[l++],S[c++]=D&128?k:R,S[c++]=D&64?k:R,S[c++]=D&32?k:R,S[c++]=D&16?k:R,S[c++]=D&8?k:R,S[c++]=D&4?k:R,S[c++]=D&2?k:R,S[c++]=D&1?k:R;for(;T<M;T++)L===0&&(D=d[l++],L=128),S[c++]=D&L?k:R,L>>=1}for(;c<C;)S[c++]=0;e.putImageData(a,0,p*bi)}}else if(t.kind===fb.RGBA_32BPP){for(g=0,b=r*bi*4,p=0;p<s;p++)f.set(d.subarray(l,l+b)),l+=b,e.putImageData(a,0,g),g+=bi;p<o&&(b=r*i*4,f.set(d.subarray(l,l+b)),e.putImageData(a,0,g))}else if(t.kind===fb.RGB_24BPP)for(v=bi,b=r*v,p=0;p<o;p++){for(p>=s&&(v=i,b=r*v),c=0,g=b;g--;)f[c++]=d[l++],f[c++]=d[l++],f[c++]=d[l++],f[c++]=255;e.putImageData(a,0,p*bi)}else throw new Error(`bad image kind: ${t.kind}`)}function o3(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const n=t.height,r=t.width,i=n%bi,s=(n-i)/bi,o=i===0?s:s+1,a=e.createImageData(r,bi);let l=0;const c=t.data,d=a.data;for(let f=0;f<o;f++){const p=f<s?bi:i;({srcPos:l}=FRe({src:c,srcPos:l,dest:d,width:r,height:p,nonBlackColor:0})),e.putImageData(a,0,f*bi)}}function Dp(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)e[r]!==void 0&&(t[r]=e[r]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function x0(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0),!Kr){const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}}function a3(e,t){if(t)return!0;const n=$e.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*$f.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const VRe=["butt","round","square"],qRe=["miter","round","bevel"],WRe={},l3={};class Cf{constructor(t,n,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){this.ctx=t,this.current=new i3(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new BRe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}beginDrawing({transform:t,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Cn(this.compositeCtx))}this.ctx.save(),x0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Cn(this.ctx)}executeOperatorList(t,n,r,i){const s=t.argsArray,o=t.fnArray;let a=n||0;const l=s.length;if(l===a)return a;const c=l-a>n3&&typeof r=="function",d=c?Date.now()+$Re:0;let f=0;const p=this.commonObjs,g=this.objs;let v;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(v=o[a],v!==qs.dependency)this[v].apply(this,s[a]);else for(const b of s[a]){const w=b.startsWith("g_")?p:g;if(!w.has(b))return w.get(b,r),a}if(a++,a===l)return a;if(c&&++f>n3){if(Date.now()>d)return r(),a;f=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(t,n){const r=t.width,i=t.height;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,c="prescale1",d,f;for(;s>2&&a>1||o>2&&l>1;){let p=a,g=l;s>2&&a>1&&(p=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/p),o>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/g),d=this.cachedCanvases.getCanvas(c,p,g),f=d.context,f.clearRect(0,0,p,g),f.drawImage(t,0,0,a,l,0,0,p,g),t=d.canvas,a=p,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){const n=this.ctx,{width:r,height:i}=t,s=this.current.fillColor,o=this.current.patternFill,a=Cn(n);let l,c,d,f;if((t.bitmap||t.data)&&t.count>1){const M=t.bitmap||t.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const O=l.get(c);if(O&&!o){const L=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:O,offsetX:L,offsetY:D}}d=O}d||(f=this.cachedCanvases.getCanvas("maskCanvas",r,i),o3(f.context,t));let p=$e.transform(a,[1/r,0,0,-1/i,0,0]);p=$e.transform(p,[1,0,0,1,0,-i]);const[g,v,b,w]=$e.getAxialAlignedBoundingBox([0,0,r,i],p),S=Math.round(b-g)||1,C=Math.round(w-v)||1,_=this.cachedCanvases.getCanvas("fillCanvas",S,C),k=_.context,R=g,N=v;k.translate(-R,-N),k.transform(...p),d||(d=this._scaleImage(f.canvas,Ta(k)),d=d.img,l&&o&&l.set(c,d)),k.imageSmoothingEnabled=a3(Cn(k),t.interpolate),b0(k,d,0,0,d.width,d.height,0,0,r,i),k.globalCompositeOperation="source-in";const T=$e.transform(Ta(k),[1,0,0,1,-R,-N]);return k.fillStyle=o?s.getPattern(n,this,T,ti.FILL):s,k.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,_.canvas)),{canvas:_.canvas,offsetX:Math.round(R),offsetY:Math.round(N)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=VRe[t]}setLineJoin(t){this.ctx.lineJoin=qRe[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=n)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,r]of t)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Cn(this.suspendedCtx)),Dp(this.suspendedCtx,s),HRe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Dp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}genericComposeSMask(t,n,r,i,s,o,a,l,c,d,f){let p=t.canvas,g=l-d,v=c-f;if(o){if(g<0||v<0||g+r>p.width||v+i>p.height){const w=this.cachedCanvases.getCanvas("maskExtension",r,i),S=w.context;S.drawImage(p,-g,-v),o.some(C=>C!==0)&&(S.globalCompositeOperation="destination-atop",S.fillStyle=$e.makeHexColor(...o),S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over"),p=w.canvas,g=v=0}else if(o.some(w=>w!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(g,v,r,i),t.clip(w),t.globalCompositeOperation="destination-atop",t.fillStyle=$e.makeHexColor(...o),t.fillRect(g,v,r,i),t.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const b=new Path2D;b.rect(l,c,r,i),n.clip(b),n.globalCompositeOperation="destination-in",n.drawImage(p,g,v,r,i,l,c,r,i),n.restore()}save(){this.inSMaskMode?(Dp(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Dp(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,n,r,i,s,o){this.ctx.transform(t,n,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const d=Cn(i),f=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,p=f?r.slice(0):null;for(let g=0,v=0,b=t.length;g<b;g++)switch(t[g]|0){case qs.rectangle:o=n[v++],a=n[v++];const w=n[v++],S=n[v++],C=o+w,_=a+S;i.moveTo(o,a),w===0||S===0?i.lineTo(C,_):(i.lineTo(C,a),i.lineTo(C,_),i.lineTo(o,_)),f||s.updateRectMinMax(d,[o,a,C,_]),i.closePath();break;case qs.moveTo:o=n[v++],a=n[v++],i.moveTo(o,a),f||s.updatePathMinMax(d,o,a);break;case qs.lineTo:o=n[v++],a=n[v++],i.lineTo(o,a),f||s.updatePathMinMax(d,o,a);break;case qs.curveTo:l=o,c=a,o=n[v+4],a=n[v+5],i.bezierCurveTo(n[v],n[v+1],n[v+2],n[v+3],o,a),s.updateCurvePathMinMax(d,l,c,n[v],n[v+1],n[v+2],n[v+3],o,a,p),v+=6;break;case qs.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,n[v],n[v+1],n[v+2],n[v+3]),s.updateCurvePathMinMax(d,l,c,o,a,n[v],n[v+1],n[v+2],n[v+3],p),o=n[v+2],a=n[v+3],v+=4;break;case qs.curveTo3:l=o,c=a,o=n[v+2],a=n[v+3],i.bezierCurveTo(n[v],n[v+1],o,a,o,a),s.updateCurvePathMinMax(d,l,c,n[v],n[v+1],o,a,o,a,p),v+=4;break;case qs.closePath:i.closePath();break}f&&s.updateScalingPathMinMax(d,p),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(t=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&r?.getPattern?(n.save(),n.strokeStyle=r.getPattern(n,this,Ta(n),ti.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,Ta(n),ti.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),s&&n.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=WRe}eoClip(){this.pendingClip=l3}beginText(){this.current.textMatrix=f7,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,n=this.ctx;if(t===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of t)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,n){const r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=r.fontMatrix||JT,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&vt("Invalid font matrix for font "+t),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=r.systemFontInfo?.css||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let c=n;n<e3?c=e3:n>t3&&(c=t3),this.current.fontSizeScale=n/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}setTextMatrix(t,n,r,i,s,o){this.current.textMatrix=[t,n,r,i,s,o],this.current.textMatrixScale=Math.hypot(t,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,n,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,d=l&Br.FILL_STROKE_MASK,f=!!(l&Br.ADD_TO_PATH_FLAG),p=o.patternFill&&!a.missingFile;let g;(a.disableFontFace||f||p)&&(g=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||p?(s.save(),s.translate(n,r),s.beginPath(),g(s,c),i&&s.setTransform(...i),(d===Br.FILL||d===Br.FILL_STROKE)&&s.fill(),(d===Br.STROKE||d===Br.FILL_STROKE)&&s.stroke(),s.restore()):((d===Br.FILL||d===Br.FILL_STROKE)&&s.fillText(t,n,r),(d===Br.STROKE||d===Br.FILL_STROKE)&&s.strokeText(t,n,r)),f&&(this.pendingTextPaths||=[]).push({transform:Cn(s),x:n,y:r,fontSize:c,addToPath:g})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Rt(this,"isFontSubpixelAAEnabled",r)}showText(t){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(t);const i=n.fontSize;if(i===0)return;const s=this.ctx,o=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,c=n.fontDirection,d=n.textHScale*c,f=t.length,p=r.vertical,g=p?1:-1,v=r.defaultVMetrics,b=i*n.fontMatrix[0],w=n.textRenderingMode===Br.FILL&&!r.disableFontFace&&!n.patternFill;s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),c>0?s.scale(d,-1):s.scale(d,1);let S;if(n.patternFill){s.save();const N=n.fillColor.getPattern(s,this,Ta(s),ti.FILL);S=Cn(s),s.restore(),s.fillStyle=N}let C=n.lineWidth;const _=n.textMatrixScale;if(_===0||C===0){const N=n.textRenderingMode&Br.FILL_STROKE_MASK;(N===Br.STROKE||N===Br.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=_;if(o!==1&&(s.scale(o,o),C/=o),s.lineWidth=C,r.isInvalidPDFjsFont){const N=[];let T=0;for(const M of t)N.push(M.unicode),T+=M.width;s.fillText(N.join(""),0,0),n.x+=T*b*d,s.restore(),this.compose();return}let k=0,R;for(R=0;R<f;++R){const N=t[R];if(typeof N=="number"){k+=g*N*i/1e3;continue}let T=!1;const M=(N.isSpace?l:0)+a,O=N.fontChar,L=N.accent;let D,F,G=N.width;if(p){const V=N.vmetric||v,j=-(N.vmetric?V[1]:G*.5)*b,H=V[2]*b;G=V?-V[0]:G,D=j/o,F=(k+H)/o}else D=k/o,F=0;if(r.remeasure&&G>0){const V=s.measureText(O).width*1e3/i*o;if(G<V&&this.isFontSubpixelAAEnabled){const j=G/V;T=!0,s.save(),s.scale(j,1),D/=j}else G!==V&&(D+=(G-V)/2e3*i/o)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(w&&!L)s.fillText(O,D,F);else if(this.paintChar(O,D,F,S),L){const V=D+i*L.offset.x/o,j=F-i*L.offset.y/o;this.paintChar(L.fontChar,V,j,S)}}const z=p?G*b-M*c:G*b+M*c;k+=z,T&&s.restore()}p?n.y-=k:n.x+=k*d,s.restore(),this.compose()}showType3Text(t){const n=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,d=r.textHScale*o,f=r.fontMatrix||JT,p=t.length,g=r.textRenderingMode===Br.INVISIBLE;let v,b,w,S;if(!(g||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(d,o),v=0;v<p;++v){if(b=t[v],typeof b=="number"){S=a*b*s/1e3,this.ctx.translate(S,0),r.x+=S*d;continue}const C=(b.isSpace?c:0)+l,_=i.charProcOperatorList[b.operatorListId];if(!_){vt(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),n.scale(s,s),n.transform(...f),this.executeOperatorList(_),this.restore()),w=$e.applyTransform([b.width,0],f)[0]*s+C,n.translate(w,0),r.x+=w*d}n.restore(),this.processingType3=null}}setCharWidth(t,n){}setCharWidthAndBounds(t,n,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let n;if(t[0]==="TilingPattern"){const r=t[1],i=this.baseTransform||Cn(this.ctx),s={createCanvasGraphics:o=>new Cf(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new BN(t,r,this.ctx,s,i)}else n=this._getPattern(t[1],t[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,n,r){const i=$e.makeHexColor(t,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(t,n,r){const i=$e.makeHexColor(t,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(t,n=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=zRe(this.getObject(t)),this.cachedPatterns.set(t,r)),n&&(r.matrix=n),r}shadingFill(t){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(t);n.fillStyle=r.getPattern(n,this,Ta(n),ti.SHADING);const i=Ta(n);if(i){const{width:s,height:o}=n.canvas,[a,l,c,d]=$e.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Yt("Should not call beginInlineImage")}beginImageData(){Yt("Should not call beginImageData")}paintFormXObjectBegin(t,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Cn(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Cn(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||Uw("TODO: Support non-isolated groups."),t.knockout&&vt("Knockout groups not supported.");const r=Cn(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=$e.getAxialAlignedBoundingBox(t.bbox,Cn(n));const s=[0,0,n.canvas.width,n.canvas.height];i=$e.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,l,c),p=f.context;p.translate(-o,-a),p.transform(...r),t.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),Dp(n,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Cn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=$e.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(t,n,r,i,s){if(this.#e(),x0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a;const[l,c]=$e.singularValueDecompose2dScale(Cn(this.ctx)),{viewportScale:d}=this,f=Math.ceil(o*this.outputScaleX*d),p=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),x0(this.ctx)}else x0(this.ctx),this.ctx.rect(n[0],n[1],o,a),this.ctx.clip(),this.endPath()}this.current=new i3(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(t.data,t),t.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=URe(t)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,r=0,i=0,s,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const l=Cn(a);a.transform(n,r,i,s,0,0);const c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,f=o.length;d<f;d+=2){const p=$e.transform(l,[n,r,i,s,o[d],o[d+1]]),[g,v]=$e.applyTransform([0,0],p);a.drawImage(c.canvas,g,v)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of t){const{data:o,width:a,height:l,transform:c}=s,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),f=d.context;f.save();const p=this.getObject(o,s);o3(f,p),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,Ta(n),ti.FILL):r,f.fillRect(0,0,a,l),f.restore(),n.save(),n.transform(...c),n.scale(1,-1),b0(n,d.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const n=this.getObject(t);if(!n){vt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(t,n,r,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){vt("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[n,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:r,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const n=t.width,r=t.height,i=this.ctx;if(this.save(),!Kr){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let s;if(t.bitmap)s=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)s=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;s3(l,t),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,Ta(i));i.imageSmoothingEnabled=a3(Cn(i),t.interpolate),b0(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const s=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;s3(l,t),i=this.applyTransferMapsToCanvas(l)}for(const s of n)r.save(),r.transform(...s.transform),r.scale(1,-1),b0(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,n){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===l3?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Cn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(t===0)o=a=1/l;else{const d=l*t;o=a=d<1?1/d:1}else if(t===0)o=1/l,a=1/c;else{const d=l*t,f=c*t;o=d<1?1/d:1,a=f<1?1/f:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),d=Math.hypot(i,s);if(t===0)o=d/l,a=c/l;else{const f=t*l;o=d>f?d/f:1,a=c>f?c/f:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:n}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&s===1){n.stroke();return}const o=n.getLineDash();if(t&&n.save(),n.scale(i,s),o.length>0){const a=Math.max(i,s);n.setLineDash(o.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),t&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const e in qs)Cf.prototype[e]!==void 0&&(Cf.prototype[qs[e]]=Cf.prototype[e]);class Hm{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#e=t}static get workerSrc(){return this.#t}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#t=t}}const w0={DATA:1,ERROR:2},Wn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function qi(e){switch(e instanceof Error||typeof e=="object"&&e!==null||Yt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new td(e.message);case"MissingPDFException":return new ed(e.message);case"PasswordException":return new tR(e.message,e.code);case"UnexpectedResponseException":return new Vw(e.message,e.status);case"UnknownErrorException":return new nR(e.message,e.details);default:return new nR(e.message,e.toString())}}class Zp{constructor(t,n,r){this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){this.#t(s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===w0.DATA)l.resolve(s.data);else if(s.callback===w0.ERROR)l.reject(qi(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){r.postMessage({sourceName:a,targetName:l,callback:w0.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:a,targetName:l,callback:w0.ERROR,callbackId:s.callbackId,reason:qi(c)})});return}if(s.streamId){this.#e(s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(t,n){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=n}send(t,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},r)}sendWithPromise(t,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:n},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(t,n,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:s,data:n,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:Wn.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{pr(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:Wn.CANCEL,streamId:s,reason:qi(c)}),d.promise}},r)}#e(t){const n=t.streamId,r=this.sourceName,i=t.sourceName,s=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(c,d=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Wn.ENQUEUE,streamId:n,chunk:c},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Wn.CLOSE,streamId:n}),delete o.streamSinks[n])},error(c){pr(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Wn.ERROR,streamId:n,reason:qi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(c){c(a(t.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Wn.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Wn.START_COMPLETE,streamId:n,reason:qi(c)})})}#t(t){const n=t.streamId,r=this.sourceName,i=t.sourceName,s=this.comObj,o=this.streamControllers[n],a=this.streamSinks[n];switch(t.stream){case Wn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(qi(t.reason));break;case Wn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(qi(t.reason));break;case Wn.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:Wn.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise(function(l){l(a.onPull?.())}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Wn.PULL_COMPLETE,streamId:n,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Wn.PULL_COMPLETE,streamId:n,reason:qi(l)})});break;case Wn.ENQUEUE:if(pr(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Wn.CLOSE:if(pr(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#n(o,n);break;case Wn.ERROR:pr(o,"error should have stream controller"),o.controller.error(qi(t.reason)),this.#n(o,n);break;case Wn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(qi(t.reason)),this.#n(o,n);break;case Wn.CANCEL:if(!a)break;new Promise(function(l){l(a.onCancel?.(qi(t.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Wn.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:Wn.CANCEL_COMPLETE,streamId:n,reason:qi(l)})}),a.sinkCapability.reject(qi(t.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#n(t,n){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class GRe{#e;#t;constructor({parsedData:t,rawData:n}){this.#e=t,this.#t=n}getRaw(){return this.#t}get(t){return this.#e.get(t)??null}getAll(){return NN(this.#e)}has(t){return this.#e.has(t)}}const Wl=Symbol("INTERNAL");class KRe{#e=!1;#t=!1;#n=!1;#i=!0;constructor(t,{name:n,intent:r,usage:i}){this.#e=!!(t&vs.DISPLAY),this.#t=!!(t&vs.PRINT),this.name=n,this.intent=r,this.usage=i}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;const{print:t,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?t?.printState!=="OFF":!0}_setVisible(t,n,r=!1){t!==Wl&&Yt("Internal method `_setVisible` called."),this.#n=r,this.#i=n}}class YRe{#e=null;#t=new Map;#n=null;#i=null;constructor(t,n=vs.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const r of t.groups)this.#t.set(r.id,new KRe(n,r));if(t.baseState==="OFF")for(const r of this.#t.values())r._setVisible(Wl,!1);for(const r of t.on)this.#t.get(r)._setVisible(Wl,!0);for(const r of t.off)this.#t.get(r)._setVisible(Wl,!1);this.#n=this.getHash()}}#s(t){const n=t.length;if(n<2)return!0;const r=t[0];for(let i=1;i<n;i++){const s=t[i];let o;if(Array.isArray(s))o=this.#s(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return vt(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"}isVisible(t){if(this.#t.size===0)return!0;if(!t)return Uw("Optional content group not defined."),!0;if(t.type==="OCG")return this.#t.has(t.id)?this.#t.get(t.id).visible:(vt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!this.#t.has(n))return vt(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!this.#t.has(n))return vt(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!this.#t.has(n))return vt(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!this.#t.has(n))return vt(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return vt(`Unknown optional content policy ${t.policy}.`),!0}return vt(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0){const r=this.#t.get(t);if(!r){vt(`Optional content group not found: ${t}`);return}r._setVisible(Wl,!!n,!0),this.#e=null}setOCGState({state:t,preserveRB:n}){let r;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":s._setVisible(Wl,!0);break;case"OFF":s._setVisible(Wl,!1);break;case"Toggle":s._setVisible(Wl,!s.visible);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?NN(this.#t):null}getGroup(t){return this.#t.get(t)||null}getHash(){if(this.#e!==null)return this.#e;const t=new x7;for(const[n,r]of this.#t)t.update(`${n}:${r.visible}`);return this.#e=t.hexdigest()}}class XRe{constructor(t,{disableRange:n=!1,disableStream:r=!1}){pr(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==t?!1:(s._enqueue(r),!0)});pr(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){pr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ZRe(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const r=new QRe(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class ZRe{constructor(t,n,r=!1,i=null){this._stream=t,this._done=r||!1,this._filename=jN(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QRe{constructor(t,n,r){this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JRe(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let d=a(n);return d=unescape(d),d=l(d),d=c(d),s(d)}if(n=o(e),n){const d=c(n);return s(d)}if(n=r("filename","i").exec(e),n){n=n[1];let d=a(n);return d=c(d),s(d)}function r(d,f){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(d,f){if(d){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(d,{fatal:!0}),g=qw(f);f=p.decode(g),t=!1}catch{}}return f}function s(d){return t&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),t&&(d=i("iso-8859-1",d))),d}function o(d){const f=[];let p;const g=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(d))!==null;){let[,b,w,S]=p;if(b=parseInt(b,10),b in f){if(b===0)break;continue}f[b]=[w,S]}const v=[];for(let b=0;b<f.length&&b in f;++b){let[w,S]=f[b];S=a(S),w&&(S=unescape(S),b===0&&(S=l(S))),v.push(S)}return v.join("")}function a(d){if(d.startsWith('"')){const f=d.slice(1).split('\\"');for(let p=0;p<f.length;++p){const g=f[p].indexOf('"');g!==-1&&(f[p]=f[p].slice(0,g),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}d=f.join('"')}return d}function l(d){const f=d.indexOf("'");if(f===-1)return d;const p=d.slice(0,f),v=d.slice(f+1).replace(/^[^']*'/,"");return i(p,v)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,g,v){if(g==="q"||g==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,w){return String.fromCharCode(parseInt(w,16))}),i(p,v);try{v=atob(v)}catch{}return i(p,v)})}return""}function UN({getResponseHeader:e,isHttp:t,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!t||e("Accept-Ranges")!=="bytes"||(e("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function VN(e){const t=e("Content-Disposition");if(t){let n=JRe(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(jN(n))return n}return null}function Zw(e,t){return e===404||e===0&&t.startsWith("file:")?new ed('Missing PDF "'+t+'".'):new Vw(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function E7(e){return e===200||e===206}function _7(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function C7(e){const t=new Headers;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function A7(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(vt(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class c3{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return pr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eke(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const r=new tke(this,t,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class eke{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=C7(this._stream.httpHeaders);const r=n.url;fetch(r,_7(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!E7(i.status))throw Zw(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=UN({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=VN(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new td("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:A7(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class tke{constructor(t,n,r){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=C7(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,_7(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!E7(o.status))throw Zw(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:A7(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const mC=200,gC=206;function nke(e){const t=e.response;return typeof t!="string"?t:qw(t).buffer}class rke{constructor(t,n={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,n,r){const i={begin:t,end:n};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(t){return this.request(t)}request(t){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&n.setRequestHeader(s,o)}return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=gC):i.expectedStatus=mC,n.responseType="arraybuffer",t.onError&&(n.onerror=function(s){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,n.send(null),r}onProgress(t,n){const r=this.pendingRequests[t];r&&r.onProgress?.(n)}onStateChange(t,n){const r=this.pendingRequests[t];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){r.onError?.(i.status);return}const s=i.status||mC;if(!(s===mC&&r.expectedStatus===gC)&&s!==r.expectedStatus){r.onError?.(i.status);return}const a=nke(i);if(s===gC){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);r.onDone({begin:parseInt(c[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):r.onError?.(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}class ike{constructor(t){this._source=t,this._manager=new rke(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return pr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ske(this._manager,this._source),this._fullRequestReader}getRangeReader(t,n){const r=new oke(this._manager,t,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class ske{constructor(t,n){this._manager=t;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,n=this._manager.getRequestXhr(t),r=o=>n.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=UN({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=VN(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Zw(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oke{constructor(t,n,r){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const n=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Zw(t,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const T7=/^file:\/\/\/[a-zA-Z]:\//;function ake(e){const t=Wo.get("url"),n=t.parse(e);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}class lke{constructor(t){this.source=t,this.url=ake(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return pr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dke(this):new cke(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new fke(this,t,n):new uke(this,t,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class R7{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new td("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k7{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=t.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function tx(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class cke extends R7{constructor(t){super(t);const n=r=>{if(r.statusCode===404){const a=new ed(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=UN({getResponseHeader:i,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=VN(i)};if(this._request=null,this._url.protocol==="http:"){const r=Wo.get("http");this._request=r.request(tx(this._url,t.httpHeaders),n)}else{const r=Wo.get("https");this._request=r.request(tx(this._url,t.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class uke extends k7{constructor(t,n,r){super(t),this._httpHeaders={};for(const s in t.httpHeaders){const o=t.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new ed(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Wo.get("http");this._request=s.request(tx(this._url,this._httpHeaders),i)}else{const s=Wo.get("https");this._request=s.request(tx(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class dke extends R7{constructor(t){super(t);let n=decodeURIComponent(this._url.path);T7.test(this._url.href)&&(n=n.replace(/^\//,""));const r=Wo.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new ed(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class fke extends k7{constructor(t,n,r){super(t);let i=decodeURIComponent(this._url.path);T7.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Wo.get("fs");this._setReadableStream(s.createReadStream(i,{start:n,end:r-1}))}}const hke=1e5,gi=30,pke=.8;class xi{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#o=0;#l=0;#u=null;#d=null;#h=0;#c=0;#a=Object.create(null);#p=[];#m=null;#f=[];#v=new WeakMap;#g=null;static#b=new Map;static#x=new Map;static#S=null;static#_=new Set;constructor({textContentSource:t,container:n,viewport:r}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(l){l.enqueue(t),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#d=n,this.#c=r.scale*(globalThis.devicePixelRatio||1),this.#h=r.rotation,this.#r={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;this.#g=[1,0,0,-1,-o,a+s],this.#l=i,this.#o=s,xi.#y(),Mu(n,r),this.#e.promise.catch(()=>{}).then(()=>{xi.#_.delete(this),this.#r=null,this.#a=null})}render(){const t=()=>{this.#u.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#s??=n.lang,Object.assign(this.#a,n.styles),this.#C(n.items),t()},this.#e.reject)};return this.#u=this.#m.getReader(),xi.#_.add(this),t(),this.#e.promise}update({viewport:t,onBefore:n=null}){const r=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==this.#h&&(n?.(),this.#h=i,Mu(this.#d,{rotation:i})),r!==this.#c){n?.(),this.#c=r;const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:xi.#w(this.#s)};for(const o of this.#f)s.properties=this.#v.get(o),s.div=o,this.#A(s)}}cancel(){const t=new td("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#e.reject(t)}get textDivs(){return this.#f}get textContentItemsStr(){return this.#p}#C(t){if(this.#n)return;this.#r.ctx??=xi.#w(this.#s);const n=this.#f,r=this.#p;for(const i of t){if(n.length>hke){vt("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#T(i)}}#T(t){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#f.push(n);const i=$e.transform(this.#g,t.transform);let s=Math.atan2(i[1],i[0]);const o=this.#a[t.fontName];o.vertical&&(s+=Math.PI/2);const a=this.#i&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),c=l*xi.#E(a,this.#s);let d,f;s===0?(d=i[4],f=i[5]-c):(d=i[4]+c*Math.sin(s),f=i[5]-c*Math.cos(s));const p="calc(var(--scale-factor)*",g=n.style;this.#t===this.#d?(g.left=`${(100*d/this.#l).toFixed(2)}%`,g.top=`${(100*f/this.#o).toFixed(2)}%`):(g.left=`${p}${d.toFixed(2)}px)`,g.top=`${p}${f.toFixed(2)}px)`),g.fontSize=`${p}${(xi.#S*l).toFixed(2)}px)`,g.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,this.#i&&(n.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),s!==0&&(r.angle=s*(180/Math.PI));let v=!1;if(t.str.length>1)v=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const b=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);b!==w&&Math.max(b,w)/Math.min(b,w)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?t.height:t.width),this.#v.set(n,r),this.#r.div=n,this.#r.properties=r,this.#A(this.#r),r.hasText&&this.#t.append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#A(t){const{div:n,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=t,{style:a}=n;let l="";if(xi.#S>1&&(l=`scale(${1/xi.#S})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:c}=a,{canvasWidth:d,fontSize:f}=r;(s!==f||o!==c)&&(i.font=`${f*this.#c}px ${c}`,t.prevFontSize=f,t.prevFontFamily=c);const{width:p}=i.measureText(n.textContent);p>0&&(l=`scaleX(${d*this.#c/p}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:t}of this.#x.values())t.remove();this.#x.clear()}}static#w(t=null){let n=this.#x.get(t||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=t,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(t,n)}return n}static#y(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#E(t,n){const r=this.#b.get(t);if(r)return r;const i=this.#w(n),s=i.font;i.canvas.width=i.canvas.height=gi,i.font=`${gi}px ${t}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const f=a/(a+l);return this.#b.set(t,f),i.canvas.width=i.canvas.height=0,i.font=s,f}i.strokeStyle="red",i.clearRect(0,0,gi,gi),i.strokeText("g",0,0);let c=i.getImageData(0,0,gi,gi).data;l=0;for(let f=c.length-1-3;f>=0;f-=4)if(c[f]>0){l=Math.ceil(f/4/gi);break}i.clearRect(0,0,gi,gi),i.strokeText("A",0,gi),c=i.getImageData(0,0,gi,gi).data,a=0;for(let f=0,p=c.length;f<p;f+=4)if(c[f]>0){a=gi-Math.floor(f/4/gi);break}i.canvas.width=i.canvas.height=0,i.font=s;const d=a?a/(a+l):pke;return this.#b.set(t,d),d}}function mke(){y7("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:e,container:t,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&vt("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new xi({textContentSource:e,container:t,viewport:n}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function gke(){y7("`updateTextLayer`, please use `TextLayer` instead.")}class Bm{static textContent(t){const n=[],r={items:n,styles:Object.create(null)};function i(s){if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Bm.shouldBuildText(a))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&n.push({str:o}),!!s.children)for(const l of s.children)i(l)}return i(t),r}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const vke=65536,yke=100,bke=5e3,xke=Kr?NRe:yRe,wke=Kr?MRe:g7,Ske=Kr?PRe:vRe,Eke=Kr?ORe:v7;function _ke(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new qN,{docId:n}=t,r=e.url?Cke(e.url):null,i=e.data?Ake(e.data):null,s=e.httpHeaders||null,o=e.withCredentials===!0,a=e.password??null,l=e.range instanceof P7?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:vke;let d=e.worker instanceof ys?e.worker:null;const f=e.verbosity,p=typeof e.docBaseUrl=="string"&&!IN(e.docBaseUrl)?e.docBaseUrl:null,g=typeof e.cMapUrl=="string"?e.cMapUrl:null,v=e.cMapPacked!==!1,b=e.CMapReaderFactory||wke,w=typeof e.standardFontDataUrl=="string"?e.standardFontDataUrl:null,S=e.StandardFontDataFactory||Eke,C=e.stopAtErrors!==!0,_=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,k=e.isEvalSupported!==!1,R=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!Kr,N=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,T=typeof e.disableFontFace=="boolean"?e.disableFontFace:Kr,M=e.fontExtraProperties===!0,O=e.enableXfa===!0,L=e.ownerDocument||globalThis.document,D=e.disableRange===!0,F=e.disableStream===!0,G=e.disableAutoFetch===!0,z=e.pdfBug===!0,V=e.enableHWA===!0,j=l?l.length:e.length??NaN,H=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!Kr&&!T,B=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:b===g7&&S===v7&&g&&w&&Xp(g,document.baseURI)&&Xp(w,document.baseURI),K=e.canvasFactory||new xke({ownerDocument:L,enableHWA:V}),U=e.filterFactory||new Ske({docId:n,ownerDocument:L}),q=null;oRe(f);const Y={canvasFactory:K,filterFactory:U};if(B||(Y.cMapReaderFactory=new b({baseUrl:g,isCompressed:v}),Y.standardFontDataFactory=new S({baseUrl:w})),!d){const se={verbosity:f,port:Hm.workerPort};d=se.port?ys.fromPort(se):new ys(se),t._worker=d}const $={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:G,rangeChunkSize:c,length:j,docBaseUrl:p,enableXfa:O,evaluatorOptions:{maxImageSize:_,disableFontFace:T,ignoreErrors:C,isEvalSupported:k,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:N,fontExtraProperties:M,useSystemFonts:H,cMapUrl:B?g:null,standardFontDataUrl:B?w:null}},J={disableFontFace:T,fontExtraProperties:M,ownerDocument:L,pdfBug:z,styleElement:q,loadingParams:{disableAutoFetch:G,enableXfa:O}};return d.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const se=d.messageHandler.sendWithPromise("GetDocRequest",$,i?[i.buffer]:null);let ue;if(l)ue=new XRe(l,{disableRange:D,disableStream:F});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ue=(Z=>Kr?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Xp(Z.url)?new c3(Z):new lke(Z):Xp(Z.url)?new c3(Z):new ike(Z))({url:r,length:j,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:D,disableStream:F})}return se.then(ee=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Z=new Zp(n,ee,d.port),X=new Pke(Z,t,ue,J,Y);t._transport=X,Z.send("Ready",null)})}).catch(t._capability.reject),t}function Cke(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(Kr&&typeof e=="string")return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Ake(e){if(Kr&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return qw(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function u3(e){return typeof e=="object"&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class qN{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${qN.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class P7{constructor(t,n,r=!1,i=null){this.length=t,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,n){for(const r of this._rangeListeners)r(t,n)}onDataProgress(t,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(t,n)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,n){Yt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Tke{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Rke{#e=null;#t=!1;constructor(t,n,r,i=!1){this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new X5:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new N7,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new qg({viewBox:this.view,scale:t,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Rt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:n,intent:r="display",annotationMode:i=Xl.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(r,i,d),{renderingIntent:p,cacheKey:g}=f;this.#t=!1,this.#i(),a||=this._transport.getOptionalContentConfig(p);let v=this._intentStates.get(g);v||(v=Object.create(null),this._intentStates.set(g,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=!!(p&vs.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const w=_=>{v.renderTasks.delete(S),(this._maybeCleanupAfterRender||b)&&(this.#t=!0),this.#n(!b),_?(S.capability.reject(_),this._abortOperatorList({intentState:v,reason:_ instanceof Error?_:new Error(_)})):S.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},S=new ff({callback:w,params:{canvasContext:t,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||=new Set).add(S);const C=S.task;return Promise.all([v.displayReadyCapability.promise,a]).then(([_,k])=>{if(this.destroyed){w();return}if(this._stats?.time("Rendering"),!(k.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");S.initializeGraphics({transparency:_,optionalContentConfig:k}),S.operatorListChanged()}).catch(w),C}getOperatorList({intent:t="display",annotationMode:n=Xl.ENABLE,printAnnotationStorage:r=null}={}){function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(t,n,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Bm.textContent(r));const n=this.streamTextContent(t);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??=l.lang,Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(t)}cleanup(t=!1){this.#t=!0;const n=this.#n(!1);return t&&n&&(this._stats&&=new X5),n}#n(t=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(t)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},bke),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(t,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let r=0,i=t.length;r<i;r++)n.operatorList.fnArray.push(t.fnArray[r]),n.operatorList.argsArray.push(t.argsArray[r]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();t.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:i},s).getReader(),l=this._intentStates.get(n);l.streamReader=a;const c=()=>{a.read().then(({value:d,done:f})=>{if(f){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),c())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const f of l.renderTasks)f.operatorListChanged();this.#n(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};c()}_abortOperatorList({intentState:t,reason:n,force:r=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof DN){let i=yke;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},i);return}}if(t.streamReader.cancel(new td(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class kke{#e=new Set;#t=Promise.resolve();postMessage(t,n){const r={data:structuredClone(t,n?{transfer:n}:null)};this.#t.then(()=>{for(const i of this.#e)i.call(this,r)})}addEventListener(t,n){this.#e.add(n)}removeEventListener(t,n){this.#e.delete(n)}terminate(){this.#e.clear()}}const Pa={isWorkerDisabled:!1,fakeWorkerId:0};Kr&&(Pa.isWorkerDisabled=!0,Hm.workerSrc||="./pdf.worker.mjs"),Pa.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},Pa.createCDNWrapper=function(e){const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};class ys{static#e;constructor({name:t=null,port:n=null,verbosity:r=aRe()}={}){if(this.name=t,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if(ys.#e?.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(ys.#e||=new WeakMap).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Kr?Promise.all([Wo.promise,this._readyCapability.promise]):this._readyCapability.promise}#t(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Zp("main","worker",t),this._messageHandler.on("ready",function(){}),this.#t()}_initialize(){if(Pa.isWorkerDisabled||ys.#n){this._setupFakeWorker();return}let{workerSrc:t}=ys;try{Pa.isSameOrigin(window.location.href,t)||(t=Pa.createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),r=new Zp("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,this.#t()}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{Uw("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Pa.isWorkerDisabled||(vt("Setting up fake worker."),Pa.isWorkerDisabled=!0),ys._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new kke;this._port=n;const r=`fake${Pa.fakeWorkerId++}`,i=new Zp(r+"_worker",r,n);t.setup(i,n),this._messageHandler=new Zp(r,r+"_worker",n),this.#t()}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ys.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=this.#e?.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new ys(t)}static get workerSrc(){if(Hm.workerSrc)return Hm.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#n(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Rt(this,"_setupFakeWorkerGlobal",(async()=>this.#n?this.#n:(await import(this.workerSrc)).WorkerMessageHandler)())}}class Pke{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(t,n,r,i,s){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new N7,this.fontLoader=new RRe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(t,n=null){const r=this.#e.get(t);if(r)return r;const i=this.messageHandler.sendWithPromise(t,n);return this.#e.set(t,i),i}get annotationStorage(){return Rt(this,"annotationStorage",new HN)}getRenderingIntent(t,n=Xl.ENABLE,r=null,i=!1){let s=vs.DISPLAY,o=rR;switch(t){case"any":s=vs.ANY;break;case"display":break;case"print":s=vs.PRINT;break;default:vt(`getRenderingIntent - invalid intent: ${t}`)}switch(n){case Xl.DISABLE:s+=vs.ANNOTATIONS_DISABLE;break;case Xl.ENABLE:break;case Xl.ENABLE_FORMS:s+=vs.ANNOTATIONS_FORMS;break;case Xl.ENABLE_STORAGE:s+=vs.ANNOTATIONS_STORAGE,o=(s&vs.PRINT&&r instanceof w7?r:this.annotationStorage).serializable;break;default:vt(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(s+=vs.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of this.#t.values())t.push(r._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),xi.cleanup(),this._networkStream?.cancelAllRequests(new td("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(r,i)=>{pr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}pr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),s.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),t.on("GetRangeReader",(r,i)=>{pr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}pr(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Tke(r,this))}),t.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new tR(r.message,r.code);break;case"InvalidPDFException":i=new h7(r.message);break;case"MissingPDFException":i=new ed(r.message);break;case"UnexpectedResponseException":i=new Vw(r.message,r.status);break;case"UnknownErrorException":i=new nR(r.message,r.details);break;default:Yt("DocException - expected a valid Error.")}n._capability.reject(i)}),t.on("PasswordRequest",r=>{if(this.#s=Promise.withResolvers(),n.onPassword){const i=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};try{n.onPassword(i,r.code)}catch(s){this.#s.reject(s)}}else this.#s.reject(new tR(r.message,r.code));return this.#s.promise}),t.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),t.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),t.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:a,pdfBug:l}=this._params;if("error"in s){const p=s.error;vt(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const c=l&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new kRe(s,{disableFontFace:o,inspectFont:c});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:r})).finally(()=>{!a&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=s;pr(f,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([r,i,s,o])=>{if(this.destroyed)return;const a=this.#t.get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":a.objs.resolve(r,o),o?.dataLen>nRe&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),t.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),t.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&vt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,r=this.#n.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,t);const o=new Rke(n,s,this,this._params.pdfBug);return this.#t.set(n,o),o});return this.#n.set(n,i),i}getPageIndex(t){return u3(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(n=>new YRe(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#e.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,null).then(i=>({info:i[0],metadata:i[1]?new GRe(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(t,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),xi.cleanup()}}cachedPageNumber(t){if(!u3(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(n)??null}}const S0=Symbol("INITIAL_DATA");class N7{#e=Object.create(null);#t(t){return this.#e[t]||={...Promise.withResolvers(),data:S0}}get(t,n=null){if(n){const i=this.#t(t);return i.promise.then(()=>n(i.data)),null}const r=this.#e[t];if(!r||r.data===S0)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){const n=this.#e[t];return!!n&&n.data!==S0}resolve(t,n=null){const r=this.#t(t);r.data=n,r.resolve()}clear(){for(const t in this.#e){const{data:n}=this.#e[t];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const t in this.#e){const{data:n}=this.#e[t];n!==S0&&(yield[t,n])}}}class Nke{#e=null;constructor(t){this.#e=t,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this.#e;return t.form||t.canvas&&n?.size>0}}class ff{#e=null;static#t=new WeakSet;constructor({callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:f=!1,pageColors:p=null}){this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Nke(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(ff.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ff.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Cf(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),ff.#t.delete(this._canvas),this.callback(t||new DN(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ff.#t.delete(this._canvas),this.callback())))}}const Mke="4.4.168",Oke="19fbc8998";function d3(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function Ip(e){return Math.max(0,Math.min(255,255*e))}class f3{static CMYK_G([t,n,r,i]){return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ip(t),[t,t,t]}static G_HTML([t]){const n=d3(t);return`#${n}${n}${n}`}static RGB_G([t,n,r]){return["G",.3*t+.59*n+.11*r]}static RGB_rgb(t){return t.map(Ip)}static RGB_HTML(t){return`#${t.map(d3).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,r,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([t,n,r,i]){return[Ip(1-Math.min(1,t+i)),Ip(1-Math.min(1,r+i)),Ip(1-Math.min(1,n+i))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,r]){const i=1-t,s=1-n,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class M7{static setupStorage(t,n,r,i,s){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),s==="print")break;t.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?t.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&t.removeAttribute("checked"),s==="print")break;t.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),s==="print")break;t.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:t,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:o}=n,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}a&&s.addLinkAttributes(t,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(t,o.dataId,n,r)}static render(t){const n=t.annotationStorage,r=t.linkService,i=t.xfaHtml,s=t.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=t.div;if(l.append(o),t.viewport){const f=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const f=document.createTextNode(i.value);o.append(f),a&&Bm.shouldBuildText(i.name)&&c.push(f)}return{textDivs:c}}const d=[[i,-1,o]];for(;d.length>0;){const[f,p,g]=d.at(-1);if(p+1===f.children.length){d.pop();continue}const v=f.children[++d.at(-1)[1]];if(v===null)continue;const{name:b}=v;if(b==="#text"){const S=document.createTextNode(v.value);c.push(S),g.append(S);continue}const w=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,b):document.createElement(b);if(g.append(w),v.attributes&&this.setAttributes({html:w,element:v,storage:n,intent:s,linkService:r}),v.children?.length>0)d.push([v,-1,w]);else if(v.value){const S=document.createTextNode(v.value);a&&Bm.shouldBuildText(b)&&c.push(S),w.append(S)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const Kg=1e3,Dke=9,Ou=new WeakSet;function za(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class Ike{static create(t){switch(t.data.annotationType){case lr.LINK:return new O7(t);case lr.TEXT:return new jke(t);case lr.WIDGET:switch(t.data.fieldType){case"Tx":return new Lke(t);case"Btn":return t.data.radioButton?new D7(t):t.data.checkBox?new Fke(t):new $ke(t);case"Ch":return new Hke(t);case"Sig":return new zke(t)}return new nd(t);case lr.POPUP:return new aR(t);case lr.FREETEXT:return new I7(t);case lr.LINE:return new Uke(t);case lr.SQUARE:return new Vke(t);case lr.CIRCLE:return new qke(t);case lr.POLYLINE:return new j7(t);case lr.CARET:return new Gke(t);case lr.INK:return new L7(t);case lr.POLYGON:return new Wke(t);case lr.HIGHLIGHT:return new Kke(t);case lr.UNDERLINE:return new Yke(t);case lr.SQUIGGLY:return new Xke(t);case lr.STRIKEOUT:return new Zke(t);case lr.STAMP:return new z7(t);case lr.FILEATTACHMENT:return new Qke(t);default:return new Fn(t)}}}class Fn{#e=null;#t=!1;#n=null;constructor(t,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:n,richText:r}){return!!(t?.str||n?.str||r?.str)}get hasPopupData(){return Fn._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:n}=t;n&&this.#i(n),this.#n?.popup.updateEdited(t)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(t){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r?.splice(0,4,...t);const{width:c,height:d}=za(t);n.left=`${100*(t[0]-a)/s}%`,n.top=`${100*(o-t[3]+l)/o}%`,i===0?(n.width=`${100*c/s}%`,n.height=`${100*d/o}%`):this.setRotation(i)}_createContainer(t){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof nd||(s.tabIndex=Kg);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,n.popupRef&&s.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof aR){const{rotation:b}=n;return!n.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:a,height:l}=za(n.rect);if(!t&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const b=n.borderStyle.horizontalCornerRadius,w=n.borderStyle.verticalCornerRadius;if(b>0||w>0){const C=`calc(${b}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;o.borderRadius=C}else if(this instanceof D7){const C=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=C}switch(n.borderStyle.style){case Op.SOLID:o.borderStyle="solid";break;case Op.DASHED:o.borderStyle="dashed";break;case Op.BEVELED:vt("Unimplemented border style: beveled");break;case Op.INSET:vt("Unimplemented border style: inset");break;case Op.UNDERLINE:o.borderBottomStyle="solid";break}const S=n.borderColor||null;S?(this.#t=!0,o.borderColor=$e.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const c=$e.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:f,pageX:p,pageY:g}=i.rawDims;o.left=`${100*(c[0]-p)/d}%`,o.top=`${100*(c[1]-g)/f}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(o.width=`${100*a/d}%`,o.height=`${100*l/f}%`):this.setRotation(v,s),s}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=za(this.data.rect);let a,l;t%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,r,i)=>{const s=i.detail[n],o=s[0],a=s.slice(1);i.target.style[r]=f3[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:f3[`${o}_rgb`](a)})};return Rt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(t,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(t[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const o=r[i];if(o){const a={detail:{[i]:s},target:t};o(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,r,i,s]=this.data.rect.map(b=>Math.fround(b));if(t.length===8){const[b,w,S,C]=t.subarray(2,6);if(i===b&&s===w&&n===S&&r===C)return}const{style:o}=this.container;let a;if(this.#t){const{borderColor:b,borderWidth:w}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:d}=this,f=d.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=d.createElement("defs");f.append(p);const g=d.createElement("clipPath"),v=`clippath_${this.data.id}`;g.setAttribute("id",v),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(let b=2,w=t.length;b<w;b+=8){const S=t[b],C=t[b+1],_=t[b+2],k=t[b+3],R=d.createElement("rect"),N=(_-n)/l,T=(s-C)/c,M=(S-_)/l,O=(C-k)/c;R.setAttribute("x",N),R.setAttribute("y",T),R.setAttribute("width",M),R.setAttribute("height",O),g.append(R),a?.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${T}" width="${M}" height="${O}"/>`)}this.#t&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{container:t,data:n}=this;t.setAttribute("aria-haspopup","dialog");const r=this.#n=new aR({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]});this.parent.div.append(r.render())}render(){Yt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===n)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Ou.has(c)){vt(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(t)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==n&&Ou.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n})})}}class O7 extends Fn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(n.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action),i=!0):t.attachment?(this.#t(r,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(this.#n(r,t.setOCGState),i=!0):t.dest?(this._bindLink(r,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e()}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#e()}#t(t,n,r=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,r),!1),this.#e()}#n(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#e()}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=r.get(i);s&&(t[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}t.onclick||(t.onclick=()=>!1),this.#e()}_bindResetFormAction(t,n){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){vt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{r?.();const{fields:i,refs:s,include:o}=n,a=[];if(i.length!==0||s.length!==0){const d=new Set(s);for(const f of i){const p=this._fieldObjects[f]||[];for(const{id:g}of p)d.add(g)}for(const f of Object.values(this._fieldObjects))for(const p of f)d.has(p.id)===o&&a.push(p)}else for(const d of Object.values(this._fieldObjects))a.push(...d);const l=this.annotationStorage,c=[];for(const d of a){const{id:f}=d;switch(c.push(f),d.type){case"text":{const g=d.defaultValue||"";l.setValue(f,{value:g});break}case"checkbox":case"radiobutton":{const g=d.defaultValue===d.exportValues;l.setValue(f,{value:g});break}case"combobox":case"listbox":{const g=d.defaultValue||"";l.setValue(f,{value:g});break}default:continue}const p=document.querySelector(`[data-element-id="${f}"]`);if(p){if(!Ou.has(p)){vt(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class jke extends Fn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class nd extends Fn{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ci.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,r,i,s){r.includes("mouse")?t.addEventListener(r,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(r,o=>{if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}})})}_setEventListeners(t,n,r,i){for(const[s,o]of r)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(n||={focused:!1}),this._setEventListener(t,n,s,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,n,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":$e.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Dke,s=t.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(c/(dC*i))||1,f=c/d;o=Math.min(i,l(f/dC))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/dC))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=$e.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class Lke extends nd{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[n]=r),s.setValue(o.id,{[i]:r})}render(){const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=t.getValue(n,{value:this.data.fieldValue});let s=i.value||"";const o=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let a=i.formattedValue||this.data.textContent?.join(`
`)||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=a??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",a??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Ou.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Kg,this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",d=>{t.setValue(n,{value:d.target.value}),this.setPropertyOnSiblings(r,"value",d.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue??"";r.value=l.userValue=f,l.formattedValue=null});let c=d=>{const{formattedValue:f}=l;f!=null&&(d.target.value=f),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",f=>{if(l.focused)return;const{target:p}=f;l.userValue&&(p.value=l.userValue),l.lastCommittedValue=p.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const p={value(g){l.userValue=g.detail.value??"",t.setValue(n,{value:l.userValue.toString()}),g.target.value=l.userValue},formattedValue(g){const{formattedValue:v}=g.detail;l.formattedValue=v,v!=null&&g.target!==document.activeElement&&(g.target.value=v),t.setValue(n,{formattedValue:v})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{const{charLimit:v}=g.detail,{target:b}=g;if(v===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",v);let w=l.userValue;!w||w.length<=v||(w=w.slice(0,v),b.value=l.userValue=w,t.setValue(n,{value:w}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(p,f)}),r.addEventListener("keydown",f=>{l.commitKey=1;let p=-1;if(f.key==="Escape"?p=0:f.key==="Enter"&&!this.data.multiLine?p=2:f.key==="Tab"&&(l.commitKey=3),p===-1)return;const{value:g}=f.target;l.lastCommittedValue!==g&&(l.lastCommittedValue=g,l.userValue=g,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:g,willCommit:!0,commitKey:p,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const d=c;c=null,r.addEventListener("blur",f=>{if(!l.focused||!f.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{value:p}=f.target;l.userValue=p,l.lastCommittedValue!==p&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:l.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}),d(f)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",f=>{l.lastCommittedValue=null;const{data:p,target:g}=f,{value:v,selectionStart:b,selectionEnd:w}=g;let S=b,C=w;switch(f.inputType){case"deleteWordBackward":{const _=v.substring(0,b).match(/\w*[^\w]*$/);_&&(S-=_[0].length);break}case"deleteWordForward":{const _=v.substring(b).match(/^[^\w]*\w*/);_&&(C+=_[0].length);break}case"deleteContentBackward":b===w&&(S-=1);break;case"deleteContentForward":b===w&&(C+=1);break}f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:p||"",willCommit:!1,selStart:S,selEnd:C}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(c&&r.addEventListener("blur",c),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class zke extends nd{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Fke extends nd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,r=n.id;let i=t.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ou.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=Kg,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const d=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=d),t.setValue(c.id,{value:d})}t.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class D7 extends nd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,r=n.id;let i=t.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,t.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))t.setValue(o.id,{value:!1});const s=document.createElement("input");if(Ou.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=Kg,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))t.setValue(c.id,{value:!1});t.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const d=o===c.detail.value;for(const f of this._getElementsByName(c.target.name)){const p=d&&f.id===r;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $ke extends O7{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),t}}class Hke extends nd{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,r=t.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Ou.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Kg;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===f});for(const d of this.data.options){const f=document.createElement("option");f.textContent=d.displayValue,f.value=d.exportValue,r.value.includes(d.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),o=()=>{d.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=d=>{const f=d?"value":"textContent",{options:p,multiple:g}=i;return g?Array.prototype.filter.call(p,v=>v.selected).map(v=>v[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=a(!1);const c=d=>{const f=d.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const f={value(p){o?.();const g=p.detail.value,v=new Set(Array.isArray(g)?g:[g]);for(const b of i.options)b.selected=v.has(b.value);t.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(p){i.multiple=!0},remove(p){const g=i.options,v=p.detail.remove;g[v].selected=!1,i.remove(v),g.length>0&&Array.prototype.findIndex.call(g,w=>w.selected)===-1&&(g[0].selected=!0),t.setValue(n,{value:a(!0),items:c(p)}),l=a(!1)},clear(p){for(;i.length!==0;)i.remove(0);t.setValue(n,{value:null,items:[]}),l=a(!1)},insert(p){const{index:g,displayValue:v,exportValue:b}=p.detail.insert,w=i.children[g],S=document.createElement("option");S.textContent=v,S.value=b,w?w.before(S):i.append(S),t.setValue(n,{value:a(!0),items:c(p)}),l=a(!1)},items(p){const{items:g}=p.detail;for(;i.length!==0;)i.remove(0);for(const v of g){const{displayValue:b,exportValue:w}=v,S=document.createElement("option");S.textContent=b,S.value=w,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(n,{value:a(!0),items:c(p)}),l=a(!1)},indices(p){const g=new Set(p.detail.indices);for(const v of p.target.options)v.selected=g.has(v.index);t.setValue(n,{value:a(!0)}),l=a(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,d)}),i.addEventListener("input",d=>{const f=a(!0),p=a(!1);t.setValue(n,{value:f}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){t.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class aR extends Fn{constructor(t){const{data:n,elements:r}=t;super(t,{isRenderable:Fn._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Bke({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=t,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${m7}${r}`).join(",")),this.container}}class Bke{#e=this.#T.bind(this);#t=this.#E.bind(this);#n=this.#y.bind(this);#i=this.#w.bind(this);#s=null;#r=null;#o=null;#l=null;#u=null;#d=null;#h=null;#c=!1;#a=null;#p=null;#m=null;#f=null;#v=null;#g=null;#b=!1;constructor({container:t,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:d,open:f}){this.#r=t,this.#v=i,this.#o=o,this.#f=a,this.#d=l,this.#s=n,this.#m=c,this.#h=d,this.#u=r,this.#l=b7.toDateObject(s),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",this.#i),p.addEventListener("mouseenter",this.#n),p.addEventListener("mouseleave",this.#t),p.classList.add("popupTriggerArea");for(const p of r)p.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,f&&this.#w()}render(){if(this.#a)return;const t=this.#a=document.createElement("div");if(t.className="popup",this.#s){const s=t.style.outlineColor=$e.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:t.style.backgroundColor=$e.makeHexColor(...this.#s.map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=this.#v,t.append(n),this.#l){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:this.#l.toLocaleDateString(),time:this.#l.toLocaleTimeString()})),n.append(s)}const i=this.#x;if(i)M7.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(this.#o);t.append(s)}this.#r.append(t)}get#x(){const t=this.#f,n=this.#o;return t?.str&&(!n?.str||n.str===t.str)&&this.#f.html||null}get#S(){return this.#x?.attributes?.style?.fontSize||0}get#_(){return this.#x?.attributes?.style?.color||null}#C(t){const n=[],r={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#_,fontSize:this.#S?`calc(${this.#S}px * var(--scale-factor))`:""}};for(const s of t.split(`
`))n.push({name:"span",value:s,attributes:i});return r}_formatContents({str:t,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}#T(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#c)&&this.#w()}updateEdited({rect:t,popupContent:n}){this.#g||={contentsObj:this.#o,richText:this.#f},t&&(this.#p=null),n&&(this.#f=this.#C(n),this.#o=null),this.#a?.remove(),this.#a=null}resetEdited(){this.#g&&({contentsObj:this.#o,richText:this.#f}=this.#g,this.#g=null,this.#a?.remove(),this.#a=null,this.#p=null)}#A(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=this.#d;let o=!!this.#h,a=o?this.#h:this.#m;for(const v of this.#u)if(!a||$e.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const l=$e.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),d=o?a[2]-a[0]+5:0,f=l[0]+d,p=l[1];this.#p=[100*(f-i)/n,100*(p-s)/r];const{style:g}=this.#r;g.left=`${this.#p[0]}%`,g.top=`${this.#p[1]}%`}#w(){this.#c=!this.#c,this.#c?(this.#y(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#E(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#y(){this.#a||this.render(),this.isVisible?this.#c&&this.#r.classList.add("focused"):(this.#A(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#E(){this.#r.classList.remove("focused"),!(this.#c||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#r.hidden=!0)}maybeShow(){this.#b&&(this.#a||this.#y(),this.#b=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}}class I7 extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=At.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class Uke extends Fn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:r}=za(t.rect),i=this.svgFactory.create(n,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Vke extends Fn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:r}=za(t.rect),i=this.svgFactory.create(n,r,!0),s=t.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",r-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class qke extends Fn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:r}=za(t.rect),i=this.svgFactory.create(n,r,!0),s=t.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",r/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",r/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class j7 extends Fn{#e=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:r,popupRef:i}}=this;if(!n)return this.container;const{width:s,height:o}=za(t),a=this.svgFactory.create(s,o,!0);let l=[];for(let d=0,f=n.length;d<f;d+=2){const p=n[d]-t[0],g=t[3]-n[d+1];l.push(`${p},${g}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Wke extends j7{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Gke extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class L7 extends Fn{#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=At.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:r,popupRef:i}}=this,{width:s,height:o}=za(t),a=this.svgFactory.create(s,o,!0);for(const l of n){let c=[];for(let f=0,p=l.length;f<p;f+=2){const g=l[f]-t[0],v=t[3]-l[f+1];c.push(`${g},${v}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);this.#e.push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),a.append(d)}return this.container.append(a),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Kke extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Yke extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Xke extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Zke extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class z7 extends Fn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Qke extends Fn{#e=null;constructor(t){super(t,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Ci.platform;return t.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Jke{#e=null;#t=null;#n=new Map;constructor({div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){this.div=t,this.#e=n,this.#t=r,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}#i(t,n){const r=t.firstChild||t;r.id=`${m7}${n}`,this.div.append(t),this.#e?.moveElementInDOM(this.div,t,r,!1)}async render(t){const{annotations:n}=t,r=this.div;Mu(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new ON,annotationStorage:t.annotationStorage||new HN,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const a=o.annotationType===lr.POPUP;if(a){const d=i.get(o.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=za(o.rect);if(d<=0||f<=0)continue}s.data=o;const l=Ike.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){const d=i.get(o.popupRef);d?d.push(l):i.set(o.popupRef,[l])}const c=l.render();o.hidden&&(c.style.visibility="hidden"),this.#i(c,o.id),l.annotationEditorType>0&&(this.#n.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#s()}update({viewport:t}){const n=this.div;this.viewport=t,Mu(n,{rotation:t.rotation}),this.#s(),n.hidden=!1}#s(){if(!this.#t)return;const t=this.div;for(const[n,r]of this.#t){const i=t.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}}const E0=/\r\n?|\n/g;class ur extends et{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#s=this.editorDivPaste.bind(this);#r;#o="";#l=`${this.id}-editor`;#u;#d=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=ur.prototype,n=s=>s.isEmpty(),r=fc.TRANSLATE_SMALL,i=fc.TRANSLATE_BIG;return Rt(this,"_keyboardManager",new Wg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=At.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#r=t.color||ur._defaultColor||et._defaultLineColor,this.#u=t.fontSize||ur._defaultFontSize}static initialize(t,n){et.initialize(t,n,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case nt.FREETEXT_SIZE:ur._defaultFontSize=n;break;case nt.FREETEXT_COLOR:ur._defaultColor=n;break}}updateParams(t,n){switch(t){case nt.FREETEXT_SIZE:this.#h(n);break;case nt.FREETEXT_COLOR:this.#c(n);break}}static get defaultPropertiesToUpdate(){return[[nt.FREETEXT_SIZE,ur._defaultFontSize],[nt.FREETEXT_COLOR,ur._defaultColor||et._defaultLineColor]]}get propertiesToUpdate(){return[[nt.FREETEXT_SIZE,this.#u],[nt.FREETEXT_COLOR,this.#r]]}#h(t){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-this.#u)*this.parentScale),this.#u=i,this.#p()},r=this.#u;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#c(t){const n=i=>{this.#r=this.editorDiv.style.color=i},r=this.#r;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-ur._internalPadding*t,-(ur._internalPadding+this.#u)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(At.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",this.#i,{signal:t}),this.editorDiv.addEventListener("focus",this.#t,{signal:t}),this.editorDiv.addEventListener("blur",this.#e,{signal:t}),this.editorDiv.addEventListener("input",this.#n,{signal:t}),this.editorDiv.addEventListener("paste",this.#s,{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#l),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.editorDiv.removeEventListener("paste",this.#s),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#a(){const t=[];this.editorDiv.normalize();for(const n of this.editorDiv.childNodes)t.push(ur.#m(n));return t.join(`
`)}#p(){const[t,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,o=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/n):(this.width=r.height/t,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#o,n=this.#o=this.#a().trimEnd();if(t===n)return;const r=i=>{if(this.#o=i,!i){this.remove();return}this.#f(),this._uiManager.rebuild(this),this.#p()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(t)},mustExec:!1}),this.#p()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ur._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#l),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),et._l10nPromise.get("pdfjs-free-text-default-content").then(i=>this.editorDiv?.setAttribute("default-content",i)),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#u}px * var(--scale-factor))`,r.color=this.#r,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ex(this,this.div,["dblclick","keydown"]),this.width){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this.#d;let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=t+(o[0]-f)/c,v=n+this.height-(o[1]-p)/d;break;case 90:g=t+(o[0]-f)/c,v=n-(o[1]-p)/d,[a,l]=[l,-a];break;case 180:g=t-this.width+(o[0]-f)/c,v=n-(o[1]-p)/d,[a,l]=[-a,-l];break;case 270:g=t+(o[0]-f-this.height*d)/c,v=n+(o[1]-p-this.width*c)/d,[a,l]=[-l,a];break}this.setAt(g*i,v*s,a,l)}else this.setAt(t*i,n*s,this.width*i,this.height*s);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#m(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(E0,"")}editorDivPaste(t){const n=t.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=ur.#g(n.getData("text")||"").replaceAll(E0,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:a,startOffset:l}=o,c=[],d=[];if(a.nodeType===Node.TEXT_NODE){const g=a.parentElement;if(d.push(a.nodeValue.slice(l).replaceAll(E0,"")),g!==this.editorDiv){let v=c;for(const b of this.editorDiv.childNodes){if(b===g){v=d;continue}v.push(ur.#m(b))}}c.push(a.nodeValue.slice(0,l).replaceAll(E0,""))}else if(a===this.editorDiv){let g=c,v=0;for(const b of this.editorDiv.childNodes)v++===l&&(g=d),g.push(ur.#m(b))}this.#o=`${c.join(`
`)}${i}${d.join(`
`)}`,this.#f();const f=new Range;let p=c.reduce((g,v)=>g+v.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){f.setStart(g,p),f.setEnd(g,p);break}p-=v}s.removeAllRanges(),s.addRange(f)}#f(){if(this.editorDiv.replaceChildren(),!!this.#o)for(const t of this.#o.split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}}#v(){return this.#o.replaceAll(""," ")}static#g(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static deserialize(t,n,r){let i=null;if(t instanceof I7){const{data:{defaultAppearanceData:{fontSize:o,fontColor:a},rect:l,rotation:c,id:d},textContent:f,textPosition:p,parent:{page:{pageNumber:g}}}=t;if(!f||f.length===0)return null;i=t={annotationType:At.FREETEXT,color:Array.from(a),fontSize:o,value:f.join(`
`),position:p,pageIndex:g-1,rect:l.slice(0),rotation:c,id:d,deleted:!1}}const s=super.deserialize(t,n,r);return s.#u=t.fontSize,s.#r=$e.makeHexColor(...t.color),s.#o=ur.#g(t.value),s.annotationElementId=t.id||null,s.#d=i,s}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=ur._internalPadding*this.parentScale,r=this.getRect(n,n),i=et._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#r),s={annotationType:At.FREETEXT,color:i,fontSize:this.#u,value:this.#v(),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?s:this.annotationElementId&&!this.#b(s)?null:(s.id=this.annotationElementId,s)}#b(t){const{value:n,fontSize:r,color:i,pageIndex:s}=this.#d;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((o,a)=>o!==i[a])||t.pageIndex!==s}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${this.#u}px * var(--scale-factor))`,r.color=this.#r,n.replaceChildren();for(const s of this.#o.split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),n.append(o)}const i=ur._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:this.#o}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class lR{#e;#t=[];#n=[];constructor(t,n=0,r=0,i=!0){let s=1/0,o=-1/0,a=1/0,l=-1/0;const c=10**-4;for(const{x:w,y:S,width:C,height:_}of t){const k=Math.floor((w-n)/c)*c,R=Math.ceil((w+C+n)/c)*c,N=Math.floor((S-n)/c)*c,T=Math.ceil((S+_+n)/c)*c,M=[k,N,T,!0],O=[R,N,T,!1];this.#t.push(M,O),s=Math.min(s,k),o=Math.max(o,R),a=Math.min(a,N),l=Math.max(l,T)}const d=o-s+2*r,f=l-a+2*r,p=s-r,g=a-r,v=this.#t.at(i?-1:-2),b=[v[0],v[2]];for(const w of this.#t){const[S,C,_]=w;w[0]=(S-p)/d,w[1]=(C-g)/f,w[2]=(_-g)/f}this.#e={x:p,y:g,width:d,height:f,lastPoint:b}}getOutlines(){this.#t.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const t=[];for(const n of this.#t)n[3]?(t.push(...this.#l(n)),this.#r(n)):(this.#o(n),t.push(...this.#l(n)));return this.#i(t)}#i(t){const n=[],r=new Set;for(const o of t){const[a,l,c]=o;n.push([a,l,o],[a,c,o])}n.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=n.length;o<a;o+=2){const l=n[o][2],c=n[o+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,c,d,f]=o;r.delete(o);let p=a,g=l;for(s=[a,c],i.push(s);;){let v;if(r.has(d))v=d;else if(r.has(f))v=f;else break;r.delete(v),[a,l,c,d,f]=v,p!==a&&(s.push(p,g,a,g===l?l:c),p=a),g=g===l?c:l}s.push(p,g)}return new ePe(i,this.#e)}#s(t){const n=this.#n;let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,o=n[s][0];if(o===t)return s;o<t?r=s+1:i=s-1}return i+1}#r([,t,n]){const r=this.#s(t);this.#n.splice(r,0,[t,n])}#o([,t,n]){const r=this.#s(t);for(let i=r;i<this.#n.length;i++){const[s,o]=this.#n[i];if(s!==t)break;if(s===t&&o===n){this.#n.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=this.#n[i];if(s!==t)break;if(s===t&&o===n){this.#n.splice(i,1);return}}}#l(t){const[n,r,i]=t,s=[[n,r,i]],o=this.#s(i);for(let a=0;a<o;a++){const[l,c]=this.#n[a];for(let d=0,f=s.length;d<f;d++){const[,p,g]=s[d];if(!(c<=p||g<=l)){if(p>=l){if(g>c)s[d][1]=c;else{if(f===1)return[];s.splice(d,1),d--,f--}continue}s[d][2]=l,g>c&&s.push([n,c,g])}}}return s}}class F7{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof cR}}class ePe extends F7{#e;#t;constructor(t,n){super(),this.#t=t,this.#e=n}toSVGPath(){const t=[];for(const n of this.#t){let[r,i]=n;t.push(`M${r} ${i}`);for(let s=2;s<n.length;s+=2){const o=n[s],a=n[s+1];o===r?(t.push(`V${a}`),i=a):a===i&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,n,r,i],s){const o=[],a=r-t,l=i-n;for(const c of this.#t){const d=new Array(c.length);for(let f=0;f<c.length;f+=2)d[f]=t+c[f]*a,d[f+1]=i-c[f+1]*l;o.push(d)}return o}get box(){return this.#e}}class hu{#e;#t=[];#n;#i;#s=[];#r=new Float64Array(18);#o;#l;#u;#d;#h;#c;#a=[];static#p=8;static#m=2;static#f=hu.#p+hu.#m;constructor({x:t,y:n},r,i,s,o,a=0){this.#e=r,this.#c=s*i,this.#i=o,this.#r.set([NaN,NaN,NaN,NaN,t,n],6),this.#n=a,this.#d=hu.#p*i,this.#u=hu.#f*i,this.#h=i,this.#a.push(t,n)}get free(){return!0}isEmpty(){return isNaN(this.#r[8])}#v(){const t=this.#r.subarray(4,6),n=this.#r.subarray(16,18),[r,i,s,o]=this.#e;return[(this.#o+(t[0]-n[0])/2-r)/s,(this.#l+(t[1]-n[1])/2-i)/o,(this.#o+(n[0]-t[0])/2-r)/s,(this.#l+(n[1]-t[1])/2-i)/o]}add({x:t,y:n}){this.#o=t,this.#l=n;const[r,i,s,o]=this.#e;let[a,l,c,d]=this.#r.subarray(8,12);const f=t-c,p=n-d,g=Math.hypot(f,p);if(g<this.#u)return!1;const v=g-this.#d,b=v/g,w=b*f,S=b*p;let C=a,_=l;a=c,l=d,c+=w,d+=S,this.#a?.push(t,n);const k=-S/v,R=w/v,N=k*this.#c,T=R*this.#c;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([c+N,d+T],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([c-N,d-T],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([a+N,l+T],2),this.#s.push(NaN,NaN,NaN,NaN,(a+N-r)/s,(l+T-i)/o),this.#r.set([a-N,l-T],14),this.#t.push(NaN,NaN,NaN,NaN,(a-N-r)/s,(l-T-i)/o)),this.#r.set([C,_,a,l,c,d],6),!this.isEmpty()):(this.#r.set([C,_,a,l,c,d],6),Math.abs(Math.atan2(_-l,C-a)-Math.atan2(S,w))<Math.PI/2?([a,l,c,d]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((a+c)/2-r)/s,((l+d)/2-i)/o),[a,l,C,_]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+a)/2-r)/s,((_+l)/2-i)/o),!0):([C,_,a,l,c,d]=this.#r.subarray(0,6),this.#s.push(((C+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+d)/6-i)/o,((a+c)/2-r)/s,((l+d)/2-i)/o),[c,d,a,l,C,_]=this.#r.subarray(12,18),this.#t.push(((C+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+c)/6-r)/s,((5*l+d)/6-i)/o,((a+c)/2-r)/s,((l+d)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,n=this.#t,r=this.#r.subarray(4,6),i=this.#r.subarray(16,18),[s,o,a,l]=this.#e,[c,d,f,p]=this.#v();if(isNaN(this.#r[6])&&!this.isEmpty())return`M${(this.#r[2]-s)/a} ${(this.#r[3]-o)/l} L${(this.#r[4]-s)/a} ${(this.#r[5]-o)/l} L${c} ${d} L${f} ${p} L${(this.#r[16]-s)/a} ${(this.#r[17]-o)/l} L${(this.#r[14]-s)/a} ${(this.#r[15]-o)/l} Z`;const g=[];g.push(`M${t[4]} ${t[5]}`);for(let v=6;v<t.length;v+=6)isNaN(t[v])?g.push(`L${t[v+4]} ${t[v+5]}`):g.push(`C${t[v]} ${t[v+1]} ${t[v+2]} ${t[v+3]} ${t[v+4]} ${t[v+5]}`);g.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${c} ${d} L${f} ${p} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let v=n.length-6;v>=6;v-=6)isNaN(n[v])?g.push(`L${n[v+4]} ${n[v+5]}`):g.push(`C${n[v]} ${n[v+1]} ${n[v+2]} ${n[v+3]} ${n[v+4]} ${n[v+5]}`);return g.push(`L${n[4]} ${n[5]} Z`),g.join(" ")}getOutlines(){const t=this.#s,n=this.#t,r=this.#r,i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,c]=this.#e,d=new Float64Array((this.#a?.length??0)+2);for(let S=0,C=d.length-2;S<C;S+=2)d[S]=(this.#a[S]-o)/l,d[S+1]=(this.#a[S+1]-a)/c;d[d.length-2]=(this.#o-o)/l,d[d.length-1]=(this.#l-a)/c;const[f,p,g,v]=this.#v();if(isNaN(r[6])&&!this.isEmpty()){const S=new Float64Array(36);return S.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/c,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/c,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/c,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/c],0),new cR(S,d,this.#e,this.#h,this.#n,this.#i)}const b=new Float64Array(this.#s.length+24+this.#t.length);let w=t.length;for(let S=0;S<w;S+=2){if(isNaN(t[S])){b[S]=b[S+1]=NaN;continue}b[S]=t[S],b[S+1]=t[S+1]}b.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/c,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/c],w),w+=24;for(let S=n.length-6;S>=6;S-=6)for(let C=0;C<6;C+=2){if(isNaN(n[S+C])){b[w]=b[w+1]=NaN,w+=2;continue}b[w]=n[S+C],b[w+1]=n[S+C+1],w+=2}return b.set([NaN,NaN,NaN,NaN,n[4],n[5]],w),new cR(b,d,this.#e,this.#h,this.#n,this.#i)}}class cR extends F7{#e;#t=null;#n;#i;#s;#r;#o;constructor(t,n,r,i,s,o){super(),this.#o=t,this.#s=n,this.#e=r,this.#r=i,this.#n=s,this.#i=o,this.#d(o);const{x:a,y:l,width:c,height:d}=this.#t;for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-a)/c,t[f+1]=(t[f+1]-l)/d;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-a)/c,n[f+1]=(n[f+1]-l)/d}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let n=6,r=this.#o.length;n<r;n+=6){if(isNaN(this.#o[n])){t.push(`L${this.#o[n+4]} ${this.#o[n+5]}`);continue}t.push(`C${this.#o[n]} ${this.#o[n+1]} ${this.#o[n+2]} ${this.#o[n+3]} ${this.#o[n+4]} ${this.#o[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,r,i],s){const o=r-t,a=i-n;let l,c;switch(s){case 0:l=this.#l(this.#o,t,i,o,-a),c=this.#l(this.#s,t,i,o,-a);break;case 90:l=this.#u(this.#o,t,n,o,a),c=this.#u(this.#s,t,n,o,a);break;case 180:l=this.#l(this.#o,r,n,-o,a),c=this.#l(this.#s,r,n,-o,a);break;case 270:l=this.#u(this.#o,r,i,-o,-a),c=this.#u(this.#s,r,i,-o,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}#l(t,n,r,i,s){const o=new Float64Array(t.length);for(let a=0,l=t.length;a<l;a+=2)o[a]=n+t[a]*i,o[a+1]=r+t[a+1]*s;return o}#u(t,n,r,i,s){const o=new Float64Array(t.length);for(let a=0,l=t.length;a<l;a+=2)o[a]=n+t[a+1]*i,o[a+1]=r+t[a]*s;return o}#d(t){const n=this.#o;let r=n[4],i=n[5],s=r,o=i,a=r,l=i,c=r,d=i;const f=t?Math.max:Math.min;for(let w=6,S=n.length;w<S;w+=6){if(isNaN(n[w]))s=Math.min(s,n[w+4]),o=Math.min(o,n[w+5]),a=Math.max(a,n[w+4]),l=Math.max(l,n[w+5]),d<n[w+5]?(c=n[w+4],d=n[w+5]):d===n[w+5]&&(c=f(c,n[w+4]));else{const C=$e.bezierBoundingBox(r,i,...n.slice(w,w+6));s=Math.min(s,C[0]),o=Math.min(o,C[1]),a=Math.max(a,C[2]),l=Math.max(l,C[3]),d<C[3]?(c=C[2],d=C[3]):d===C[3]&&(c=f(c,C[2]))}r=n[w+4],i=n[w+5]}const p=s-this.#n,g=o-this.#n,v=a-s+2*this.#n,b=l-o+2*this.#n;this.#t={x:p,y:g,width:v,height:b,lastPoint:[c,d]}}get box(){return this.#t}getNewOutline(t,n){const{x:r,y:i,width:s,height:o}=this.#t,[a,l,c,d]=this.#e,f=s*c,p=o*d,g=r*c+a,v=i*d+l,b=new hu({x:this.#s[0]*f+g,y:this.#s[1]*p+v},this.#e,this.#r,t,this.#i,n??this.#n);for(let w=2;w<this.#s.length;w+=2)b.add({x:this.#s[w]*f+g,y:this.#s[w+1]*p+v});return b.getOutlines()}}class Po{#e=this.#m.bind(this);#t=this.#v.bind(this);#n=null;#i=null;#s;#r=null;#o=!1;#l=!1;#u=null;#d;#h=null;#c;static get _keyboardManager(){return Rt(this,"_keyboardManager",new Wg([[["Escape","mac+Escape"],Po.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Po.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Po.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Po.prototype._moveToPrevious],[["Home","mac+Home"],Po.prototype._moveToBeginning],[["End","mac+End"],Po.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:n=null}){t?(this.#l=!1,this.#c=nt.HIGHLIGHT_COLOR,this.#u=t):(this.#l=!0,this.#c=nt.HIGHLIGHT_DEFAULT_COLOR),this.#h=t?._uiManager||n,this.#d=this.#h._eventBus,this.#s=t?.color||this.#h?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const t=this.#n=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const n=this.#h._signal;t.addEventListener("click",this.#f.bind(this),{signal:n}),t.addEventListener("keydown",this.#e,{signal:n});const r=this.#i=document.createElement("span");return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=this.#s,t.append(r),t}renderMainDropdown(){const t=this.#r=this.#a();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#a(){const t=document.createElement("div"),n=this.#h._signal;t.addEventListener("contextmenu",Pi,{signal:n}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of this.#h.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===this.#s),s.addEventListener("click",this.#p.bind(this,i),{signal:n}),t.append(s)}return t.addEventListener("keydown",this.#e,{signal:n}),t}#p(t,n){n.stopPropagation(),this.#d.dispatch("switchannotationeditorparams",{source:this,type:this.#c,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#n){this.#f(t);return}const n=t.target.getAttribute("data-color");n&&this.#p(n,t)}_moveToNext(t){if(!this.#g){this.#f(t);return}if(t.target===this.#n){this.#r.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#r?.firstChild||t.target===this.#n){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#f(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#f(t);return}this.#r.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#f(t);return}this.#r.lastChild?.focus()}#m(t){Po._keyboardManager.exec(this,t)}#f(t){if(this.#g){this.hideDropdown();return}if(this.#o=t.detail===0,window.addEventListener("pointerdown",this.#t,{signal:this.#h._signal}),this.#r){this.#r.classList.remove("hidden");return}const n=this.#r=this.#a();this.#n.append(n)}#v(t){this.#r?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#g(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#l){if(!this.#g){this.#u?.unselect();return}this.hideDropdown(),this.#n.focus({preventScroll:!0,focusVisible:this.#o})}}updateColor(t){if(this.#i&&(this.#i.style.backgroundColor=t),!this.#r)return;const n=this.#h.highlightColors.values();for(const r of this.#r.children)r.setAttribute("aria-selected",n.next().value===t)}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#r?.remove(),this.#r=null}}class Kn extends et{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#o=null;#l=0;#u=null;#d=null;#h=null;#c=!1;#a=this.#E.bind(this);#p=null;#m;#f=null;#v="";#g;#b="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=At.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Kn.prototype;return Rt(this,"_keyboardManager",new Wg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Kn._defaultColor,this.#g=t.thickness||Kn._defaultThickness,this.#m=t.opacity||Kn._defaultOpacity,this.#n=t.boxes||null,this.#b=t.methodOfCreation||"",this.#v=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#c=!0,this.#S(t),this.#w()):(this.#e=t.anchorNode,this.#t=t.anchorOffset,this.#o=t.focusNode,this.#l=t.focusOffset,this.#x(),this.#w(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#c?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#b}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#x(){const t=new lR(this.#n,.001);this.#d=t.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#d.box;const n=new lR(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=n.getOutlines();const{lastPoint:r}=this.#r.box;this.#p=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#S({highlightOutlines:t,highlightId:n,clipPathId:r}){this.#d=t;const i=1.5;if(this.#r=t.getNewOutline(this.#g/2+i,.0025),n>=0)this.#h=n,this.#i=r,this.parent.drawLayer.finalizeLine(n,t),this.#f=this.parent.drawLayer.highlightOutline(this.#r);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#h,t),this.parent.drawLayer.updateBox(this.#h,Kn.#y(this.#d.box,(d-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#r),this.parent.drawLayer.updateBox(this.#f,Kn.#y(this.#r.box,d))}const{x:s,y:o,width:a,height:l}=t.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{const[d,f]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*f/d,this.height=l*d/f;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{const[d,f]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*f/d,this.height=l*d/f;break}}const{lastPoint:c}=this.#r.box;this.#p=[(c[0]-s)/a,(c[1]-o)/l]}static initialize(t,n){et.initialize(t,n),Kn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,n){switch(t){case nt.HIGHLIGHT_DEFAULT_COLOR:Kn._defaultColor=n;break;case nt.HIGHLIGHT_THICKNESS:Kn._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return this.#p}updateParams(t,n){switch(t){case nt.HIGHLIGHT_COLOR:this.#_(n);break;case nt.HIGHLIGHT_THICKNESS:this.#C(n);break}}static get defaultPropertiesToUpdate(){return[[nt.HIGHLIGHT_DEFAULT_COLOR,Kn._defaultColor],[nt.HIGHLIGHT_THICKNESS,Kn._defaultThickness]]}get propertiesToUpdate(){return[[nt.HIGHLIGHT_COLOR,this.color||Kn._defaultColor],[nt.HIGHLIGHT_THICKNESS,this.#g||Kn._defaultThickness],[nt.HIGHLIGHT_FREE,this.#c]]}#_(t){const n=i=>{this.color=i,this.parent?.drawLayer.changeColor(this.#h,i),this.#s?.updateColor(i)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#C(t){const n=this.#g,r=i=>{this.#g=i,this.#T(i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#s=new Po({editor:this}),t.addColorPicker(this.#s)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,this.#k())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#A(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?this.#A():t&&(this.#w(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}#T(t){if(!this.#c)return;this.#S({highlightOutlines:this.#d.getNewOutline(t/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)}#A(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#w(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#i}=t.drawLayer.highlight(this.#d,this.color,this.#m),this.#f=t.drawLayer.highlightOutline(this.#r),this.#u&&(this.#u.style.clipPath=this.#i))}static#y({x:t,y:n,width:r,height:i},s){switch(s){case 90:return{x:1-n-i,y:t,width:i,height:r};case 180:return{x:1-t-r,y:1-n-i,width:r,height:i};case 270:return{x:n,y:1-t-r,width:i,height:r}}return{x:t,y:n,width:r,height:i}}rotate(t){const{drawLayer:n}=this.parent;let r;this.#c?(t=(t-this.rotation+360)%360,r=Kn.#y(this.#d.box,t)):r=Kn.#y(this,t),n.rotate(this.#h,t),n.rotate(this.#f,t),n.updateBox(this.#h,r),n.updateBox(this.#f,Kn.#y(this.#r.box,t))}render(){if(this.div)return this.div;const t=super.render();this.#v&&(t.setAttribute("aria-label",this.#v),t.setAttribute("role","mark")),this.#c?t.classList.add("free"):this.div.addEventListener("keydown",this.#a,{signal:this._uiManager._signal});const n=this.#u=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#i;const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),ex(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#f,"hovered")}#E(t){Kn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#e)return;const n=window.getSelection();t?n.setPosition(this.#e,this.#t):n.setPosition(this.#o,this.#l)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#c||this.#R(!1))}get _mustFixPosition(){return!this.#c}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(this.#h,t),this.parent.drawLayer.show(this.#f,t))}#k(){return this.#c?this.rotation:0}#M(){if(this.#c)return null;const[t,n]=this.pageDimensions,r=this.#n,i=new Float32Array(r.length*8);let s=0;for(const{x:o,y:a,width:l,height:c}of r){const d=o*t,f=(1-a-c)*n;i[s]=i[s+4]=d,i[s+1]=i[s+3]=f,i[s+2]=i[s+6]=d+l*t,i[s+5]=i[s+7]=f+c*n,s+=8}return i}#N(t){return this.#d.serialize(t,this.#k())}static startHighlighting(t,n,{target:r,x:i,y:s}){const{x:o,y:a,width:l,height:c}=r.getBoundingClientRect(),d=b=>{this.#I(t,b)},f=t._signal,p={capture:!0,passive:!1,signal:f},g=b=>{b.preventDefault(),b.stopPropagation()},v=b=>{r.removeEventListener("pointermove",d),window.removeEventListener("blur",v),window.removeEventListener("pointerup",v),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Pi),this.#O(t,b)};window.addEventListener("blur",v,{signal:f}),window.addEventListener("pointerup",v,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Pi,{signal:f}),r.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new hu({x:i,y:s},[o,a,l,c],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#I(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#O(t,n){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(t,n,r){const i=super.deserialize(t,n,r),{rect:[s,o,a,l],color:c,quadPoints:d}=t;i.color=$e.makeHexColor(...c),i.#m=t.opacity;const[f,p]=i.pageDimensions;i.width=(a-s)/f,i.height=(l-o)/p;const g=i.#n=[];for(let v=0;v<d.length;v+=8)g.push({x:(d[4]-a)/f,y:(l-(1-d[v+5]))/p,width:(d[v+2]-d[v])/f,height:(d[v+5]-d[v+1])/p});return i.#x(),i}serialize(t=!1){if(this.isEmpty()||t)return null;const n=this.getRect(0,0),r=et._colorManager.convert(this.color);return{annotationType:At.HIGHLIGHT,color:r,opacity:this.#m,thickness:this.#g,quadPoints:this.#M(),outlines:this.#N(n),pageIndex:this.pageIndex,rect:n,rotation:this.#k(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class Pr extends et{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#s=this.canvasPointerup.bind(this);#r=this.canvasPointerdown.bind(this);#o=null;#l=new Path2D;#u=!1;#d=!1;#h=!1;#c=null;#a=0;#p=0;#m=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=At.INK;constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){et.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case nt.INK_THICKNESS:Pr._defaultThickness=n;break;case nt.INK_COLOR:Pr._defaultColor=n;break;case nt.INK_OPACITY:Pr._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case nt.INK_THICKNESS:this.#f(n);break;case nt.INK_COLOR:this.#v(n);break;case nt.INK_OPACITY:this.#g(n);break}}static get defaultPropertiesToUpdate(){return[[nt.INK_THICKNESS,Pr._defaultThickness],[nt.INK_COLOR,Pr._defaultColor||et._defaultLineColor],[nt.INK_OPACITY,Math.round(Pr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[nt.INK_THICKNESS,this.thickness||Pr._defaultThickness],[nt.INK_COLOR,this.color||Pr._defaultColor||et._defaultLineColor],[nt.INK_OPACITY,Math.round(100*(this.opacity??Pr._defaultOpacity))]]}#f(t){const n=i=>{this.thickness=i,this.#L()},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#v(t){const n=i=>{this.color=i,this.#E()},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(t){const n=i=>{this.opacity=i,this.#E()};t/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#M()),this.isAttachedToDOM||(this.parent.add(this),this.#N()),this.#L()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#o&&(clearTimeout(this.#o),this.#o=null),this.#c?.disconnect(),this.#c=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,r=this.width*t,i=this.height*n;this.setDimensions(r,i)}enableEditMode(){this.#u||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#r,{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#r))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#b(){const{parentRotation:t,parentDimensions:[n,r]}=this;switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}}#x(){const{ctx:t,color:n,opacity:r,thickness:i,parentScale:s,scaleFactor:o}=this;t.lineWidth=i*s/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${_Re(r)}`}#S(t,n){const r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Pi,{signal:r}),this.canvas.addEventListener("pointerleave",this.#i,{signal:r}),this.canvas.addEventListener("pointermove",this.#n,{signal:r}),this.canvas.addEventListener("pointerup",this.#s,{signal:r}),this.canvas.removeEventListener("pointerdown",this.#r),this.isEditing=!0,this.#h||(this.#h=!0,this.#N(),this.thickness||=Pr._defaultThickness,this.color||=Pr._defaultColor||et._defaultLineColor,this.opacity??=Pr._defaultOpacity),this.currentPath.push([t,n]),this.#d=!1,this.#x(),this.#m=()=>{this.#A(),this.#m&&window.requestAnimationFrame(this.#m)},window.requestAnimationFrame(this.#m)}#_(t,n){const[r,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&n===i)return;const s=this.currentPath;let o=this.#l;if(s.push([t,n]),this.#d=!0,s.length<=2){o.moveTo(...s[0]),o.lineTo(t,n);return}s.length===3&&(this.#l=o=new Path2D,o.moveTo(...s[0])),this.#w(o,...s.at(-3),...s.at(-2),t,n)}#C(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);this.#l.lineTo(...t)}#T(t,n){this.#m=null,t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),this.#_(t,n),this.#C();let r;if(this.currentPath.length!==1)r=this.#y();else{const l=[t,n];r=[[l,l.slice(),l.slice(),l]]}const i=this.#l,s=this.currentPath;this.currentPath=[],this.#l=new Path2D;const o=()=>{this.allRawPaths.push(s),this.paths.push(r),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#M()),this.#L())};this.addCommands({cmd:o,undo:a,mustExec:!0})}#A(){if(!this.#d)return;this.#d=!1;const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(o=>o[0]),i=n.map(o=>o[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)s.stroke(o);s.stroke(this.#l),s.restore()}#w(t,n,r,i,s,o,a){const l=(n+i)/2,c=(r+s)/2,d=(i+o)/2,f=(s+a)/2;t.bezierCurveTo(l+2*(i-l)/3,c+2*(s-c)/3,d+2*(i-d)/3,f+2*(s-f)/3,d,f)}#y(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let r,[i,s]=t[0];for(r=1;r<t.length-2;r++){const[p,g]=t[r],[v,b]=t[r+1],w=(p+v)/2,S=(g+b)/2,C=[i+2*(p-i)/3,s+2*(g-s)/3],_=[w+2*(p-w)/3,S+2*(g-S)/3];n.push([[i,s],C,_,[w,S]]),[i,s]=[w,S]}const[o,a]=t[r],[l,c]=t[r+1],d=[i+2*(o-i)/3,s+2*(a-s)/3],f=[l+2*(o-l)/3,c+2*(a-c)/3];return n.push([[i,s],d,f,[l,c]]),n}#E(){if(this.isEmpty()){this.#O();return}this.#x();const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),this.#O();for(const r of this.bezierPath2D)n.stroke(r)}commit(){this.#u||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#u=!0,this.div.classList.add("disabled"),this.#L(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||this.#u||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#S(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#_(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#R(t)}canvasPointerleave(t){this.#R(t)}#R(t){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#s),this.canvas.addEventListener("pointerdown",this.#r,{signal:this._uiManager._signal}),this.#o&&clearTimeout(this.#o),this.#o=setTimeout(()=>{this.#o=null,this.canvas.removeEventListener("contextmenu",Pi)},10),this.#T(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#M(){this.#c=new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#u}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,i,s,o]=this.#b();if(this.setAt(r,i,0,0),this.setDims(s,o),this.#k(),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(t*a,n*l,this.width*a,this.height*l),this.#h=!0,this.#N(),this.setDims(this.width*a,this.height*l),this.#E(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#M(),this.div}#N(){if(!this.#h)return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),this.#O()}setDimensions(t,n){const r=Math.round(t),i=Math.round(n);if(this.#a===r&&this.#p===i)return;this.#a=r,this.#p=i,this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=t/s,this.height=n/o,this.fixAndSetPosition(),this.#u&&this.#I(t,n),this.#N(),this.#E(),this.canvas.style.visibility="visible",this.fixDims()}#I(t,n){const r=this.#$(),i=(t-r)/this.#t,s=(n-r)/this.#e;this.scaleFactor=Math.min(i,s)}#O(){const t=this.#$()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#j(t){const n=new Path2D;for(let r=0,i=t.length;r<i;r++){const[s,o,a,l]=t[r];r===0&&n.moveTo(...s),n.bezierCurveTo(o[0],o[1],a[0],a[1],l[0],l[1])}return n}static#D(t,n,r){const[i,s,o,a]=n;switch(r){case 0:for(let l=0,c=t.length;l<c;l+=2)t[l]+=i,t[l+1]=a-t[l+1];break;case 90:for(let l=0,c=t.length;l<c;l+=2){const d=t[l];t[l]=t[l+1]+i,t[l+1]=d+s}break;case 180:for(let l=0,c=t.length;l<c;l+=2)t[l]=o-t[l],t[l+1]+=s;break;case 270:for(let l=0,c=t.length;l<c;l+=2){const d=t[l];t[l]=o-t[l+1],t[l+1]=a-d}break;default:throw new Error("Invalid rotation")}return t}static#V(t,n,r){const[i,s,o,a]=n;switch(r){case 0:for(let l=0,c=t.length;l<c;l+=2)t[l]-=i,t[l+1]=a-t[l+1];break;case 90:for(let l=0,c=t.length;l<c;l+=2){const d=t[l];t[l]=t[l+1]-s,t[l+1]=d-i}break;case 180:for(let l=0,c=t.length;l<c;l+=2)t[l]=o-t[l],t[l+1]-=s;break;case 270:for(let l=0,c=t.length;l<c;l+=2){const d=t[l];t[l]=a-t[l+1],t[l+1]=o-d}break;default:throw new Error("Invalid rotation")}return t}#q(t,n,r,i){const s=[],o=this.thickness/2,a=t*n+o,l=t*r+o;for(const c of this.paths){const d=[],f=[];for(let p=0,g=c.length;p<g;p++){const[v,b,w,S]=c[p];if(v[0]===S[0]&&v[1]===S[1]&&g===1){const L=t*v[0]+a,D=t*v[1]+l;d.push(L,D),f.push(L,D);break}const C=t*v[0]+a,_=t*v[1]+l,k=t*b[0]+a,R=t*b[1]+l,N=t*w[0]+a,T=t*w[1]+l,M=t*S[0]+a,O=t*S[1]+l;p===0&&(d.push(C,_),f.push(C,_)),d.push(k,R,N,T,M,O),f.push(k,R),p===g-1&&f.push(M,O)}s.push({bezier:Pr.#D(d,i,this.rotation),points:Pr.#D(f,i,this.rotation)})}return s}#B(){let t=1/0,n=-1/0,r=1/0,i=-1/0;for(const s of this.paths)for(const[o,a,l,c]of s){const d=$e.bezierBoundingBox(...o,...a,...l,...c);t=Math.min(t,d[0]),r=Math.min(r,d[1]),n=Math.max(n,d[2]),i=Math.max(i,d[3])}return[t,r,n,i]}#$(){return this.#u?Math.ceil(this.thickness*this.parentScale):0}#L(t=!1){if(this.isEmpty())return;if(!this.#u){this.#E();return}const n=this.#B(),r=this.#$();this.#t=Math.max(et.MIN_SIZE,n[2]-n[0]),this.#e=Math.max(et.MIN_SIZE,n[3]-n[1]);const i=Math.ceil(r+this.#t*this.scaleFactor),s=Math.ceil(r+this.#e*this.scaleFactor),[o,a]=this.parentDimensions;this.width=i/o,this.height=s/a,this.setAspectRatio(i,s);const l=this.translationX,c=this.translationY;this.translationX=-n[0],this.translationY=-n[1],this.#N(),this.#E(),this.#a=i,this.#p=s,this.setDims(i,s);const d=t?r/this.scaleFactor/2:0;this.translate(l-this.translationX-d,c-this.translationY-d)}static deserialize(t,n,r){if(t instanceof L7)return null;const i=super.deserialize(t,n,r);i.thickness=t.thickness,i.color=$e.makeHexColor(...t.color),i.opacity=t.opacity;const[s,o]=i.pageDimensions,a=i.width*s,l=i.height*o,c=i.parentScale,d=t.thickness/2;i.#u=!0,i.#a=Math.round(a),i.#p=Math.round(l);const{paths:f,rect:p,rotation:g}=t;for(let{bezier:b}of f){b=Pr.#V(b,p,g);const w=[];i.paths.push(w);let S=c*(b[0]-d),C=c*(b[1]-d);for(let k=2,R=b.length;k<R;k+=6){const N=c*(b[k]-d),T=c*(b[k+1]-d),M=c*(b[k+2]-d),O=c*(b[k+3]-d),L=c*(b[k+4]-d),D=c*(b[k+5]-d);w.push([[S,C],[N,T],[M,O],[L,D]]),S=L,C=D}const _=this.#j(w);i.bezierPath2D.push(_)}const v=i.#B();return i.#t=Math.max(et.MIN_SIZE,v[2]-v[0]),i.#e=Math.max(et.MIN_SIZE,v[3]-v[1]),i.#I(a,l),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=et._colorManager.convert(this.ctx.strokeStyle);return{annotationType:At.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#q(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class WN extends et{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#o=null;#l=null;#u=null;#d=!1;#h=!1;static _type="stamp";static _editorType=At.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#s=t.bitmapFile}static initialize(t,n){et.initialize(t,n)}static get supportedTypes(){return Rt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Rt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(At.STAMP,{bitmapFile:t.getAsFile()})}#c(t,n=!1){if(!t){this.remove();return}this.#e=t.bitmap,n||(this.#t=t.id,this.#d=t.isSvg),t.file&&(this.#r=t.file.name),this.#m()}#a(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#c(r,!0)).finally(()=>this.#a());return}if(this.#i){const r=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#c(i)).finally(()=>this.#a());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(r).then(i=>this.#c(i)).finally(()=>this.#a());return}const t=document.createElement("input");t.type="file",t.accept=WN.supportedTypesStr;const n=this._uiManager._signal;this.#n=new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this.#c(i)}r()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#a()),t.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#l?.disconnect(),this.#l=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#m():this.#p(),this.width){const[r,i]=this.parentDimensions;this.setAt(t*r,n*i,this.width*r,this.height*i)}return this.div}#m(){const{div:t}=this;let{width:n,height:r}=this.#e;const[i,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>o*i||r>o*s){const d=Math.min(o*i/n,o*s/r);n*=d,r*=d}const[a,l]=this.parentDimensions;this.setDims(n*a/i,r*l/s),this._uiManager.enableWaiting(!1);const c=this.#o=document.createElement("canvas");t.append(c),t.hidden=!1,this.#g(n,r),this.#x(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&c.setAttribute("aria-label",this.#r)}#f(t,n){const[r,i]=this.parentDimensions;this.width=t/r,this.height=n/i,this.setDims(t,n),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#u!==null&&clearTimeout(this.#u);const s=200;this.#u=setTimeout(()=>{this.#u=null,this.#g(t,n)},s)}#v(t,n){const{width:r,height:i}=this.#e;let s=r,o=i,a=this.#e;for(;s>2*t||o>2*n;){const l=s,c=o;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(s,o);d.getContext("2d").drawImage(a,0,0,l,c,0,0,s,o),a=d.transferToImageBitmap()}return a}#g(t,n){t=Math.ceil(t),n=Math.ceil(n);const r=this.#o;if(!r||r.width===t&&r.height===n)return;r.width=t,r.height=n;const i=this.#d?this.#e:this.#v(t,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const a=new OffscreenCanvas(t,n).getContext("2d");a.drawImage(i,0,0,i.width,i.height,0,0,t,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:a.getImageData(0,0,t,n).data,width:t,height:n,channels:4}}).then(l=>{const c=l?.output||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const s=r.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(i,0,0,i.width,i.height,0,0,t,n)}getImageForAltText(){return this.#o}#b(t){if(t){if(this.#d){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#d){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*$f.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*$f.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),o.transferToImageBitmap()}return structuredClone(this.#e)}#x(){this._uiManager._signal&&(this.#l=new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.#f(n.width,n.height)}),this.#l.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#l?.disconnect(),this.#l=null},{once:!0}))}static deserialize(t,n,r){if(t instanceof z7)return null;const i=super.deserialize(t,n,r),{rect:s,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:c}=t;a&&r.imageManager.isValidId(a)?i.#t=a:i.#i=o,i.#d=l;const[d,f]=i.pageDimensions;return i.width=(s[2]-s[0])/d,i.height=(s[3]-s[1])/f,c&&(i.altTextData=c),i}serialize(t=!1,n=null){if(this.isEmpty())return null;const r={annotationType:At.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#d,structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=this.#b(!0),r.accessibilityData=this.altTextData,r;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),n===null)return r;n.stamps||=new Map;const o=this.#d?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:o,serialized:r}),r.bitmap=this.#b(!1);else if(this.#d){const a=n.stamps.get(this.#t);o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=this.#b(!1))}return r}}class ka{#e;#t=!1;#n=null;#i=null;#s=null;#r=null;#o=null;#l=new Map;#u=!1;#d=!1;#h=!1;#c=null;#a;static _initialized=!1;static#p=new Map([ur,Pr,WN,Kn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){const d=[...ka.#p.values()];if(!ka._initialized){ka._initialized=!0;for(const f of d)f.initialize(c,t)}t.registerEditorTypes(d),this.#a=t,this.pageIndex=n,this.div=r,this.#e=i,this.#n=s,this.viewport=l,this.#c=a,this.drawLayer=o,this.#a.addLayer(this)}get isEmpty(){return this.#l.size===0}get isInvisible(){return this.isEmpty&&this.#a.getMode()===At.NONE}updateToolbar(t){this.#a.updateToolbar(t)}updateMode(t=this.#a.getMode()){switch(this.#b(),t){case At.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case At.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case At.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of ka.#p.values())n.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}addInkEditorIfNeeded(t){if(this.#a.getMode()!==At.INK)return;if(!t){for(const r of this.#l.values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#a.setEditingState(t)}addCommands(t){this.#a.addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const r of this.#l.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#a.removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!this.#n)return;const n=this.#n.getEditableAnnotations();for(const r of n){if(r.hide(),this.#a.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){this.#h=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,n=new Map;for(const i of this.#l.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){t.set(i.annotationElementId,i);continue}else n.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const s of i){const{id:o}=s.data;if(this.#a.isDeletedAnnotationElement(o))continue;let a=n.get(o);if(a){a.resetAnnotationElement(s),a.show(!1),s.show();continue}a=t.get(o),a&&(this.#a.addChangedExistingAnnotation(a),a.renderAnnotationElement(s),a.show(!1)),s.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of ka.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#h=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#a.getActive()!==t&&this.#a.setActiveEditor(t)}enableTextSelection(){this.div.tabIndex=-1,this.#c?.div&&!this.#r&&(this.#r=this.#m.bind(this),this.#c.div.addEventListener("pointerdown",this.#r,{signal:this.#a._signal}),this.#c.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#r&&(this.#c.div.removeEventListener("pointerdown",this.#r),this.#r=null,this.#c.div.classList.remove("highlighting"))}#m(t){if(this.#a.unselectAll(),t.target===this.#c.div){const{isMac:n}=Ci.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#a.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),Kn.startHighlighting(this,this.#a.direction==="ltr",t),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free")},{once:!0,signal:this.#a._signal}),t.preventDefault()}}enableClick(){if(this.#s)return;const t=this.#a._signal;this.#s=this.pointerdown.bind(this),this.#i=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#s,{signal:t}),this.div.addEventListener("pointerup",this.#i,{signal:t})}disableClick(){this.#s&&(this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#i),this.#s=null,this.#i=null)}attach(t){this.#l.set(t.id,t);const{annotationElementId:n}=t;n&&this.#a.isDeletedAnnotationElement(n)&&this.#a.removeDeletedAnnotationElement(t)}detach(t){this.#l.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#h&&t.annotationElementId&&this.#a.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#a.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#d||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#a.addDeletedAnnotationElement(t.annotationElementId),et.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#a.addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#a.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!this.#o&&(t._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),n.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),r=()=>{t.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return this.#a.getId()}get#f(){return ka.#p.get(this.#a.getMode())}get _signal(){return this.#a._signal}#v(t){const n=this.#f;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,n){this.#a.updateToolbar(t),this.#a.updateMode(t);const{offsetX:r,offsetY:i}=this.#g(),s=this.getNextId(),o=this.#v({parent:this,id:s,x:r,y:i,uiManager:this.#a,isCentered:!0,...n});o&&this.add(o)}deserialize(t){return ka.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#a)||null}createAndAddNewEditor(t,n,r={}){const i=this.getNextId(),s=this.#v({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:this.#a,isCentered:n,...r});return s&&this.add(s),s}#g(){const{x:t,y:n,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,t),o=Math.max(0,n),a=Math.min(window.innerWidth,t+r),l=Math.min(window.innerHeight,n+i),c=(s+a)/2-t,d=(o+l)/2-n,[f,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:f,offsetY:p}}addNewEditor(){this.createAndAddNewEditor(this.#g(),!0)}setSelected(t){this.#a.setSelected(t)}toggleSelected(t){this.#a.toggleSelected(t)}isSelected(t){return this.#a.isSelected(t)}unselect(t){this.#a.unselect(t)}pointerup(t){const{isMac:n}=Ci.platform;if(!(t.button!==0||t.ctrlKey&&n)&&t.target===this.div&&this.#u){if(this.#u=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===At.STAMP){this.#a.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#a.getMode()===At.HIGHLIGHT&&this.enableTextSelection(),this.#u){this.#u=!1;return}const{isMac:n}=Ci.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;this.#u=!0;const r=this.#a.getActive();this.#t=!r||r.isEmpty()}findNewParent(t,n,r){const i=this.#a.findParent(n,r);return i===null||i===this?!1:(i.changeParent(t),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const t of this.#l.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#l.clear(),this.#a.removeLayer(this)}#b(){this.#d=!0;for(const t of this.#l.values())t.isEmpty()&&t.remove();this.#d=!1}render({viewport:t}){this.viewport=t,Mu(this.div,t);for(const n of this.#a.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#a.commitOrRemove(),this.#b();const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Mu(this.div,{rotation:r}),n!==r)for(const i of this.#l.values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#a.viewParameters.realScale}}class Ur{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#e){this.#e=t;return}if(this.#e!==t){if(this.#n.size>0)for(const n of this.#n.values())n.remove(),t.append(n);this.#e=t}}static get _svgFactory(){return Rt(this,"_svgFactory",new ON)}static#s(t,{x:n=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=t;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*s}%`}#r(t){const n=Ur._svgFactory.create(1,1,!0);return this.#e.append(n),n.setAttribute("aria-hidden",!0),Ur.#s(n,t),n}#o(t,n){const r=Ur._svgFactory.createElement("clipPath");t.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Ur._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i}highlight(t,n,r,i=!1){const s=this.#t++,o=this.#r(t.box);o.classList.add("highlight"),t.free&&o.classList.add("free");const a=Ur._svgFactory.createElement("defs");o.append(a);const l=Ur._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),i&&this.#i.set(s,l);const d=this.#o(a,c),f=Ur._svgFactory.createElement("use");return o.append(f),o.setAttribute("fill",n),o.setAttribute("fill-opacity",r),f.setAttribute("href",`#${c}`),this.#n.set(s,o),{id:s,clipPathId:`url(#${d})`}}highlightOutline(t){const n=this.#t++,r=this.#r(t.box);r.classList.add("highlightOutline");const i=Ur._svgFactory.createElement("defs");r.append(i);const s=Ur._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("d",t.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(t.free){r.classList.add("free");const d=Ur._svgFactory.createElement("mask");i.append(d),a=`mask_p${this.pageIndex}_${n}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const f=Ur._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ur._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const l=Ur._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.#n.set(n,r),n}finalizeLine(t,n){const r=this.#i.get(t);this.#i.delete(t),this.updateBox(t,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(t,n){this.#n.get(t).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(t){this.remove(t),this.#i.delete(t)}updatePath(t,n){this.#i.get(t).setAttribute("d",n.toSVGPath())}updateBox(t,n){Ur.#s(this.#n.get(t),n)}show(t,n){this.#n.get(t).classList.toggle("hidden",!n)}rotate(t,n){this.#n.get(t).setAttribute("data-main-rotation",n)}changeColor(t,n){this.#n.get(t).setAttribute("fill",n)}changeOpacity(t,n){this.#n.get(t).setAttribute("fill-opacity",n)}addClass(t,n){this.#n.get(t).classList.add(n)}removeClass(t,n){this.#n.get(t).classList.remove(n)}remove(t){this.#e!==null&&(this.#n.get(t).remove(),this.#n.delete(t))}destroy(){this.#e=null;for(const t of this.#n.values())t.remove();this.#n.clear()}}Je.AbortException;Je.AnnotationEditorLayer;Je.AnnotationEditorParamsType;Je.AnnotationEditorType;Je.AnnotationEditorUIManager;Je.AnnotationLayer;Je.AnnotationMode;Je.CMapCompressionType;Je.ColorPicker;Je.DOMSVGFactory;Je.DrawLayer;Je.FeatureTest;var $7=Je.GlobalWorkerOptions;Je.ImageKind;Je.InvalidPDFException;Je.MissingPDFException;Je.OPS;Je.Outliner;Je.PDFDataRangeTransport;Je.PDFDateString;Je.PDFWorker;Je.PasswordResponses;Je.PermissionFlag;Je.PixelsPerInch;Je.RenderingCancelledException;Je.TextLayer;Je.UnexpectedResponseException;Je.Util;Je.VerbosityLevel;Je.XfaLayer;Je.build;Je.createValidAbsoluteUrl;Je.fetchData;var tPe=Je.getDocument;Je.getFilenameFromUrl;Je.getPdfFilenameFromUrl;Je.getXfaPageViewport;Je.isDataScheme;Je.isPdfFile;Je.noContextMenu;Je.normalizeUnicode;Je.renderTextLayer;Je.setLayerDimensions;Je.shadow;Je.updateTextLayer;Je.version;var nPe=Object.defineProperty,rPe=(e,t,n)=>t in e?nPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uR=(e,t,n)=>rPe(e,typeof t!="symbol"?t+"":t,n);class H7 extends x.Component{constructor(){super(...arguments),uR(this,"state",{pdfDocument:null,error:null}),uR(this,"documentRef",ie.createRef())}componentDidMount(){this.load()}componentWillUnmount(){const{pdfDocument:t}=this.state;t&&t.destroy()}componentDidUpdate({url:t}){this.props.url!==t&&this.load()}componentDidCatch(t){const{onError:n}=this.props;n&&n(t),this.setState({pdfDocument:null,error:t})}load(){const{ownerDocument:t=document}=this.documentRef.current||{},{url:n,cMapUrl:r,cMapPacked:i,workerSrc:s}=this.props,{pdfDocument:o}=this.state;this.setState({pdfDocument:null,error:null}),typeof s=="string"&&($7.workerSrc=s),Promise.resolve().then(()=>o?.destroy()).then(()=>{if(!n)return;const a={...this.props,ownerDocument:t,cMapUrl:r,cMapPacked:i};return tPe(a).promise.then(l=>{this.setState({pdfDocument:l})})}).catch(a=>this.componentDidCatch(a))}render(){const{children:t,beforeLoad:n}=this.props,{pdfDocument:r,error:i}=this.state;return E.jsxs(E.Fragment,{children:[E.jsx("span",{ref:this.documentRef}),i?this.renderError():!r||!t?n:t(r)]})}renderError(){const{errorMessage:t}=this.props;return t?ie.cloneElement(t,{error:this.state.error}):null}}uR(H7,"defaultProps",{workerSrc:"https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs"});function iPe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const sPe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oPe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aPe={};function h3(e,t){return(aPe.jsx?oPe:sPe).test(e)}const lPe=/[ \t\n\f\r]/g;function cPe(e){return typeof e=="object"?e.type==="text"?p3(e.value):!1:p3(e)}function p3(e){return e.replace(lPe,"")===""}class Yg{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Yg.prototype.normal={};Yg.prototype.property={};Yg.prototype.space=void 0;function B7(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Yg(n,r,t)}function dR(e){return e.toLowerCase()}class Ii{constructor(t,n){this.attribute=n,this.property=t}}Ii.prototype.attribute="";Ii.prototype.booleanish=!1;Ii.prototype.boolean=!1;Ii.prototype.commaOrSpaceSeparated=!1;Ii.prototype.commaSeparated=!1;Ii.prototype.defined=!1;Ii.prototype.mustUseProperty=!1;Ii.prototype.number=!1;Ii.prototype.overloadedBoolean=!1;Ii.prototype.property="";Ii.prototype.spaceSeparated=!1;Ii.prototype.space=void 0;let uPe=0;const dt=rd(),Xn=rd(),fR=rd(),_e=rd(),nn=rd(),Af=rd(),Wi=rd();function rd(){return 2**++uPe}const hR=Object.freeze(Object.defineProperty({__proto__:null,boolean:dt,booleanish:Xn,commaOrSpaceSeparated:Wi,commaSeparated:Af,number:_e,overloadedBoolean:fR,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),vC=Object.keys(hR);class GN extends Ii{constructor(t,n,r,i){let s=-1;if(super(t,n),m3(this,"space",i),typeof r=="number")for(;++s<vC.length;){const o=vC[s];m3(this,vC[s],(r&hR[o])===hR[o])}}}GN.prototype.defined=!0;function m3(e,t,n){n&&(e[t]=n)}function bh(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new GN(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[dR(r)]=r,n[dR(s.attribute)]=r}return new Yg(t,n,e.space)}const U7=bh({properties:{ariaActiveDescendant:null,ariaAtomic:Xn,ariaAutoComplete:null,ariaBusy:Xn,ariaChecked:Xn,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:Xn,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:Xn,ariaFlowTo:nn,ariaGrabbed:Xn,ariaHasPopup:null,ariaHidden:Xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:_e,ariaLive:null,ariaModal:Xn,ariaMultiLine:Xn,ariaMultiSelectable:Xn,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:Xn,ariaReadOnly:Xn,ariaRelevant:null,ariaRequired:Xn,ariaRoleDescription:nn,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:Xn,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function V7(e,t){return t in e?e[t]:t}function q7(e,t){return V7(e,t.toLowerCase())}const dPe=bh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Af,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:dt,allowPaymentRequest:dt,allowUserMedia:dt,alt:null,as:null,async:dt,autoCapitalize:null,autoComplete:nn,autoFocus:dt,autoPlay:dt,blocking:nn,capture:null,charSet:null,checked:dt,cite:null,className:nn,cols:_e,colSpan:null,content:null,contentEditable:Xn,controls:dt,controlsList:nn,coords:_e|Af,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dt,defer:dt,dir:null,dirName:null,disabled:dt,download:fR,draggable:Xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dt,formTarget:null,headers:nn,height:_e,hidden:fR,high:_e,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:dt,inputMode:null,integrity:null,is:null,isMap:dt,itemId:null,itemProp:nn,itemRef:nn,itemScope:dt,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dt,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:dt,muted:dt,name:null,nonce:null,noModule:dt,noValidate:dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dt,optimum:_e,pattern:null,ping:nn,placeholder:null,playsInline:dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dt,referrerPolicy:null,rel:nn,required:dt,reversed:dt,rows:_e,rowSpan:_e,sandbox:nn,scope:null,scoped:dt,seamless:dt,selected:dt,shadowRootClonable:dt,shadowRootDelegatesFocus:dt,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:Xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:dt,useMap:null,value:Xn,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dt,declare:dt,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:dt,noHref:dt,noShade:dt,noWrap:dt,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:Xn,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dt,disableRemotePlayback:dt,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:q7}),fPe=bh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Wi,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Af,g2:Af,glyphName:Af,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:Wi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Wi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Wi,rev:Wi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Wi,requiredFeatures:Wi,requiredFonts:Wi,requiredFormats:Wi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:Wi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Wi,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Wi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:V7}),W7=bh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),G7=bh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:q7}),K7=bh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),hPe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},pPe=/[A-Z]/g,g3=/-[a-z]/g,mPe=/^data[-\w.:]+$/i;function gPe(e,t){const n=dR(t);let r=t,i=Ii;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mPe.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(g3,yPe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!g3.test(s)){let o=s.replace(pPe,vPe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=GN}return new i(r,t)}function vPe(e){return"-"+e.toLowerCase()}function yPe(e){return e.charAt(1).toUpperCase()}const bPe=B7([U7,dPe,W7,G7,K7],"html"),KN=B7([U7,fPe,W7,G7,K7],"svg");function xPe(e){return e.join(" ").trim()}var Qd={},yC,v3;function wPe(){if(v3)return yC;v3=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",d="*",f="",p="comment",g="declaration";function v(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var C=1,_=1;function k(z){var V=z.match(t);V&&(C+=V.length);var j=z.lastIndexOf(l);_=~j?z.length-j:_+z.length}function R(){var z={line:C,column:_};return function(V){return V.position=new N(z),O(),V}}function N(z){this.start=z,this.end={line:C,column:_},this.source=S.source}N.prototype.content=w;function T(z){var V=new Error(S.source+":"+C+":"+_+": "+z);if(V.reason=z,V.filename=S.source,V.line=C,V.column=_,V.source=w,!S.silent)throw V}function M(z){var V=z.exec(w);if(V){var j=V[0];return k(j),w=w.slice(j.length),V}}function O(){M(n)}function L(z){var V;for(z=z||[];V=D();)V!==!1&&z.push(V);return z}function D(){var z=R();if(!(c!=w.charAt(0)||d!=w.charAt(1))){for(var V=2;f!=w.charAt(V)&&(d!=w.charAt(V)||c!=w.charAt(V+1));)++V;if(V+=2,f===w.charAt(V-1))return T("End of comment missing");var j=w.slice(2,V-2);return _+=2,k(j),w=w.slice(V),_+=2,z({type:p,comment:j})}}function F(){var z=R(),V=M(r);if(V){if(D(),!M(i))return T("property missing ':'");var j=M(s),H=z({type:g,property:b(V[0].replace(e,f)),value:j?b(j[0].replace(e,f)):f});return M(o),H}}function G(){var z=[];L(z);for(var V;V=F();)V!==!1&&(z.push(V),L(z));return z}return O(),G()}function b(w){return w?w.replace(a,f):f}return yC=v,yC}var y3;function SPe(){if(y3)return Qd;y3=1;var e=Qd&&Qd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qd,"__esModule",{value:!0}),Qd.default=n;const t=e(wPe());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const o=(0,t.default)(r),a=typeof i=="function";return o.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:d}=l;a?i(c,d,l):d&&(s=s||{},s[c]=d)}),s}return Qd}var jp={},b3;function EPe(){if(b3)return jp;b3=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,d){return d.toUpperCase()},a=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return jp.camelCase=l,jp}var Lp,x3;function _Pe(){if(x3)return Lp;x3=1;var e=Lp&&Lp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(SPe()),n=EPe();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,Lp=r,Lp}var CPe=_Pe();const APe=Di(CPe),Y7=X7("end"),YN=X7("start");function X7(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function TPe(e){const t=YN(e),n=Y7(e);if(t&&n)return{start:t,end:n}}function fm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?w3(e.position):"start"in e||"end"in e?w3(e):"line"in e||"column"in e?pR(e):""}function pR(e){return S3(e&&e.line)+":"+S3(e&&e.column)}function w3(e){return pR(e&&e.start)+"-"+pR(e&&e.end)}function S3(e){return e&&typeof e=="number"?e:1}class Zr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=fm(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Zr.prototype.file="";Zr.prototype.name="";Zr.prototype.reason="";Zr.prototype.message="";Zr.prototype.stack="";Zr.prototype.column=void 0;Zr.prototype.line=void 0;Zr.prototype.ancestors=void 0;Zr.prototype.cause=void 0;Zr.prototype.fatal=void 0;Zr.prototype.place=void 0;Zr.prototype.ruleId=void 0;Zr.prototype.source=void 0;const XN={}.hasOwnProperty,RPe=new Map,kPe=/[A-Z]/g,PPe=new Set(["table","tbody","thead","tfoot","tr"]),NPe=new Set(["td","th"]),Z7="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function MPe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=$Pe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=FPe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?KN:bPe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=Q7(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function Q7(e,t,n){if(t.type==="element")return OPe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return DPe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return jPe(e,t,n);if(t.type==="mdxjsEsm")return IPe(e,t);if(t.type==="root")return LPe(e,t,n);if(t.type==="text")return zPe(e,t)}function OPe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=KN,e.schema=i),e.ancestors.push(t);const s=eK(e,t.tagName,!1),o=HPe(e,t);let a=QN(e,t);return PPe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!cPe(l):!0})),J7(e,o,s,t),ZN(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function DPe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Um(e,t.position)}function IPe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Um(e,t.position)}function jPe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=KN,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:eK(e,t.name,!0),o=BPe(e,t),a=QN(e,t);return J7(e,o,s,t),ZN(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function LPe(e,t,n){const r={};return ZN(r,QN(e,t)),e.create(t,e.Fragment,r,n)}function zPe(e,t){return t.value}function J7(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function ZN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function FPe(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function $Pe(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=YN(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function HPe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&XN.call(t.properties,i)){const s=UPe(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&NPe.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function BPe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Um(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else Um(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function QN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:RPe;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=Q7(e,s,o);a!==void 0&&n.push(a)}return n}function UPe(e,t,n){const r=gPe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?iPe(n):xPe(n)),r.property==="style"){let i=typeof n=="object"?n:VPe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=qPe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?hPe[r.property]||r.property:r.attribute,n]}}function VPe(e,t){try{return APe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Zr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Z7+"#cannot-parse-style-attribute",i}}function eK(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=h3(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=h3(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return XN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Um(e)}function Um(e,t){const n=new Zr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Z7+"#cannot-handle-mdx-estrees-without-createevaluater",n}function qPe(e){const t={};let n;for(n in e)XN.call(e,n)&&(t[WPe(n)]=e[n]);return t}function WPe(e){let t=e.replace(kPe,GPe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function GPe(e){return"-"+e.toLowerCase()}const bC={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},KPe={};function YPe(e,t){const n=KPe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tK(e,r,i)}function tK(e,t,n){if(XPe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return E3(e.children,t,n)}return Array.isArray(e)?E3(e,t,n):""}function E3(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=tK(e[i],t,n);return r.join("")}function XPe(e){return!!(e&&typeof e=="object")}const _3=document.createElement("i");function JN(e){const t="&"+e+";";_3.innerHTML=t;const n=_3.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Go(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function xs(e,t){return e.length>0?(Go(e,e.length,0,t),e):t}const C3={}.hasOwnProperty;function ZPe(e){const t={};let n=-1;for(;++n<e.length;)QPe(t,e[n]);return t}function QPe(e,t){let n;for(n in t){const i=(C3.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){C3.call(i,o)||(i[o]=[]);const a=s[o];JPe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function JPe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Go(e,0,0,r)}function nK(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Tf(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Oo=Ec(/[A-Za-z]/),Zi=Ec(/[\dA-Za-z]/),eNe=Ec(/[#-'*+\--9=?A-Z^-~]/);function mR(e){return e!==null&&(e<32||e===127)}const gR=Ec(/\d/),tNe=Ec(/[\dA-Fa-f]/),nNe=Ec(/[!-/:-@[-`{-~]/);function Qe(e){return e!==null&&e<-2}function Ni(e){return e!==null&&(e<0||e===32)}function Dt(e){return e===-2||e===-1||e===32}const rNe=Ec(new RegExp("\\p{P}|\\p{S}","u")),iNe=Ec(/\s/);function Ec(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Zi(e.charCodeAt(n+1))&&Zi(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function rn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Dt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Dt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const sNe={tokenize:oNe};function oNe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),rn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Qe(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const aNe={tokenize:lNe},A3={tokenize:cNe};function lNe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&C();const k=t.events.length;let R=k,N;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){N=t.events[R][1].end;break}S(r);let T=k;for(;T<t.events.length;)t.events[T][1].end={...N},T++;return Go(t.events,R+1,0,t.events.slice(k)),t.events.length=T,c(_)}return a(_)}function c(_){if(r===n.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return v(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(A3,d,f)(_)}function d(_){return i&&C(),S(r),p(_)}function f(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(_)}function p(_){return t.containerState={},e.attempt(A3,g,v)(_)}function g(_){return r++,n.push([t.currentConstruct,t.containerState]),p(_)}function v(_){if(_===null){i&&C(),S(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(_)}function b(_){if(_===null){w(e.exit("chunkFlow"),!0),S(0),e.consume(_);return}return Qe(_)?(e.consume(_),w(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),b)}function w(_,k){const R=t.sliceStream(_);if(k&&R.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(R),t.parser.lazy[_.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<o&&(!i.events[N][1].end||i.events[N][1].end.offset>o))return;const T=t.events.length;let M=T,O,L;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(O){L=t.events[M][1].end;break}O=!0}for(S(r),N=T;N<t.events.length;)t.events[N][1].end={...L},N++;Go(t.events,M+1,0,t.events.slice(T)),t.events.length=N}}function S(_){let k=n.length;for(;k-- >_;){const R=n[k];t.containerState=R[1],R[0].exit.call(t,e)}n.length=_}function C(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function cNe(e,t,n){return rn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function T3(e){if(e===null||Ni(e)||iNe(e))return 1;if(rNe(e))return 2}function eM(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const vR={name:"attention",resolveAll:uNe,tokenize:dNe};function uNe(e,t){let n=-1,r,i,s,o,a,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};R3(f,-l),R3(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=xs(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=xs(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=xs(c,eM(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=xs(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=xs(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Go(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function dNe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=T3(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),d=T3(l),f=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?f:f&&(i||!p)),c._close=!!(s===42?p:p&&(d||!f)),t(l)}}function R3(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fNe={name:"autolink",tokenize:hNe};function hNe(e,t,n){let r=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(g){return Oo(g)?(e.consume(g),o):g===64?n(g):c(g)}function o(g){return g===43||g===45||g===46||Zi(g)?(r=1,a(g)):c(g)}function a(g){return g===58?(e.consume(g),r=0,l):(g===43||g===45||g===46||Zi(g))&&r++<32?(e.consume(g),a):(r=0,c(g))}function l(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||mR(g)?n(g):(e.consume(g),l)}function c(g){return g===64?(e.consume(g),d):eNe(g)?(e.consume(g),c):n(g)}function d(g){return Zi(g)?f(g):n(g)}function f(g){return g===46?(e.consume(g),r=0,d):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):p(g)}function p(g){if((g===45||Zi(g))&&r++<63){const v=g===45?p:f;return e.consume(g),v}return n(g)}}const Qw={partial:!0,tokenize:pNe};function pNe(e,t,n){return r;function r(s){return Dt(s)?rn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Qe(s)?t(s):n(s)}}const rK={continuation:{tokenize:gNe},exit:vNe,name:"blockQuote",tokenize:mNe};function mNe(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Dt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function gNe(e,t,n){const r=this;return i;function i(o){return Dt(o)?rn(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(rK,t,n)(o)}}function vNe(e){e.exit("blockQuote")}const iK={name:"characterEscape",tokenize:yNe};function yNe(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return nNe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const sK={name:"characterReference",tokenize:bNe};function bNe(e,t,n){const r=this;let i=0,s,o;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Zi,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=tNe,d):(e.enter("characterReferenceValue"),s=7,o=gR,d(f))}function d(f){if(f===59&&i){const p=e.exit("characterReferenceValue");return o===Zi&&!JN(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<s?(e.consume(f),d):n(f)}}const k3={partial:!0,tokenize:wNe},P3={concrete:!0,name:"codeFenced",tokenize:xNe};function xNe(e,t,n){const r=this,i={partial:!0,tokenize:R};let s=0,o=0,a;return l;function l(N){return c(N)}function c(N){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===a?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),Dt(N)?rn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Qe(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(k3,b,k)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Qe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):Dt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rn(e,g,"whitespace")(N)):N===96&&N===a?n(N):(e.consume(N),p)}function g(N){return N===null||Qe(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Qe(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===a?n(N):(e.consume(N),v)}function b(N){return e.attempt(i,k,w)(N)}function w(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),S}function S(N){return s>0&&Dt(N)?rn(e,C,"linePrefix",s+1)(N):C(N)}function C(N){return N===null||Qe(N)?e.check(k3,b,k)(N):(e.enter("codeFlowValue"),_(N))}function _(N){return N===null||Qe(N)?(e.exit("codeFlowValue"),C(N)):(e.consume(N),_)}function k(N){return e.exit("codeFenced"),t(N)}function R(N,T,M){let O=0;return L;function L(V){return N.enter("lineEnding"),N.consume(V),N.exit("lineEnding"),D}function D(V){return N.enter("codeFencedFence"),Dt(V)?rn(N,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):F(V)}function F(V){return V===a?(N.enter("codeFencedFenceSequence"),G(V)):M(V)}function G(V){return V===a?(O++,N.consume(V),G):O>=o?(N.exit("codeFencedFenceSequence"),Dt(V)?rn(N,z,"whitespace")(V):z(V)):M(V)}function z(V){return V===null||Qe(V)?(N.exit("codeFencedFence"),T(V)):M(V)}}}function wNe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const xC={name:"codeIndented",tokenize:ENe},SNe={partial:!0,tokenize:_Ne};function ENe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),rn(e,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Qe(c)?e.attempt(SNe,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Qe(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function _Ne(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Qe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):rn(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Qe(o)?i(o):n(o)}}const CNe={name:"codeText",previous:TNe,resolve:ANe,tokenize:RNe};function ANe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function TNe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function RNe(e,t,n){let r=0,i,s;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(s=e.enter("codeTextSequence"),i=0,d(f)):Qe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Qe(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(s.type="codeTextData",c(f))}}class kNe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&zp(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),zp(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),zp(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);zp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);zp(this.left,n.reverse())}}}function zp(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function oK(e){const t={};let n=-1,r,i,s,o,a,l,c;const d=new kNe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,PNe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return Go(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function PNe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,f,p=-1,g=n,v=0,b=0;const w=[b];for(;g;){for(;e.get(++i)[1]!==g;);s.push(i),g._tokenizer||(d=r.sliceStream(g),g.next||d.push(null),f&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=g,g=g.next}for(g=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(b=p+1,w.push(b),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),p=w.length;p--;){const S=a.slice(w[p],w[p+1]),C=s.pop();l.push([C,C+S.length-1]),e.splice(C,2,S)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const NNe={resolve:ONe,tokenize:DNe},MNe={partial:!0,tokenize:INe};function ONe(e){return oK(e),e}function DNe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Qe(a)?e.check(MNe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function INe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),rn(e,s,"linePrefix")}function s(o){if(o===null||Qe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function aK(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(S){return S===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(S),e.exit(s),p):S===null||S===32||S===41||mR(S)?n(S):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),b(S))}function p(S){return S===62?(e.enter(s),e.consume(S),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===62?(e.exit("chunkString"),e.exit(a),p(S)):S===null||S===60||Qe(S)?n(S):(e.consume(S),S===92?v:g)}function v(S){return S===60||S===62||S===92?(e.consume(S),g):g(S)}function b(S){return!d&&(S===null||S===41||Ni(S))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(S)):d<c&&S===40?(e.consume(S),d++,b):S===41?(e.consume(S),d--,b):S===null||S===32||S===40||mR(S)?n(S):(e.consume(S),S===92?w:b)}function w(S){return S===40||S===41||S===92?(e.consume(S),b):b(S)}}function lK(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(g){return e.enter(r),e.enter(i),e.consume(g),e.exit(i),e.enter(s),d}function d(g){return a>999||g===null||g===91||g===93&&!l||g===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(e.exit(s),e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):Qe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===null||g===91||g===93||Qe(g)||a++>999?(e.exit("chunkString"),d(g)):(e.consume(g),l||(l=!Dt(g)),g===92?p:f)}function p(g){return g===91||g===92||g===93?(e.consume(g),a++,f):f(g)}}function cK(e,t,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),l(o)):p===null?n(p):Qe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),rn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Qe(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function hm(e,t){let n;return r;function r(i){return Qe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Dt(i)?rn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const jNe={name:"definition",tokenize:zNe},LNe={partial:!0,tokenize:FNe};function zNe(e,t,n){const r=this;let i;return s;function s(g){return e.enter("definition"),o(g)}function o(g){return lK.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function a(g){return i=Tf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),l):n(g)}function l(g){return Ni(g)?hm(e,c)(g):c(g)}function c(g){return aK(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return e.attempt(LNe,f,f)(g)}function f(g){return Dt(g)?rn(e,p,"whitespace")(g):p(g)}function p(g){return g===null||Qe(g)?(e.exit("definition"),r.parser.defined.push(i),t(g)):n(g)}}function FNe(e,t,n){return r;function r(a){return Ni(a)?hm(e,i)(a):n(a)}function i(a){return cK(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Dt(a)?rn(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Qe(a)?t(a):n(a)}}const $Ne={name:"hardBreakEscape",tokenize:HNe};function HNe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Qe(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const BNe={name:"headingAtx",resolve:UNe,tokenize:VNe};function UNe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Go(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function VNe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ni(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Qe(d)?(e.exit("atxHeading"),t(d)):Dt(d)?rn(e,a,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||Ni(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),c)}}const qNe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],N3=["pre","script","style","textarea"],WNe={concrete:!0,name:"htmlFlow",resolveTo:YNe,tokenize:XNe},GNe={partial:!0,tokenize:QNe},KNe={partial:!0,tokenize:ZNe};function YNe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function XNe(e,t,n){const r=this;let i,s,o,a,l;return c;function c($){return d($)}function d($){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume($),f}function f($){return $===33?(e.consume($),p):$===47?(e.consume($),s=!0,b):$===63?(e.consume($),i=3,r.interrupt?t:U):Oo($)?(e.consume($),o=String.fromCharCode($),w):n($)}function p($){return $===45?(e.consume($),i=2,g):$===91?(e.consume($),i=5,a=0,v):Oo($)?(e.consume($),i=4,r.interrupt?t:U):n($)}function g($){return $===45?(e.consume($),r.interrupt?t:U):n($)}function v($){const J="CDATA[";return $===J.charCodeAt(a++)?(e.consume($),a===J.length?r.interrupt?t:F:v):n($)}function b($){return Oo($)?(e.consume($),o=String.fromCharCode($),w):n($)}function w($){if($===null||$===47||$===62||Ni($)){const J=$===47,se=o.toLowerCase();return!J&&!s&&N3.includes(se)?(i=1,r.interrupt?t($):F($)):qNe.includes(o.toLowerCase())?(i=6,J?(e.consume($),S):r.interrupt?t($):F($)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n($):s?C($):_($))}return $===45||Zi($)?(e.consume($),o+=String.fromCharCode($),w):n($)}function S($){return $===62?(e.consume($),r.interrupt?t:F):n($)}function C($){return Dt($)?(e.consume($),C):L($)}function _($){return $===47?(e.consume($),L):$===58||$===95||Oo($)?(e.consume($),k):Dt($)?(e.consume($),_):L($)}function k($){return $===45||$===46||$===58||$===95||Zi($)?(e.consume($),k):R($)}function R($){return $===61?(e.consume($),N):Dt($)?(e.consume($),R):_($)}function N($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),l=$,T):Dt($)?(e.consume($),N):M($)}function T($){return $===l?(e.consume($),l=null,O):$===null||Qe($)?n($):(e.consume($),T)}function M($){return $===null||$===34||$===39||$===47||$===60||$===61||$===62||$===96||Ni($)?R($):(e.consume($),M)}function O($){return $===47||$===62||Dt($)?_($):n($)}function L($){return $===62?(e.consume($),D):n($)}function D($){return $===null||Qe($)?F($):Dt($)?(e.consume($),D):n($)}function F($){return $===45&&i===2?(e.consume($),j):$===60&&i===1?(e.consume($),H):$===62&&i===4?(e.consume($),q):$===63&&i===3?(e.consume($),U):$===93&&i===5?(e.consume($),K):Qe($)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(GNe,Y,G)($)):$===null||Qe($)?(e.exit("htmlFlowData"),G($)):(e.consume($),F)}function G($){return e.check(KNe,z,Y)($)}function z($){return e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),V}function V($){return $===null||Qe($)?G($):(e.enter("htmlFlowData"),F($))}function j($){return $===45?(e.consume($),U):F($)}function H($){return $===47?(e.consume($),o="",B):F($)}function B($){if($===62){const J=o.toLowerCase();return N3.includes(J)?(e.consume($),q):F($)}return Oo($)&&o.length<8?(e.consume($),o+=String.fromCharCode($),B):F($)}function K($){return $===93?(e.consume($),U):F($)}function U($){return $===62?(e.consume($),q):$===45&&i===2?(e.consume($),U):F($)}function q($){return $===null||Qe($)?(e.exit("htmlFlowData"),Y($)):(e.consume($),q)}function Y($){return e.exit("htmlFlow"),t($)}}function ZNe(e,t,n){const r=this;return i;function i(o){return Qe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function QNe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Qw,t,n)}}const JNe={name:"htmlText",tokenize:eMe};function eMe(e,t,n){const r=this;let i,s,o;return a;function a(U){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(U),l}function l(U){return U===33?(e.consume(U),c):U===47?(e.consume(U),R):U===63?(e.consume(U),_):Oo(U)?(e.consume(U),M):n(U)}function c(U){return U===45?(e.consume(U),d):U===91?(e.consume(U),s=0,v):Oo(U)?(e.consume(U),C):n(U)}function d(U){return U===45?(e.consume(U),g):n(U)}function f(U){return U===null?n(U):U===45?(e.consume(U),p):Qe(U)?(o=f,H(U)):(e.consume(U),f)}function p(U){return U===45?(e.consume(U),g):f(U)}function g(U){return U===62?j(U):U===45?p(U):f(U)}function v(U){const q="CDATA[";return U===q.charCodeAt(s++)?(e.consume(U),s===q.length?b:v):n(U)}function b(U){return U===null?n(U):U===93?(e.consume(U),w):Qe(U)?(o=b,H(U)):(e.consume(U),b)}function w(U){return U===93?(e.consume(U),S):b(U)}function S(U){return U===62?j(U):U===93?(e.consume(U),S):b(U)}function C(U){return U===null||U===62?j(U):Qe(U)?(o=C,H(U)):(e.consume(U),C)}function _(U){return U===null?n(U):U===63?(e.consume(U),k):Qe(U)?(o=_,H(U)):(e.consume(U),_)}function k(U){return U===62?j(U):_(U)}function R(U){return Oo(U)?(e.consume(U),N):n(U)}function N(U){return U===45||Zi(U)?(e.consume(U),N):T(U)}function T(U){return Qe(U)?(o=T,H(U)):Dt(U)?(e.consume(U),T):j(U)}function M(U){return U===45||Zi(U)?(e.consume(U),M):U===47||U===62||Ni(U)?O(U):n(U)}function O(U){return U===47?(e.consume(U),j):U===58||U===95||Oo(U)?(e.consume(U),L):Qe(U)?(o=O,H(U)):Dt(U)?(e.consume(U),O):j(U)}function L(U){return U===45||U===46||U===58||U===95||Zi(U)?(e.consume(U),L):D(U)}function D(U){return U===61?(e.consume(U),F):Qe(U)?(o=D,H(U)):Dt(U)?(e.consume(U),D):O(U)}function F(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),i=U,G):Qe(U)?(o=F,H(U)):Dt(U)?(e.consume(U),F):(e.consume(U),z)}function G(U){return U===i?(e.consume(U),i=void 0,V):U===null?n(U):Qe(U)?(o=G,H(U)):(e.consume(U),G)}function z(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||Ni(U)?O(U):(e.consume(U),z)}function V(U){return U===47||U===62||Ni(U)?O(U):n(U)}function j(U){return U===62?(e.consume(U),e.exit("htmlTextData"),e.exit("htmlText"),t):n(U)}function H(U){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),B}function B(U){return Dt(U)?rn(e,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):K(U)}function K(U){return e.enter("htmlTextData"),o(U)}}const tM={name:"labelEnd",resolveAll:iMe,resolveTo:sMe,tokenize:oMe},tMe={tokenize:aMe},nMe={tokenize:lMe},rMe={tokenize:cMe};function iMe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Go(e,0,e.length,n),e}function sMe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=xs(a,e.slice(s+1,s+r+3)),a=xs(a,[["enter",d,t]]),a=xs(a,eM(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=xs(a,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),a=xs(a,e.slice(o+1)),a=xs(a,[["exit",l,t]]),Go(e,s,e.length,a),e}function oMe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(Tf(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(tMe,d,o?d:f)(p):p===91?e.attempt(nMe,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(rMe,d,f)(p)}function d(p){return t(p)}function f(p){return s._balanced=!0,n(p)}}function aMe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ni(f)?hm(e,s)(f):s(f)}function s(f){return f===41?d(f):aK(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ni(f)?hm(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?cK(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ni(f)?hm(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function lMe(e,t,n){const r=this;return i;function i(a){return lK.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Tf(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function cMe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const uMe={name:"labelStartImage",resolveAll:tM.resolveAll,tokenize:dMe};function dMe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const fMe={name:"labelStartLink",resolveAll:tM.resolveAll,tokenize:hMe};function hMe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const wC={name:"lineEnding",tokenize:pMe};function pMe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),rn(e,t,"linePrefix")}}const hb={name:"thematicBreak",tokenize:mMe};function mMe(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Qe(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Dt(c)?rn(e,a,"whitespace")(c):a(c))}}const vi={continuation:{tokenize:bMe},exit:wMe,name:"list",tokenize:yMe},gMe={partial:!0,tokenize:SMe},vMe={partial:!0,tokenize:xMe};function yMe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(g){const v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:gR(g)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(hb,n,c)(g):c(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(g)}return n(g)}function l(g){return gR(g)&&++o<10?(e.consume(g),l):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),c(g)):n(g)}function c(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Qw,r.interrupt?n:d,e.attempt(gMe,p,f))}function d(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function f(g){return Dt(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function bMe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Qw,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rn(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Dt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(vMe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,rn(e,e.attempt(vi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function xMe(e,t,n){const r=this;return rn(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function wMe(e){e.exit(this.containerState.type)}function SMe(e,t,n){const r=this;return rn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Dt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const M3={name:"setextUnderline",resolveTo:EMe,tokenize:_Me};function EMe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function _Me(e,t,n){const r=this;let i;return s;function s(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Dt(c)?rn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Qe(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const CMe={tokenize:AMe};function AMe(e){const t=this,n=e.attempt(Qw,r,e.attempt(this.parser.constructs.flowInitial,i,rn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(NNe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const TMe={resolveAll:dK()},RMe=uK("string"),kMe=uK("text");function uK(e){return{resolveAll:dK(e==="text"?PMe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let p=-1;if(f)for(;++p<f.length;){const g=f[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function dK(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function PMe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const NMe={42:vi,43:vi,45:vi,48:vi,49:vi,50:vi,51:vi,52:vi,53:vi,54:vi,55:vi,56:vi,57:vi,62:rK},MMe={91:jNe},OMe={[-2]:xC,[-1]:xC,32:xC},DMe={35:BNe,42:hb,45:[M3,hb],60:WNe,61:M3,95:hb,96:P3,126:P3},IMe={38:sK,92:iK},jMe={[-5]:wC,[-4]:wC,[-3]:wC,33:uMe,38:sK,42:vR,60:[fNe,JNe],91:fMe,92:[$Ne,iK],93:tM,95:vR,96:CNe},LMe={null:[vR,TMe]},zMe={null:[42,95]},FMe={null:[]},$Me=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:zMe,contentInitial:MMe,disable:FMe,document:NMe,flow:DMe,flowInitial:OMe,insideSpan:LMe,string:IMe,text:jMe},Symbol.toStringTag,{value:"Module"}));function HMe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:T(R),check:T(N),consume:C,enter:_,exit:k,interrupt:T(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:b,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:g,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function f(D){return o=xs(o,D),w(),o[o.length-1]!==null?[]:(M(t,0),c.events=eM(s,c.events,c),c.events)}function p(D,F){return UMe(g(D),F)}function g(D){return BMe(o,D)}function v(){const{_bufferIndex:D,_index:F,line:G,column:z,offset:V}=r;return{_bufferIndex:D,_index:F,line:G,column:z,offset:V}}function b(D){i[D.line]=D.column,L()}function w(){let D;for(;r._index<o.length;){const F=o[r._index];if(typeof F=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<F.length;)S(F.charCodeAt(r._bufferIndex));else S(F)}}function S(D){d=d(D)}function C(D){Qe(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,L()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=D}function _(D,F){const G=F||{};return G.type=D,G.start=v(),c.events.push(["enter",G,c]),a.push(G),G}function k(D){const F=a.pop();return F.end=v(),c.events.push(["exit",F,c]),F}function R(D,F){M(D,F.from)}function N(D,F){F.restore()}function T(D,F){return G;function G(z,V,j){let H,B,K,U;return Array.isArray(z)?Y(z):"tokenize"in z?Y([z]):q(z);function q(ue){return ee;function ee(Z){const X=Z!==null&&ue[Z],fe=Z!==null&&ue.null,me=[...Array.isArray(X)?X:X?[X]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return Y(me)(Z)}}function Y(ue){return H=ue,B=0,ue.length===0?j:$(ue[B])}function $(ue){return ee;function ee(Z){return U=O(),K=ue,ue.partial||(c.currentConstruct=ue),ue.name&&c.parser.constructs.disable.null.includes(ue.name)?se():ue.tokenize.call(F?Object.assign(Object.create(c),F):c,l,J,se)(Z)}}function J(ue){return D(K,U),V}function se(ue){return U.restore(),++B<H.length?$(H[B]):j}}}function M(D,F){D.resolveAll&&!s.includes(D)&&s.push(D),D.resolve&&Go(c.events,F,c.events.length-F,D.resolve(c.events.slice(F),c)),D.resolveTo&&(c.events=D.resolveTo(c.events,c))}function O(){const D=v(),F=c.previous,G=c.currentConstruct,z=c.events.length,V=Array.from(a);return{from:z,restore:j};function j(){r=D,c.previous=F,c.currentConstruct=G,c.events.length=z,a=V,L()}}function L(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function BMe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function UMe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function VMe(e){const r={constructs:ZPe([$Me,...(e||{}).extensions||[]]),content:i(sNe),defined:[],document:i(aNe),flow:i(CMe),lazy:{},string:i(RMe),text:i(kMe)};return r;function i(s){return o;function o(a){return HMe(r,s,a)}}}function qMe(e){for(;!oK(e););return e}const O3=/[\0\t\n\r]/g;function WMe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,d,f,p,g;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,t="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(O3.lastIndex=f,c=O3.exec(s),p=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(p),!c){t=s.slice(f);break}if(g===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),e+=p-f),g){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const GMe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function KMe(e){return e.replace(GMe,YMe)}function YMe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return nK(n.slice(s?2:1),s?16:10)}return JN(n)||e}const fK={}.hasOwnProperty;function XMe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ZMe(n)(qMe(VMe(n).document().write(WMe()(e,t,!0))))}function ZMe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(rt),autolinkProtocol:O,autolinkEmail:O,atxHeading:s(Re),blockQuote:s(fe),characterEscape:O,characterReference:O,codeFenced:s(me),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(me,o),codeText:s(ne,o),codeTextData:O,data:O,codeFlowValue:O,definition:s(we),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(xe),hardBreakEscape:s(Ae),hardBreakTrailing:s(Ae),htmlFlow:s(Te,o),htmlFlowData:O,htmlText:s(Te,o),htmlTextData:O,image:s(We),label:o,link:s(rt),listItem:s(ir),listItemValue:p,listOrdered:s(mt,f),listUnordered:s(mt),paragraph:s(Bt),reference:$,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Re),strong:s(Sn),thematicBreak:s(Me)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:X,autolinkProtocol:Z,blockQuote:l(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:se,characterReferenceMarkerNumeric:se,characterReferenceValue:ue,characterReference:ee,codeFenced:l(w),codeFencedFence:b,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:L,codeIndented:l(S),codeText:l(V),codeTextData:L,data:L,definition:l(),definitionDestinationString:k,definitionLabelString:C,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l(G),htmlFlowData:L,htmlText:l(z),htmlTextData:L,image:l(H),label:K,labelText:B,lineEnding:D,link:l(j),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:U,resourceTitleString:q,resource:Y,setextHeading:l(M),setextHeadingLineSequence:T,setextHeadingText:N,strong:l(),thematicBreak:l()}};hK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(le){let be={type:"root",children:[]};const Pe={stack:[be],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:d,data:n},Ve=[];let Ge=-1;for(;++Ge<le.length;)if(le[Ge][1].type==="listOrdered"||le[Ge][1].type==="listUnordered")if(le[Ge][0]==="enter")Ve.push(Ge);else{const sn=Ve.pop();Ge=i(le,sn,Ge)}for(Ge=-1;++Ge<le.length;){const sn=t[le[Ge][0]];fK.call(sn,le[Ge][1].type)&&sn[le[Ge][1].type].call(Object.assign({sliceSerialize:le[Ge][2].sliceSerialize},Pe),le[Ge][1])}if(Pe.tokenStack.length>0){const sn=Pe.tokenStack[Pe.tokenStack.length-1];(sn[1]||D3).call(Pe,void 0,sn[0])}for(be.position={start:Hl(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:Hl(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<t.transforms.length;)be=t.transforms[Ge](be)||be;return be}function i(le,be,Pe){let Ve=be-1,Ge=-1,sn=!1,fn,En,Ut,_n;for(;++Ve<=Pe;){const xt=le[Ve];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?Ge++:Ge--,_n=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(fn&&!_n&&!Ge&&!Ut&&(Ut=Ve),_n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_n=void 0}if(!Ge&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||Ge===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(fn){let jr=Ve;for(En=void 0;jr--;){const On=le[jr];if(On[1].type==="lineEnding"||On[1].type==="lineEndingBlank"){if(On[0]==="exit")continue;En&&(le[En][1].type="lineEndingBlank",sn=!0),On[1].type="lineEnding",En=jr}else if(!(On[1].type==="linePrefix"||On[1].type==="blockQuotePrefix"||On[1].type==="blockQuotePrefixWhitespace"||On[1].type==="blockQuoteMarker"||On[1].type==="listItemIndent"))break}Ut&&(!En||Ut<En)&&(fn._spread=!0),fn.end=Object.assign({},En?le[En][1].start:xt[1].end),le.splice(En||Ve,0,["exit",fn,xt[2]]),Ve++,Pe++}if(xt[1].type==="listItemPrefix"){const jr={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};fn=jr,le.splice(Ve,0,["enter",jr,xt[2]]),Ve++,Pe++,Ut=void 0,_n=!0}}}return le[be][1]._spread=sn,Pe}function s(le,be){return Pe;function Pe(Ve){a.call(this,le(Ve),Ve),be&&be.call(this,Ve)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(le,be,Pe){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([be,Pe||void 0]),le.position={start:Hl(be.start),end:void 0}}function l(le){return be;function be(Pe){le&&le.call(this,Pe),c.call(this,Pe)}}function c(le,be){const Pe=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==le.type&&(be?be.call(this,le,Ve[0]):(Ve[1]||D3).call(this,le,Ve[0]));else throw new Error("Cannot close `"+le.type+"` ("+fm({start:le.start,end:le.end})+"): its not open");Pe.position.end=Hl(le.end)}function d(){return YPe(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(le){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function g(){const le=this.resume(),be=this.stack[this.stack.length-1];be.lang=le}function v(){const le=this.resume(),be=this.stack[this.stack.length-1];be.meta=le}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const le=this.resume(),be=this.stack[this.stack.length-1];be.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const le=this.resume(),be=this.stack[this.stack.length-1];be.value=le.replace(/(\r?\n|\r)$/g,"")}function C(le){const be=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=be,Pe.identifier=Tf(this.sliceSerialize(le)).toLowerCase()}function _(){const le=this.resume(),be=this.stack[this.stack.length-1];be.title=le}function k(){const le=this.resume(),be=this.stack[this.stack.length-1];be.url=le}function R(le){const be=this.stack[this.stack.length-1];if(!be.depth){const Pe=this.sliceSerialize(le).length;be.depth=Pe}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function T(le){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function O(le){const Pe=this.stack[this.stack.length-1].children;let Ve=Pe[Pe.length-1];(!Ve||Ve.type!=="text")&&(Ve=Ee(),Ve.position={start:Hl(le.start),end:void 0},Pe.push(Ve)),this.stack.push(Ve)}function L(le){const be=this.stack.pop();be.value+=this.sliceSerialize(le),be.position.end=Hl(le.end)}function D(le){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pe=be.children[be.children.length-1];Pe.position.end=Hl(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&(O.call(this,le),L.call(this,le))}function F(){this.data.atHardBreak=!0}function G(){const le=this.resume(),be=this.stack[this.stack.length-1];be.value=le}function z(){const le=this.resume(),be=this.stack[this.stack.length-1];be.value=le}function V(){const le=this.resume(),be=this.stack[this.stack.length-1];be.value=le}function j(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=be,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function H(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=be,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function B(le){const be=this.sliceSerialize(le),Pe=this.stack[this.stack.length-2];Pe.label=KMe(be),Pe.identifier=Tf(be).toLowerCase()}function K(){const le=this.stack[this.stack.length-1],be=this.resume(),Pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pe.type==="link"){const Ve=le.children;Pe.children=Ve}else Pe.alt=be}function U(){const le=this.resume(),be=this.stack[this.stack.length-1];be.url=le}function q(){const le=this.resume(),be=this.stack[this.stack.length-1];be.title=le}function Y(){this.data.inReference=void 0}function $(){this.data.referenceType="collapsed"}function J(le){const be=this.resume(),Pe=this.stack[this.stack.length-1];Pe.label=be,Pe.identifier=Tf(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function se(le){this.data.characterReferenceType=le.type}function ue(le){const be=this.sliceSerialize(le),Pe=this.data.characterReferenceType;let Ve;Pe?(Ve=nK(be,Pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=JN(be);const Ge=this.stack[this.stack.length-1];Ge.value+=Ve}function ee(le){const be=this.stack.pop();be.position.end=Hl(le.end)}function Z(le){L.call(this,le);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(le)}function X(le){L.call(this,le);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(le)}function fe(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function xe(){return{type:"emphasis",children:[]}}function Re(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function Te(){return{type:"html",value:""}}function We(){return{type:"image",title:null,url:"",alt:null}}function rt(){return{type:"link",title:null,url:"",children:[]}}function mt(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function ir(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Bt(){return{type:"paragraph",children:[]}}function Sn(){return{type:"strong",children:[]}}function Ee(){return{type:"text",value:""}}function Me(){return{type:"thematicBreak"}}}function Hl(e){return{line:e.line,column:e.column,offset:e.offset}}function hK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?hK(e,r):QMe(e,r)}}function QMe(e,t){let n;for(n in t)if(fK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function D3(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fm({start:t.start,end:t.end})+") is still open")}function JMe(e){const t=this;t.parser=n;function n(r){return XMe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function eOe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function tOe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function nOe(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function rOe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function iOe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function sOe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=xh(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function oOe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aOe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function pK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function lOe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return pK(e,t);const i={src:xh(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function cOe(e,t){const n={src:xh(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function uOe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function dOe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return pK(e,t);const i={href:xh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function fOe(e,t){const n={href:xh(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hOe(e,t,n){const r=e.all(t),i=n?pOe(n):mK(t),s={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function pOe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=mK(n[r])}return t}function mK(e){const t=e.spread;return t??e.children.length>1}function mOe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function gOe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vOe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function yOe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bOe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=YN(t.children[1]),l=Y7(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function xOe(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const f=t.children[l],p={},g=o?o[l]:void 0;g&&(p.align=g);let v={type:"element",tagName:s,properties:p,children:[]};f&&(v.children=e.all(f),e.patch(f,v),v=e.applyData(f,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function wOe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const I3=9,j3=32;function SOe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(L3(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(L3(t.slice(i),i>0,!1)),s.join("")}function L3(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===I3||s===j3;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===I3||s===j3;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function EOe(e,t){const n={type:"text",value:SOe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function _Oe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const COe={blockquote:eOe,break:tOe,code:nOe,delete:rOe,emphasis:iOe,footnoteReference:sOe,heading:oOe,html:aOe,imageReference:lOe,image:cOe,inlineCode:uOe,linkReference:dOe,link:fOe,listItem:hOe,list:mOe,paragraph:gOe,root:vOe,strong:yOe,table:bOe,tableCell:wOe,tableRow:xOe,text:EOe,thematicBreak:_Oe,toml:_0,yaml:_0,definition:_0,footnoteDefinition:_0};function _0(){}const gK=-1,Jw=0,pm=1,nx=2,nM=3,rM=4,iM=5,sM=6,vK=7,yK=8,z3=typeof self=="object"?self:globalThis,AOe=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case Jw:case gK:return n(o,i);case pm:{const a=n([],i);for(const l of o)a.push(r(l));return a}case nx:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case nM:return n(new Date(o),i);case rM:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case iM:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case sM:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case vK:{const{name:a,message:l}=o;return n(new z3[a](l),i)}case yK:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new z3[s](o),i)};return r},F3=e=>AOe(new Map,e)(0),Jd="",{toString:TOe}={},{keys:ROe}=Object,Fp=e=>{const t=typeof e;if(t!=="object"||!e)return[Jw,t];const n=TOe.call(e).slice(8,-1);switch(n){case"Array":return[pm,Jd];case"Object":return[nx,Jd];case"Date":return[nM,Jd];case"RegExp":return[rM,Jd];case"Map":return[iM,Jd];case"Set":return[sM,Jd];case"DataView":return[pm,n]}return n.includes("Array")?[pm,n]:n.includes("Error")?[vK,n]:[nx,n]},C0=([e,t])=>e===Jw&&(t==="function"||t==="symbol"),kOe=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Fp(o);switch(a){case Jw:{let d=o;switch(l){case"bigint":a=yK,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([gK],o)}return i([a,d],o)}case pm:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const d=[],f=i([a,d],o);for(const p of o)d.push(s(p));return f}case nx:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const d=[],f=i([a,d],o);for(const p of ROe(o))(e||!C0(Fp(o[p])))&&d.push([s(p),s(o[p])]);return f}case nM:return i([a,o.toISOString()],o);case rM:{const{source:d,flags:f}=o;return i([a,{source:d,flags:f}],o)}case iM:{const d=[],f=i([a,d],o);for(const[p,g]of o)(e||!(C0(Fp(p))||C0(Fp(g))))&&d.push([s(p),s(g)]);return f}case sM:{const d=[],f=i([a,d],o);for(const p of o)(e||!C0(Fp(p)))&&d.push(s(p));return f}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},$3=(e,{json:t,lossy:n}={})=>{const r=[];return kOe(!(t||n),!!t,new Map,r)(e),r},rx=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?F3($3(e,t)):structuredClone(e):(e,t)=>F3($3(e,t));function POe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function NOe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function MOe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||POe,r=e.options.footnoteBackLabel||NOe,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=xh(f.toLowerCase());let g=0;const v=[],b=e.footnoteCounts.get(f);for(;b!==void 0&&++g<=b;){v.length>0&&v.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,g);typeof C=="string"&&(C={type:"text",value:C}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const C=w.children[w.children.length-1];C&&C.type==="text"?C.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...v)}else d.push(...v);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,S),a.push(S)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...rx(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const bK=(function(e){if(e==null)return jOe;if(typeof e=="function")return eS(e);if(typeof e=="object")return Array.isArray(e)?OOe(e):DOe(e);if(typeof e=="string")return IOe(e);throw new Error("Expected function, string, or object as test")});function OOe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=bK(e[n]);return eS(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function DOe(e){const t=e;return eS(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function IOe(e){return eS(t);function t(n){return n&&n.type===e}}function eS(e){return t;function t(n,r,i){return!!(LOe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function jOe(){return!0}function LOe(e){return e!==null&&typeof e=="object"&&"type"in e}const xK=[],zOe=!0,H3=!1,FOe="skip";function $Oe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=bK(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const g=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=xK,v,b,w;if((!t||s(l,c,d[d.length-1]||void 0))&&(g=HOe(n(l,d)),g[0]===H3))return g;if("children"in l&&l.children){const S=l;if(S.children&&g[0]!==FOe)for(b=(r?S.children.length:-1)+o,w=d.concat(S);b>-1&&b<S.children.length;){const C=S.children[b];if(v=a(C,b,w)(),v[0]===H3)return v;b=typeof v[1]=="number"?v[1]:b+o}}return g}}}function HOe(e){return Array.isArray(e)?e:typeof e=="number"?[zOe,e]:e==null?xK:[e]}function wK(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),$Oe(e,s,a,i);function a(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const yR={}.hasOwnProperty,BOe={};function UOe(e,t){const n=t||BOe,r=new Map,i=new Map,s=new Map,o={...COe,...n.handlers},a={all:c,applyData:qOe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:VOe,wrap:GOe};return wK(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),a;function l(d,f){const p=d.type,g=a.handlers[p];if(yR.call(a.handlers,p)&&g)return g(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:b,...w}=d,S=rx(w);return S.children=a.all(d),S}return rx(d)}return(a.options.unknownHandler||WOe)(a,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let g=-1;for(;++g<p.length;){const v=a.one(p[g],d);if(v){if(g&&p[g-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=B3(v.value)),!Array.isArray(v)&&v.type==="element")){const b=v.children[0];b&&b.type==="text"&&(b.value=B3(b.value))}Array.isArray(v)?f.push(...v):f.push(v)}}}return f}}function VOe(e,t){e.position&&(t.position=TPe(e))}function qOe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,rx(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function WOe(e,t){const n=t.data||{},r="value"in t&&!(yR.call(n,"hProperties")||yR.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function GOe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function B3(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function U3(e,t){const n=UOe(e,t),r=n.one(e,void 0),i=MOe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function KOe(e,t){return e&&"run"in e?async function(n,r){const i=U3(n,{file:r,...t});await e.run(i,r)}:function(n,r){return U3(n,{file:r,...e||t})}}function V3(e){if(e)throw e}var SC,q3;function YOe(){if(q3)return SC;q3=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!f)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},a=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return SC=function l(){var c,d,f,p,g,v,b=arguments[0],w=1,S=arguments.length,C=!1;for(typeof b=="boolean"&&(C=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<S;++w)if(c=arguments[w],c!=null)for(d in c)f=a(b,d),p=a(c,d),b!==p&&(C&&p&&(s(p)||(g=i(p)))?(g?(g=!1,v=f&&i(f)?f:[]):v=f&&s(f)?f:{},o(b,{name:d,newValue:l(C,v,p)})):typeof p<"u"&&o(b,{name:d,newValue:p}));return b},SC}var XOe=YOe();const EC=Di(XOe);function bR(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ZOe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const d=e[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?QOe(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function QOe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const ko={basename:JOe,dirname:e2e,extname:t2e,join:n2e,sep:"/"};function JOe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xg(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function e2e(e){if(Xg(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function t2e(e){Xg(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function n2e(...e){let t=-1,n;for(;++t<e.length;)Xg(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":r2e(n)}function r2e(e){Xg(e);const t=e.codePointAt(0)===47;let n=i2e(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function i2e(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Xg(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const s2e={cwd:o2e};function o2e(){return"/"}function xR(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function a2e(e){if(typeof e=="string")e=new URL(e);else if(!xR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return l2e(e)}function l2e(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const _C=["history","path","basename","stem","extname","dirname"];class SK{constructor(t){let n;t?xR(t)?n={path:t}:typeof t=="string"||c2e(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":s2e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_C.length;){const s=_C[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)_C.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ko.basename(this.path):void 0}set basename(t){AC(t,"basename"),CC(t,"basename"),this.path=ko.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ko.dirname(this.path):void 0}set dirname(t){W3(this.basename,"dirname"),this.path=ko.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ko.extname(this.path):void 0}set extname(t){if(CC(t,"extname"),W3(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ko.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xR(t)&&(t=a2e(t)),AC(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ko.basename(this.path,this.extname):void 0}set stem(t){AC(t,"stem"),CC(t,"stem"),this.path=ko.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Zr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function CC(e,t){if(e&&e.includes(ko.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ko.sep+"`")}function AC(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function W3(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function c2e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const u2e=(function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),d2e={}.hasOwnProperty;class oM extends u2e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ZOe()}copy(){const t=new oM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(EC(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(kC("data",this.frozen),this.namespace[t]=n,this):d2e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(kC("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=A0(t),r=this.parser||this.Parser;return TC("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),TC("process",this.parser||this.Parser),RC("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=A0(t),l=r.parse(a);r.run(l,a,function(d,f,p){if(d||!f||!p)return c(d);const g=f,v=r.stringify(g,p);p2e(v)?p.value=v:p.result=v,c(d,p)});function c(d,f){d||!f?o(d):s?s(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),TC("processSync",this.parser||this.Parser),RC("processSync",this.compiler||this.Compiler),this.process(t,i),K3("processSync","process",n),r;function i(s,o){n=!0,V3(s),r=o}}run(t,n,r){G3(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=A0(n);i.run(t,l,c);function c(d,f,p){const g=f||t;d?a(d):o?o(g):r(void 0,g,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),K3("runSync","run",r),i;function s(o,a){V3(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=A0(n),i=this.compiler||this.Compiler;return RC("stringify",i),G3(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(kC("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=EC(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[g,...v]=d;const b=r[p][1];bR(b)&&bR(g)&&(g=EC(!0,b,g)),r[p]=[c,g,...v]}}}}const f2e=new oM().freeze();function TC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function RC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kC(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function G3(e){if(!bR(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function K3(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function A0(e){return h2e(e)?e:new SK(e)}function h2e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function p2e(e){return typeof e=="string"||m2e(e)}function m2e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const g2e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Y3=[],X3={allowDangerousHtml:!0},v2e=/^(https?|ircs?|mailto|xmpp)$/i,y2e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function EK(e){const t=b2e(e),n=x2e(e);return w2e(t.runSync(t.parse(n),n),e)}function b2e(e){const t=e.rehypePlugins||Y3,n=e.remarkPlugins||Y3,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...X3}:X3;return f2e().use(JMe).use(n).use(KOe,r).use(t)}function x2e(e){const t=e.children||"",n=new SK;return typeof t=="string"&&(n.value=t),n}function w2e(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||S2e;for(const d of y2e)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+g2e+d.id,void 0);return wK(e,c),MPe(e,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let g;for(g in bC)if(Object.hasOwn(bC,g)&&Object.hasOwn(d.properties,g)){const v=d.properties[g],b=bC[g];(b===null||b.includes(d.tagName))&&(d.properties[g]=l(String(v||""),g,d))}}if(d.type==="element"){let g=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!g&&r&&typeof f=="number"&&(g=!r(d,f,p)),g&&p&&typeof f=="number")return a&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function S2e(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||v2e.test(e.slice(0,t))?e:""}function rr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=rr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const Ko={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Vm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_K=["Enter"," ","Escape"],CK={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Hf;(function(e){e.Strict="strict",e.Loose="loose"})(Hf||(Hf={}));var xu;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(xu||(xu={}));var qm;(function(e){e.Partial="partial",e.Full="full"})(qm||(qm={}));const AK={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Zl;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Zl||(Zl={}));var Bf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Bf||(Bf={}));var He;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(He||(He={}));const Z3={[He.Left]:He.Right,[He.Right]:He.Left,[He.Top]:He.Bottom,[He.Bottom]:He.Top};function TK(e){return e===null?null:e?"valid":"invalid"}const RK=e=>"id"in e&&"source"in e&&"target"in e,E2e=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),aM=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Zg=(e,t=[0,0])=>{const{width:n,height:r}=rl(e),i=e.origin??t,s=n*i[0],o=r*i[1];return{x:e.position.x-s,y:e.position.y-o}},_2e=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const s=typeof i=="string";let o=!t.nodeLookup&&!s?i:void 0;t.nodeLookup&&(o=s?t.nodeLookup.get(i):aM(i)?i:t.nodeLookup.get(i.id));const a=o?ix(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return tS(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return nS(n)},Qg=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=tS(n,ix(i)),r=!0)}),r?nS(n):{x:0,y:0,width:0,height:0}},lM=(e,t,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...ev(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const c of e.values()){const{measured:d,selectable:f=!0,hidden:p=!1}=c;if(o&&!f||p)continue;const g=d.width??c.width??c.initialWidth??null,v=d.height??c.height??c.initialHeight??null,b=Wm(a,Vf(c)),w=(g??0)*(v??0),S=s&&b>0;(!c.internals.handleBounds||S||b>=w||c.dragging)&&l.push(c)}return l},C2e=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function A2e(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&(t?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function T2e({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(e.size===0)return Promise.resolve(!0);const a=A2e(e,o),l=Qg(a),c=cM(l,t,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)}function kK({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(e),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let f=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s?.("005",Ko.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(f=[[l,c],[l+g,c+v]])}else a&&qf(o.extent)&&(f=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const p=qf(f)?Du(t,f,o.measured):t;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",Ko.error015()),{position:{x:p.x-l+(o.measured.width??0)*d[0],y:p.y-c+(o.measured.height??0)*d[1]},positionAbsolute:p}}async function R2e({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(e.map(p=>p.id)),o=[];for(const p of n){if(p.deletable===!1)continue;const g=s.has(p.id),v=!g&&p.parentId&&o.find(b=>b.id===p.parentId);(g||v)&&o.push(p)}const a=new Set(t.map(p=>p.id)),l=r.filter(p=>p.deletable!==!1),d=C2e(o,l);for(const p of l)a.has(p.id)&&!d.find(v=>v.id===p.id)&&d.push(p);if(!i)return{edges:d,nodes:o};const f=await i({nodes:o,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:o}:{edges:[],nodes:[]}:f}const Uf=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Du=(e={x:0,y:0},t,n)=>({x:Uf(e.x,t[0][0],t[1][0]-(n?.width??0)),y:Uf(e.y,t[0][1],t[1][1]-(n?.height??0))});function PK(e,t,n){const{width:r,height:i}=rl(n),{x:s,y:o}=n.internals.positionAbsolute;return Du(e,[[s,o],[s+r,o+i]],t)}const Q3=(e,t,n)=>e<t?Uf(Math.abs(e-t),1,t)/t:e>n?-Uf(Math.abs(e-n),1,t)/t:0,NK=(e,t,n=15,r=40)=>{const i=Q3(e.x,r,t.width-r)*n,s=Q3(e.y,r,t.height-r)*n;return[i,s]},tS=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),wR=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),nS=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Vf=(e,t=[0,0])=>{const{x:n,y:r}=aM(e)?e.internals.positionAbsolute:Zg(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},ix=(e,t=[0,0])=>{const{x:n,y:r}=aM(e)?e.internals.positionAbsolute:Zg(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},MK=(e,t)=>nS(tS(wR(e),wR(t))),Wm=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},J3=e=>Zs(e.width)&&Zs(e.height)&&Zs(e.x)&&Zs(e.y),Zs=e=>!isNaN(e)&&isFinite(e),k2e=(e,t)=>{},Jg=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ev=({x:e,y:t},[n,r,i],s=!1,o=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return s?Jg(a,o):a},sx=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function ef(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function P2e(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=ef(e,n),i=ef(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=ef(e.top??e.y??0,n),i=ef(e.bottom??e.y??0,n),s=ef(e.left??e.x??0,t),o=ef(e.right??e.x??0,t);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function N2e(e,t,n,r,i,s){const{x:o,y:a}=sx(e,[t,n,r]),{x:l,y:c}=sx({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-l,f=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(f)}}const cM=(e,t,n,r,i,s)=>{const o=P2e(s,t,n),a=(t-o.x)/e.width,l=(n-o.y)/e.height,c=Math.min(a,l),d=Uf(c,r,i),f=e.x+e.width/2,p=e.y+e.height/2,g=t/2-f*d,v=n/2-p*d,b=N2e(e,g,v,d,t,n),w={left:Math.min(b.left-o.left,0),top:Math.min(b.top-o.top,0),right:Math.min(b.right-o.right,0),bottom:Math.min(b.bottom-o.bottom,0)};return{x:g-w.left+w.right,y:v-w.top+w.bottom,zoom:d}},Gm=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function qf(e){return e!=null&&e!=="parent"}function rl(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function OK(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function DK(e,t={width:0,height:0},n,r,i){const s={...e},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(t.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(t.height??0)*a[1]}return s}function e$(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function M2e(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function O2e(e){return{...CK,...e||{}}}function mm(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Qs(e),a=ev({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:l,y:c}=n?Jg(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const uM=e=>({width:e.offsetWidth,height:e.offsetHeight}),IK=e=>e?.getRootNode?.()||window?.document,D2e=["INPUT","SELECT","TEXTAREA"];function jK(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:D2e.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const LK=e=>"clientX"in e,Qs=(e,t)=>{const n=LK(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},t$=(e,t,n,r,i)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:e,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...uM(o)}})};function zK({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=e*.125+i*.375+o*.375+n*.125,c=t*.125+s*.375+a*.375+r*.125,d=Math.abs(l-e),f=Math.abs(c-t);return[l,c,d,f]}function T0(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function n$({pos:e,x1:t,y1:n,x2:r,y2:i,c:s}){switch(e){case He.Left:return[t-T0(t-r,s),n];case He.Right:return[t+T0(r-t,s),n];case He.Top:return[t,n-T0(n-i,s)];case He.Bottom:return[t,n+T0(i-n,s)]}}function FK({sourceX:e,sourceY:t,sourcePosition:n=He.Bottom,targetX:r,targetY:i,targetPosition:s=He.Top,curvature:o=.25}){const[a,l]=n$({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[c,d]=n$({pos:s,x1:r,y1:i,x2:e,y2:t,c:o}),[f,p,g,v]=zK({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${l} ${c},${d} ${r},${i}`,f,p,g,v]}function $K({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,o=Math.abs(r-t)/2,a=r<t?r+o:r-o;return[s,a,i,o]}function I2e({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const o=i&&n?r+1e3:r,a=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return o+a}function j2e({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const s=tS(ix(e),ix(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Wm(o,nS(s))>0}const L2e=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,z2e=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),HK=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||L2e;let i;return RK(e)?i={...e}:i={...e,id:r(e)},z2e(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function BK({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,s,o,a]=$K({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,s,o,a]}const r$={[He.Left]:{x:-1,y:0},[He.Right]:{x:1,y:0},[He.Top]:{x:0,y:-1},[He.Bottom]:{x:0,y:1}},F2e=({source:e,sourcePosition:t=He.Bottom,target:n})=>t===He.Left||t===He.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},i$=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function $2e({source:e,sourcePosition:t=He.Bottom,target:n,targetPosition:r=He.Top,center:i,offset:s,stepPosition:o}){const a=r$[t],l=r$[r],c={x:e.x+a.x*s,y:e.y+a.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=F2e({source:c,sourcePosition:t,target:d}),p=f.x!==0?"x":"y",g=f[p];let v=[],b,w;const S={x:0,y:0},C={x:0,y:0},[,,_,k]=$K({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[p]*l[p]===-1){p==="x"?(b=i.x??c.x+(d.x-c.x)*o,w=i.y??(c.y+d.y)/2):(b=i.x??(c.x+d.x)/2,w=i.y??c.y+(d.y-c.y)*o);const N=[{x:b,y:c.y},{x:b,y:d.y}],T=[{x:c.x,y:w},{x:d.x,y:w}];a[p]===g?v=p==="x"?N:T:v=p==="x"?T:N}else{const N=[{x:c.x,y:d.y}],T=[{x:d.x,y:c.y}];if(p==="x"?v=a.x===g?T:N:v=a.y===g?N:T,t===r){const F=Math.abs(e[p]-n[p]);if(F<=s){const G=Math.min(s-1,s-F);a[p]===g?S[p]=(c[p]>e[p]?-1:1)*G:C[p]=(d[p]>n[p]?-1:1)*G}}if(t!==r){const F=p==="x"?"y":"x",G=a[p]===l[F],z=c[F]>d[F],V=c[F]<d[F];(a[p]===1&&(!G&&z||G&&V)||a[p]!==1&&(!G&&V||G&&z))&&(v=p==="x"?N:T)}const M={x:c.x+S.x,y:c.y+S.y},O={x:d.x+C.x,y:d.y+C.y},L=Math.max(Math.abs(M.x-v[0].x),Math.abs(O.x-v[0].x)),D=Math.max(Math.abs(M.y-v[0].y),Math.abs(O.y-v[0].y));L>=D?(b=(M.x+O.x)/2,w=v[0].y):(b=v[0].x,w=(M.y+O.y)/2)}return[[e,{x:c.x+S.x,y:c.y+S.y},...v,{x:d.x+C.x,y:d.y+C.y},n],b,w,_,k]}function H2e(e,t,n,r){const i=Math.min(i$(e,t)/2,i$(t,n)/2,r),{x:s,y:o}=t;if(e.x===s&&s===n.x||e.y===o&&o===n.y)return`L${s} ${o}`;if(e.y===o){const c=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*d}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function SR({sourceX:e,sourceY:t,sourcePosition:n=He.Bottom,targetX:r,targetY:i,targetPosition:s=He.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:d=.5}){const[f,p,g,v,b]=$2e({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:d});return[f.reduce((S,C,_)=>{let k="";return _>0&&_<f.length-1?k=H2e(f[_-1],C,f[_+1],o):k=`${_===0?"M":"L"}${C.x} ${C.y}`,S+=k,S},""),p,g,v,b]}function s$(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function B2e(e){const{sourceNode:t,targetNode:n}=e;if(!s$(t)||!s$(n))return null;const r=t.internals.handleBounds||o$(t.handles),i=n.internals.handleBounds||o$(n.handles),s=a$(r?.source??[],e.sourceHandle),o=a$(e.connectionMode===Hf.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!s||!o)return e.onError?.("008",Ko.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=s?.position||He.Bottom,l=o?.position||He.Top,c=Iu(t,s,a),d=Iu(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function o$(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Iu(e,t,n=He.Left,r=!1){const i=(t?.x??0)+e.internals.positionAbsolute.x,s=(t?.y??0)+e.internals.positionAbsolute.y,{width:o,height:a}=t??rl(e);if(r)return{x:i+o/2,y:s+a/2};switch(t?.position??n){case He.Top:return{x:i+o/2,y:s};case He.Right:return{x:i+o,y:s+a/2};case He.Bottom:return{x:i+o/2,y:s+a};case He.Left:return{x:i,y:s+a/2}}}function a$(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ER(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function U2e(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return e.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=ER(l,t);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const UK=1e3,V2e=10,dM={nodeOrigin:[0,0],nodeExtent:Vm,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},q2e={...dM,checkEquality:!0};function fM(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function W2e(e,t,n){const r=fM(dM,n);for(const i of e.values())if(i.parentId)pM(i,e,t,r);else{const s=Zg(i,r.nodeOrigin),o=qf(i.extent)?i.extent:r.nodeExtent,a=Du(s,o,rl(i));i.internals.positionAbsolute=a}}function G2e(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function hM(e){return e==="manual"}function _R(e,t,n,r={}){const i=fM(q2e,r),s={i:0},o=new Map(t),a=i?.elevateNodesOnSelect&&!hM(i.zIndexMode)?UK:0;let l=e.length>0;t.clear(),n.clear();for(const c of e){let d=o.get(c.id);if(i.checkEquality&&c===d?.internals.userNode)t.set(c.id,d);else{const f=Zg(c,i.nodeOrigin),p=qf(c.extent)?c.extent:i.nodeExtent,g=Du(f,p,rl(c));d={...i.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:g,handleBounds:G2e(c,d),z:VK(c,a,i.zIndexMode),userNode:c}},t.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(l=!1),c.parentId&&pM(d,t,n,r,s)}return l}function K2e(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function pM(e,t,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a,zIndexMode:l}=fM(dM,r),c=e.parentId,d=t.get(c);if(!d){console.warn(`Parent node ${c} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}K2e(e,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&l==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*V2e),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const f=s&&!hM(l)?UK:0,{x:p,y:g,z:v}=Y2e(e,d,o,a,f,l),{positionAbsolute:b}=e.internals,w=p!==b.x||g!==b.y;(w||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:p,y:g}:b,z:v}})}function VK(e,t,n){const r=Zs(e.zIndex)?e.zIndex:0;return hM(n)?r:r+(e.selected?t:0)}function Y2e(e,t,n,r,i,s){const{x:o,y:a}=t.internals.positionAbsolute,l=rl(e),c=Zg(e,n),d=qf(e.extent)?Du(c,e.extent,l):c;let f=Du({x:o+d.x,y:a+d.y},r,l);e.extent==="parent"&&(f=PK(f,l,t));const p=VK(e,i,s),g=t.internals.z??0;return{x:f.x,y:f.y,z:g>=p?g+1:p}}function mM(e,t,n,r=[0,0]){const i=[],s=new Map;for(const o of e){const a=t.get(o.parentId);if(!a)continue;const l=s.get(o.parentId)?.expandedRect??Vf(a),c=MK(l,o.rect);s.set(o.parentId,{expandedRect:c,parent:a})}return s.size>0&&s.forEach(({expandedRect:o,parent:a},l)=>{const c=a.internals.positionAbsolute,d=rl(a),f=a.origin??r,p=o.x<c.x?Math.round(Math.abs(c.x-o.x)):0,g=o.y<c.y?Math.round(Math.abs(c.y-o.y)):0,v=Math.max(d.width,Math.round(o.width)),b=Math.max(d.height,Math.round(o.height)),w=(v-d.width)*f[0],S=(b-d.height)*f[1];(p>0||g>0||w||S)&&(i.push({id:l,type:"position",position:{x:a.position.x-p+w,y:a.position.y-g+S}}),n.get(l)?.forEach(C=>{e.some(_=>_.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+p,y:C.position.y+g}})})),(d.width<o.width||d.height<o.height||p||g)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:v+(p?f[0]*p-w:0),height:b+(g?f[1]*g-S:0)}})}),i}function X2e(e,t,n,r,i,s,o){const a=r?.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(a),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=[];for(const g of e.values()){const v=t.get(g.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),l=!0;continue}const b=uM(g.nodeElement),w=v.measured.width!==b.width||v.measured.height!==b.height;if(!!(b.width&&b.height&&(w||!v.internals.handleBounds||g.force))){const C=g.nodeElement.getBoundingClientRect(),_=qf(v.extent)?v.extent:s;let{positionAbsolute:k}=v.internals;v.parentId&&v.extent==="parent"?k=PK(k,b,t.get(v.parentId)):_&&(k=Du(k,_,b));const R={...v,measured:b,internals:{...v.internals,positionAbsolute:k,handleBounds:{source:t$("source",g.nodeElement,C,f,v.id),target:t$("target",g.nodeElement,C,f,v.id)}}};t.set(v.id,R),v.parentId&&pM(R,t,n,{nodeOrigin:i,zIndexMode:o}),l=!0,w&&(c.push({id:v.id,type:"dimensions",dimensions:b}),v.expandParent&&v.parentId&&p.push({id:v.id,parentId:v.parentId,rect:Vf(R,i)}))}}if(p.length>0){const g=mM(p,t,n,i);c.push(...g)}return{changes:c,updatedInternals:l}}async function Z2e({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const o=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function l$(e,t,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,t)),o=`${i}-${e}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,t)),s){o=`${i}-${e}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,t))}}function qK(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,d=`${s}-${a}--${i}-${o}`;l$("source",l,d,e,i,o),l$("target",l,c,e,s,a),t.set(r.id,r)}}function WK(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:WK(n,t):!1}function c$(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Q2e(e,t,n,r){const i=new Map;for(const[s,o]of e)if((o.selected||o.id===r)&&(!o.parentId||!WK(o,e))&&(o.draggable||t&&typeof o.draggable>"u")){const a=e.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function PC({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,a]of t){const l=n.get(o)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!e)return[i[0],i];const s=n.get(e)?.internals.userNode;return[s?{...s,position:t.get(e)?.position||s.position,dragging:r}:i[0],i]}function J2e({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=Jg(s,t);return{x:o.x-s.x,y:o.y-s.y}}function eDe({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},d=null,f=!1,p=null,g=!1,v=!1,b=null;function w({noDragClassName:C,handleSelector:_,domNode:k,isSelectable:R,nodeId:N,nodeClickDistance:T=0}){p=Si(k);function M({x:F,y:G}){const{nodeLookup:z,nodeExtent:V,snapGrid:j,snapToGrid:H,nodeOrigin:B,onNodeDrag:K,onSelectionDrag:U,onError:q,updateNodePositions:Y}=t();s={x:F,y:G};let $=!1;const J=a.size>1,se=J&&V?wR(Qg(a)):null,ue=J&&H?J2e({dragItems:a,snapGrid:j,x:F,y:G}):null;for(const[ee,Z]of a){if(!z.has(ee))continue;let X={x:F-Z.distance.x,y:G-Z.distance.y};H&&(X=ue?{x:Math.round(X.x+ue.x),y:Math.round(X.y+ue.y)}:Jg(X,j));let fe=null;if(J&&V&&!Z.extent&&se){const{positionAbsolute:we}=Z.internals,xe=we.x-se.x+V[0][0],Re=we.x+Z.measured.width-se.x2+V[1][0],Ae=we.y-se.y+V[0][1],Te=we.y+Z.measured.height-se.y2+V[1][1];fe=[[xe,Ae],[Re,Te]]}const{position:me,positionAbsolute:ne}=kK({nodeId:ee,nextPosition:X,nodeLookup:z,nodeExtent:fe||V,nodeOrigin:B,onError:q});$=$||Z.position.x!==me.x||Z.position.y!==me.y,Z.position=me,Z.internals.positionAbsolute=ne}if(v=v||$,!!$&&(Y(a,!0),b&&(r||K||!N&&U))){const[ee,Z]=PC({nodeId:N,dragItems:a,nodeLookup:z});r?.(b,a,ee,Z),K?.(b,ee,Z),N||U?.(b,Z)}}async function O(){if(!d)return;const{transform:F,panBy:G,autoPanSpeed:z,autoPanOnNodeDrag:V}=t();if(!V){l=!1,cancelAnimationFrame(o);return}const[j,H]=NK(c,d,z);(j!==0||H!==0)&&(s.x=(s.x??0)-j/F[2],s.y=(s.y??0)-H/F[2],await G({x:j,y:H})&&M(s)),o=requestAnimationFrame(O)}function L(F){const{nodeLookup:G,multiSelectionActive:z,nodesDraggable:V,transform:j,snapGrid:H,snapToGrid:B,selectNodesOnDrag:K,onNodeDragStart:U,onSelectionDragStart:q,unselectNodesAndEdges:Y}=t();f=!0,(!K||!R)&&!z&&N&&(G.get(N)?.selected||Y()),R&&K&&N&&e?.(N);const $=mm(F.sourceEvent,{transform:j,snapGrid:H,snapToGrid:B,containerBounds:d});if(s=$,a=Q2e(G,V,$,N),a.size>0&&(n||U||!N&&q)){const[J,se]=PC({nodeId:N,dragItems:a,nodeLookup:G});n?.(F.sourceEvent,a,J,se),U?.(F.sourceEvent,J,se),N||q?.(F.sourceEvent,se)}}const D=l9().clickDistance(T).on("start",F=>{const{domNode:G,nodeDragThreshold:z,transform:V,snapGrid:j,snapToGrid:H}=t();d=G?.getBoundingClientRect()||null,g=!1,v=!1,b=F.sourceEvent,z===0&&L(F),s=mm(F.sourceEvent,{transform:V,snapGrid:j,snapToGrid:H,containerBounds:d}),c=Qs(F.sourceEvent,d)}).on("drag",F=>{const{autoPanOnNodeDrag:G,transform:z,snapGrid:V,snapToGrid:j,nodeDragThreshold:H,nodeLookup:B}=t(),K=mm(F.sourceEvent,{transform:z,snapGrid:V,snapToGrid:j,containerBounds:d});if(b=F.sourceEvent,(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||N&&!B.has(N))&&(g=!0),!g){if(!l&&G&&f&&(l=!0,O()),!f){const U=Qs(F.sourceEvent,d),q=U.x-c.x,Y=U.y-c.y;Math.sqrt(q*q+Y*Y)>H&&L(F)}(s.x!==K.xSnapped||s.y!==K.ySnapped)&&a&&f&&(c=Qs(F.sourceEvent,d),M(K))}}).on("end",F=>{if(!(!f||g)&&(l=!1,f=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:G,updateNodePositions:z,onNodeDragStop:V,onSelectionDragStop:j}=t();if(v&&(z(a,!1),v=!1),i||V||!N&&j){const[H,B]=PC({nodeId:N,dragItems:a,nodeLookup:G,dragging:!1});i?.(F.sourceEvent,a,H,B),V?.(F.sourceEvent,H,B),N||j?.(F.sourceEvent,B)}}}).filter(F=>{const G=F.target;return!F.button&&(!C||!c$(G,`.${C}`,k))&&(!_||c$(G,_,k))});p.call(D)}function S(){p?.on(".drag",null)}return{update:w,destroy:S}}function tDe(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Wm(i,Vf(s))>0&&r.push(s);return r}const nDe=250;function rDe(e,t,n,r){let i=[],s=1/0;const o=tDe(e,n,t+nDe);for(const a of o){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const c of l){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:d,y:f}=Iu(a,c,c.position,!0),p=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(f-e.y,2));p>t||(p<s?(i=[{...c,x:d,y:f}],s=p):p===s&&i.push({...c,x:d,y:f}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function GK(e,t,n,r,i,s=!1){const o=r.get(e);if(!o)return null;const a=i==="strict"?o.internals.handleBounds?.[t]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],l=(n?a?.find(c=>c.id===n):a?.[0])??null;return l&&s?{...l,...Iu(o,l,l.position,!0)}:l}function KK(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function iDe(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const YK=()=>!0;function sDe(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:d,flowId:f,panBy:p,cancelConnection:g,onConnectStart:v,onConnect:b,onConnectEnd:w,isValidConnection:S=YK,onReconnectEnd:C,updateConnection:_,getTransform:k,getFromHandle:R,autoPanSpeed:N,dragThreshold:T=1,handleDomNode:M}){const O=IK(e.target);let L=0,D;const{x:F,y:G}=Qs(e),z=KK(s,M),V=a?.getBoundingClientRect();let j=!1;if(!V||!z)return;const H=GK(i,z,r,l,t);if(!H)return;let B=Qs(e,V),K=!1,U=null,q=!1,Y=null;function $(){if(!d||!V)return;const[me,ne]=NK(B,V,N);p({x:me,y:ne}),L=requestAnimationFrame($)}const J={...H,nodeId:i,type:z,position:H.position},se=l.get(i);let ee={inProgress:!0,isValid:null,from:Iu(se,J,He.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:se,to:B,toHandle:null,toPosition:Z3[J.position],toNode:null,pointer:B};function Z(){j=!0,_(ee),v?.(e,{nodeId:i,handleId:r,handleType:z})}T===0&&Z();function X(me){if(!j){const{x:Te,y:We}=Qs(me),rt=Te-F,mt=We-G;if(!(rt*rt+mt*mt>T*T))return;Z()}if(!R()||!J){fe(me);return}const ne=k();B=Qs(me,V),D=rDe(ev(B,ne,!1,[1,1]),n,l,J),K||($(),K=!0);const we=XK(me,{handle:D,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:S,doc:O,lib:c,flowId:f,nodeLookup:l});Y=we.handleDomNode,U=we.connection,q=iDe(!!D,we.isValid);const xe=l.get(i),Re=xe?Iu(xe,J,He.Left,!0):ee.from,Ae={...ee,from:Re,isValid:q,to:we.toHandle&&q?sx({x:we.toHandle.x,y:we.toHandle.y},ne):B,toHandle:we.toHandle,toPosition:q&&we.toHandle?we.toHandle.position:Z3[J.position],toNode:we.toHandle?l.get(we.toHandle.nodeId):null,pointer:B};_(Ae),ee=Ae}function fe(me){if(!("touches"in me&&me.touches.length>0)){if(j){(D||Y)&&U&&q&&b?.(U);const{inProgress:ne,...we}=ee,xe={...we,toPosition:ee.toHandle?ee.toPosition:null};w?.(me,xe),s&&C?.(me,xe)}g(),cancelAnimationFrame(L),K=!1,q=!1,U=null,Y=null,O.removeEventListener("mousemove",X),O.removeEventListener("mouseup",fe),O.removeEventListener("touchmove",X),O.removeEventListener("touchend",fe)}}O.addEventListener("mousemove",X),O.addEventListener("mouseup",fe),O.addEventListener("touchmove",X),O.addEventListener("touchend",fe)}function XK(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=YK,nodeLookup:d}){const f=s==="target",p=t?o.querySelector(`.${a}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:g,y:v}=Qs(e),b=o.elementFromPoint(g,v),w=b?.classList.contains(`${a}-flow__handle`)?b:p,S={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const C=KK(void 0,w),_=w.getAttribute("data-nodeid"),k=w.getAttribute("data-handleid"),R=w.classList.contains("connectable"),N=w.classList.contains("connectableend");if(!_||!C)return S;const T={source:f?_:r,sourceHandle:f?k:i,target:f?r:_,targetHandle:f?i:k};S.connection=T;const O=R&&N&&(n===Hf.Strict?f&&C==="source"||!f&&C==="target":_!==r||k!==i);S.isValid=O&&c(T),S.toHandle=GK(_,C,k,d,n,!0)}return S}const CR={onPointerDown:sDe,isValid:XK};function oDe({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Si(e);function s({translateExtent:a,width:l,height:c,zoomStep:d=1,pannable:f=!0,zoomable:p=!0,inversePan:g=!1}){const v=_=>{if(_.sourceEvent.type!=="wheel"||!t)return;const k=n(),R=_.sourceEvent.ctrlKey&&Gm()?10:1,N=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*d,T=k[2]*Math.pow(2,N*R);t.scaleTo(T)};let b=[0,0];const w=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(b=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},S=_=>{const k=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!t)return;const R=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],N=[R[0]-b[0],R[1]-b[1]];b=R;const T=r()*Math.max(k[2],Math.log(k[2]))*(g?-1:1),M={x:k[0]-N[0]*T,y:k[1]-N[1]*T},O=[[0,0],[l,c]];t.setViewportConstrained({x:M.x,y:M.y,zoom:k[2]},O,a)},C=iN().on("start",w).on("zoom",f?S:null).on("zoom.wheel",p?v:null);i.call(C,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Ws}}const rS=e=>({x:e.x,y:e.y,zoom:e.k}),NC=({x:e,y:t,zoom:n})=>Lf.translate(e,t).scale(n),hf=(e,t)=>e.target.closest(`.${t}`),ZK=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),aDe=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,MC=(e,t=0,n=aDe,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},QK=e=>{const t=e.ctrlKey&&Gm()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function lDe({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return d=>{if(hf(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&o){const w=Ws(d),S=QK(d),C=f*Math.pow(2,S);r.scaleTo(n,C,w,d);return}const p=d.deltaMode===1?20:1;let g=i===xu.Vertical?0:d.deltaX*p,v=i===xu.Horizontal?0:d.deltaY*p;!Gm()&&d.shiftKey&&i!==xu.Vertical&&(g=d.deltaY*p,v=0),r.translateBy(n,-(g/f)*s,-(v/f)*s,{internal:!0});const b=rS(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(l?.(d,b),e.panScrollTimeout=setTimeout(()=>{c?.(d,b),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,a?.(d,b))}}function cDe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!t&&s&&!r.ctrlKey,a=hf(r,e);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function uDe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=rS(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=i,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,i)}}function dDe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{e.usedRightMouseButton=!!(n&&ZK(t,e.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,rS(s.transform))}}function fDe({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,s&&ZK(t,e.mouseButton??0)&&!e.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const a=rS(o.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i?.(o.sourceEvent,a)},n?150:0)}}}function hDe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:d}){return f=>{const p=e||t,g=n&&f.ctrlKey,v=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(hf(f,`${c}-flow__node`)||hf(f,`${c}-flow__edge`)))return!0;if(!r&&!p&&!i&&!s&&!n||o||d&&!v||hf(f,a)&&v||hf(f,l)&&(!v||i&&v&&!e)||!n&&f.ctrlKey&&v)return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!p&&!i&&!g&&v||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const b=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||v)&&b}}function pDe({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:l}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=iN().scaleExtent([t,n]).translateExtent(r),p=Si(e).call(f);C({x:i.x,y:i.y,zoom:Uf(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const g=p.on("wheel.zoom"),v=p.on("dblclick.zoom");f.wheelDelta(QK);function b(D,F){return p?new Promise(G=>{f?.interpolate(F?.interpolate==="linear"?La:sb).transform(MC(p,F?.duration,F?.ease,()=>G(!0)),D)}):Promise.resolve(!1)}function w({noWheelClassName:D,noPanClassName:F,onPaneContextMenu:G,userSelectionActive:z,panOnScroll:V,panOnDrag:j,panOnScrollMode:H,panOnScrollSpeed:B,preventScrolling:K,zoomOnPinch:U,zoomOnScroll:q,zoomOnDoubleClick:Y,zoomActivationKeyPressed:$,lib:J,onTransformChange:se,connectionInProgress:ue,paneClickDistance:ee,selectionOnDrag:Z}){z&&!c.isZoomingOrPanning&&S();const X=V&&!$&&!z;f.clickDistance(Z?1/0:!Zs(ee)||ee<0?0:ee);const fe=X?lDe({zoomPanValues:c,noWheelClassName:D,d3Selection:p,d3Zoom:f,panOnScrollMode:H,panOnScrollSpeed:B,zoomOnPinch:U,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a}):cDe({noWheelClassName:D,preventScrolling:K,d3ZoomHandler:g});if(p.on("wheel.zoom",fe,{passive:!1}),!z){const ne=uDe({zoomPanValues:c,onDraggingChange:l,onPanZoomStart:o});f.on("start",ne);const we=dDe({zoomPanValues:c,panOnDrag:j,onPaneContextMenu:!!G,onPanZoom:s,onTransformChange:se});f.on("zoom",we);const xe=fDe({zoomPanValues:c,panOnDrag:j,panOnScroll:V,onPaneContextMenu:G,onPanZoomEnd:a,onDraggingChange:l});f.on("end",xe)}const me=hDe({zoomActivationKeyPressed:$,panOnDrag:j,zoomOnScroll:q,panOnScroll:V,zoomOnDoubleClick:Y,zoomOnPinch:U,userSelectionActive:z,noPanClassName:F,noWheelClassName:D,lib:J,connectionInProgress:ue});f.filter(me),Y?p.on("dblclick.zoom",v):p.on("dblclick.zoom",null)}function S(){f.on("zoom",null)}async function C(D,F,G){const z=NC(D),V=f?.constrain()(z,F,G);return V&&await b(V),new Promise(j=>j(V))}async function _(D,F){const G=NC(D);return await b(G,F),new Promise(z=>z(G))}function k(D){if(p){const F=NC(D),G=p.property("__zoom");(G.k!==D.zoom||G.x!==D.x||G.y!==D.y)&&f?.transform(p,F,null,{sync:!0})}}function R(){const D=p?S9(p.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function N(D,F){return p?new Promise(G=>{f?.interpolate(F?.interpolate==="linear"?La:sb).scaleTo(MC(p,F?.duration,F?.ease,()=>G(!0)),D)}):Promise.resolve(!1)}function T(D,F){return p?new Promise(G=>{f?.interpolate(F?.interpolate==="linear"?La:sb).scaleBy(MC(p,F?.duration,F?.ease,()=>G(!0)),D)}):Promise.resolve(!1)}function M(D){f?.scaleExtent(D)}function O(D){f?.translateExtent(D)}function L(D){const F=!Zs(D)||D<0?0:D;f?.clickDistance(F)}return{update:w,destroy:S,setViewport:_,setViewportConstrained:C,getViewport:R,scaleTo:N,scaleBy:T,setScaleExtent:M,setTranslateExtent:O,syncViewport:k,setClickDistance:L}}var Wf;(function(e){e.Line="line",e.Handle="handle"})(Wf||(Wf={}));function mDe({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=e-t,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function u$(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Bl(e,t){return Math.max(0,t-e)}function Ul(e,t){return Math.max(0,e-t)}function R0(e,t,n){return Math.max(0,t-e,e-n)}function d$(e,t){return e?!t:t}function gDe(e,t,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:d,isVertical:f}=t,p=d&&f,{xSnapped:g,ySnapped:v}=n,{minWidth:b,maxWidth:w,minHeight:S,maxHeight:C}=r,{x:_,y:k,width:R,height:N,aspectRatio:T}=e;let M=Math.floor(d?g-e.pointerX:0),O=Math.floor(f?v-e.pointerY:0);const L=R+(l?-M:M),D=N+(c?-O:O),F=-s[0]*R,G=-s[1]*N;let z=R0(L,b,w),V=R0(D,S,C);if(o){let B=0,K=0;l&&M<0?B=Bl(_+M+F,o[0][0]):!l&&M>0&&(B=Ul(_+L+F,o[1][0])),c&&O<0?K=Bl(k+O+G,o[0][1]):!c&&O>0&&(K=Ul(k+D+G,o[1][1])),z=Math.max(z,B),V=Math.max(V,K)}if(a){let B=0,K=0;l&&M>0?B=Ul(_+M,a[0][0]):!l&&M<0&&(B=Bl(_+L,a[1][0])),c&&O>0?K=Ul(k+O,a[0][1]):!c&&O<0&&(K=Bl(k+D,a[1][1])),z=Math.max(z,B),V=Math.max(V,K)}if(i){if(d){const B=R0(L/T,S,C)*T;if(z=Math.max(z,B),o){let K=0;!l&&!c||l&&!c&&p?K=Ul(k+G+L/T,o[1][1])*T:K=Bl(k+G+(l?M:-M)/T,o[0][1])*T,z=Math.max(z,K)}if(a){let K=0;!l&&!c||l&&!c&&p?K=Bl(k+L/T,a[1][1])*T:K=Ul(k+(l?M:-M)/T,a[0][1])*T,z=Math.max(z,K)}}if(f){const B=R0(D*T,b,w)/T;if(V=Math.max(V,B),o){let K=0;!l&&!c||c&&!l&&p?K=Ul(_+D*T+F,o[1][0])/T:K=Bl(_+(c?O:-O)*T+F,o[0][0])/T,V=Math.max(V,K)}if(a){let K=0;!l&&!c||c&&!l&&p?K=Bl(_+D*T,a[1][0])/T:K=Ul(_+(c?O:-O)*T,a[0][0])/T,V=Math.max(V,K)}}}O=O+(O<0?V:-V),M=M+(M<0?z:-z),i&&(p?L>D*T?O=(d$(l,c)?-M:M)/T:M=(d$(l,c)?-O:O)*T:d?(O=M/T,c=l):(M=O*T,l=c));const j=l?_+M:_,H=c?k+O:k;return{width:R+(l?-M:M),height:N+(c?-O:O),x:s[0]*M*(l?-1:1)+j,y:s[1]*O*(c?-1:1)+H}}const JK={width:0,height:0,x:0,y:0},vDe={...JK,pointerX:0,pointerY:0,aspectRatio:1};function yDe(e){return[[0,0],[e.measured.width,e.measured.height]]}function bDe(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,s=e.measured.width??0,o=e.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function xDe({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const s=Si(e);let o={controlDirection:u$("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:p,onResizeStart:g,onResize:v,onResizeEnd:b,shouldResize:w}){let S={...JK},C={...vDe};o={boundaries:d,resizeDirection:p,keepAspectRatio:f,controlDirection:u$(c)};let _,k=null,R=[],N,T,M,O=!1;const L=l9().on("start",D=>{const{nodeLookup:F,transform:G,snapGrid:z,snapToGrid:V,nodeOrigin:j,paneDomNode:H}=n();if(_=F.get(t),!_)return;k=H?.getBoundingClientRect()??null;const{xSnapped:B,ySnapped:K}=mm(D.sourceEvent,{transform:G,snapGrid:z,snapToGrid:V,containerBounds:k});S={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},C={...S,pointerX:B,pointerY:K,aspectRatio:S.width/S.height},N=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(N=F.get(_.parentId),T=N&&_.extent==="parent"?yDe(N):void 0),R=[],M=void 0;for(const[U,q]of F)if(q.parentId===t&&(R.push({id:U,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const Y=bDe(q,_,q.origin??j);M?M=[[Math.min(Y[0][0],M[0][0]),Math.min(Y[0][1],M[0][1])],[Math.max(Y[1][0],M[1][0]),Math.max(Y[1][1],M[1][1])]]:M=Y}g?.(D,{...S})}).on("drag",D=>{const{transform:F,snapGrid:G,snapToGrid:z,nodeOrigin:V}=n(),j=mm(D.sourceEvent,{transform:F,snapGrid:G,snapToGrid:z,containerBounds:k}),H=[];if(!_)return;const{x:B,y:K,width:U,height:q}=S,Y={},$=_.origin??V,{width:J,height:se,x:ue,y:ee}=gDe(C,o.controlDirection,j,o.boundaries,o.keepAspectRatio,$,T,M),Z=J!==U,X=se!==q,fe=ue!==B&&Z,me=ee!==K&&X;if(!fe&&!me&&!Z&&!X)return;if((fe||me||$[0]===1||$[1]===1)&&(Y.x=fe?ue:S.x,Y.y=me?ee:S.y,S.x=Y.x,S.y=Y.y,R.length>0)){const Re=ue-B,Ae=ee-K;for(const Te of R)Te.position={x:Te.position.x-Re+$[0]*(J-U),y:Te.position.y-Ae+$[1]*(se-q)},H.push(Te)}if((Z||X)&&(Y.width=Z&&(!o.resizeDirection||o.resizeDirection==="horizontal")?J:S.width,Y.height=X&&(!o.resizeDirection||o.resizeDirection==="vertical")?se:S.height,S.width=Y.width,S.height=Y.height),N&&_.expandParent){const Re=$[0]*(Y.width??0);Y.x&&Y.x<Re&&(S.x=Re,C.x=C.x-(Y.x-Re));const Ae=$[1]*(Y.height??0);Y.y&&Y.y<Ae&&(S.y=Ae,C.y=C.y-(Y.y-Ae))}const ne=mDe({width:S.width,prevWidth:U,height:S.height,prevHeight:q,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),we={...S,direction:ne};w?.(D,we)!==!1&&(O=!0,v?.(D,we),r(Y,H))}).on("end",D=>{O&&(b?.(D,{...S}),i?.({...S}),O=!1)});s.call(L)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var OC={exports:{}},DC={};var f$;function wDe(){if(f$)return DC;f$=1;var e=gc(),t=_V();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,l=e.useDebugValue;return DC.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var v=s(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=a(function(){function S(N){if(!C){if(C=!0,_=N,N=p(N),g!==void 0&&b.hasValue){var T=b.value;if(g(T,N))return k=T}return k=N}if(T=k,r(_,N))return T;var M=p(N);return g!==void 0&&g(T,M)?(_=N,T):(_=N,k=M)}var C=!1,_,k,R=f===void 0?null:f;return[function(){return S(d())},R===null?void 0:function(){return S(R())}]},[d,f,p,g]);var w=i(c,v[0],v[1]);return o(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},DC}var h$;function SDe(){return h$||(h$=1,OC.exports=wDe()),OC.exports}var eY=SDe();const EDe=Di(eY),_De={},p$=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(v=>v(t,g))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(_De?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},CDe=e=>e?p$(e):p$,{useDebugValue:ADe}=ie,{useSyncExternalStoreWithSelector:TDe}=EDe,RDe=e=>e;function tY(e,t=RDe,n){const r=TDe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ADe(r),r}const m$=(e,t)=>{const n=CDe(e),r=(i,s=t)=>tY(n,i,s);return Object.assign(r,n),r},kDe=(e,t)=>e?m$(e,t):m$;function xn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const iS=x.createContext(null),PDe=iS.Provider,nY=Ko.error001();function Tt(e,t){const n=x.useContext(iS);if(n===null)throw new Error(nY);return tY(n,e,t)}function wn(){const e=x.useContext(iS);if(e===null)throw new Error(nY);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const g$={display:"none"},NDe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rY="react-flow__node-desc",iY="react-flow__edge-desc",MDe="react-flow__aria-live",ODe=e=>e.ariaLiveMessage,DDe=e=>e.ariaLabelConfig;function IDe({rfId:e}){const t=Tt(ODe);return E.jsx("div",{id:`${MDe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:NDe,children:t})}function jDe({rfId:e,disableKeyboardA11y:t}){const n=Tt(DDe);return E.jsxs(E.Fragment,{children:[E.jsx("div",{id:`${rY}-${e}`,style:g$,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),E.jsx("div",{id:`${iY}-${e}`,style:g$,children:n["edge.a11yDescription.default"]}),!t&&E.jsx(IDe,{rfId:e})]})}const sS=x.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},s)=>{const o=`${e}`.split("-");return E.jsx("div",{className:rr(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:t})});sS.displayName="Panel";function LDe({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:E.jsx(sS,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:E.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const zDe=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},k0=e=>e.id;function FDe(e,t){return xn(e.selectedNodes.map(k0),t.selectedNodes.map(k0))&&xn(e.selectedEdges.map(k0),t.selectedEdges.map(k0))}function $De({onSelectionChange:e}){const t=wn(),{selectedNodes:n,selectedEdges:r}=Tt(zDe,FDe);return x.useEffect(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,e]),null}const HDe=e=>!!e.onSelectionChangeHandlers;function BDe({onSelectionChange:e}){const t=Tt(HDe);return e||t?E.jsx($De,{onSelectionChange:e}):null}const sY=[0,0],UDe={x:0,y:0,zoom:1},VDe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],v$=[...VDe,"rfId"],qDe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),y$={translateExtent:Vm,nodeOrigin:sY,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function WDe(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l}=Tt(qDe,xn),c=wn();x.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{d.current=y$,a()}),[]);const d=x.useRef(y$);return x.useEffect(()=>{for(const f of v$){const p=e[f],g=d.current[f];p!==g&&(typeof e[f]>"u"||(f==="nodes"?t(p):f==="edges"?n(p):f==="minZoom"?r(p):f==="maxZoom"?i(p):f==="translateExtent"?s(p):f==="nodeExtent"?o(p):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:O2e(p)}):f==="fitView"?c.setState({fitViewQueued:p}):f==="fitViewOptions"?c.setState({fitViewOptions:p}):c.setState({[f]:p})))}d.current=e},v$.map(f=>e[f])),null}function b$(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function GDe(e){const[t,n]=x.useState(e==="system"?null:e);return x.useEffect(()=>{if(e!=="system"){n(e);return}const r=b$(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[e]),t!==null?t:b$()?.matches?"dark":"light"}const x$=typeof document<"u"?document:null;function Km(e=null,t={target:x$,actInsideInputWithModifier:!0}){const[n,r]=x.useState(!1),i=x.useRef(!1),s=x.useRef(new Set([])),[o,a]=x.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((f,p)=>f.concat(...p),[]);return[c,d]}return[[],[]]},[e]);return x.useEffect(()=>{const l=t?.target??x$,c=t?.actInsideInputWithModifier??!0;if(e!==null){const d=g=>{if(i.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!i.current||i.current&&!c)&&jK(g))return!1;const b=S$(g.code,a);if(s.current.add(g[b]),w$(o,s.current,!1)){const w=g.composedPath?.()?.[0]||g.target,S=w?.nodeName==="BUTTON"||w?.nodeName==="A";t.preventDefault!==!1&&(i.current||!S)&&g.preventDefault(),r(!0)}},f=g=>{const v=S$(g.code,a);w$(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[v]),g.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return l?.addEventListener("keydown",d),l?.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{l?.removeEventListener("keydown",d),l?.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function w$(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function S$(e,t){return t.includes(e)?"code":"key"}const KDe=()=>{const e=wn();return x.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,s],panZoom:o}=e.getState();return o?(await o.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=e.getState(),l=cM(t,r,i,s,o,n?.padding??.1);return a?(await a.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=e.getState();if(!o)return t;const{x:a,y:l}=o.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},d=n.snapGrid??i,f=n.snapToGrid??s;return ev(c,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:s}=r.getBoundingClientRect(),o=sx(t,n);return{x:o.x+i,y:o.y+s}}}),[])};function oY(e,t){const n=[],r=new Map,i=[];for(const s of e)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of t){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)YDe(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function YDe(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function aY(e,t){return oY(e,t)}function lY(e,t){return oY(e,t)}function nu(e,t){return{id:e,type:"select",selected:t}}function pf(e,t=new Set,n=!1){const r=[];for(const[i,s]of e){const o=t.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(nu(s.id,o)))}return r}function E$({items:e=[],lookup:t}){const n=[],r=new Map(e.map(i=>[i.id,i]));for(const[i,s]of e.entries()){const o=t.get(s.id),a=o?.internals?.userNode??o;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of t)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function _$(e){return{id:e.id,type:"remove"}}const C$=e=>E2e(e),XDe=e=>RK(e);function cY(e){return x.forwardRef(e)}const ZDe=typeof window<"u"?x.useLayoutEffect:x.useEffect;function A$(e){const[t,n]=x.useState(BigInt(0)),[r]=x.useState(()=>QDe(()=>n(i=>i+BigInt(1))));return ZDe(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function QDe(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const uY=x.createContext(null);function JDe({children:e}){const t=wn(),n=x.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:d,onNodesChange:f,nodeLookup:p,fitViewQueued:g,onNodesChangeMiddlewareMap:v}=t.getState();let b=l;for(const S of a)b=typeof S=="function"?S(b):S;let w=E$({items:b,lookup:p});for(const S of v.values())w=S(w);d&&c(b),w.length>0?f?.(w):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:C,setNodes:_}=t.getState();S&&_(C)})},[]),r=A$(n),i=x.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:p}=t.getState();let g=l;for(const v of a)g=typeof v=="function"?v(g):v;d?c(g):f&&f(E$({items:g,lookup:p}))},[]),s=A$(i),o=x.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return E.jsx(uY.Provider,{value:o,children:e})}function eIe(){const e=x.useContext(uY);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const tIe=e=>!!e.panZoom;function gM(){const e=KDe(),t=wn(),n=eIe(),r=Tt(tIe),i=x.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),o=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{const{nodeLookup:p,nodeOrigin:g}=t.getState(),v=C$(f)?f:p.get(f.id),b=v.parentId?DK(v.position,v.measured,v.parentId,p,g):v.position,w={...v,position:b,width:v.measured?.width??v.width,height:v.measured?.height??v.height};return Vf(w)},c=(f,p,g={replace:!1})=>{o(v=>v.map(b=>{if(b.id===f){const w=typeof p=="function"?p(b):p;return g.replace&&C$(w)?w:{...b,...w}}return b}))},d=(f,p,g={replace:!1})=>{a(v=>v.map(b=>{if(b.id===f){const w=typeof p=="function"?p(b):p;return g.replace&&XDe(w)?w:{...b,...w}}return b}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>s(f)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(p=>({...p}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:o,setEdges:a,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(g=>[...g,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(g=>[...g,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:g}=t.getState(),[v,b,w]=g;return{nodes:f.map(S=>({...S})),edges:p.map(S=>({...S})),viewport:{x:v,y:b,zoom:w}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:g,edges:v,onNodesDelete:b,onEdgesDelete:w,triggerNodeChanges:S,triggerEdgeChanges:C,onDelete:_,onBeforeDelete:k}=t.getState(),{nodes:R,edges:N}=await R2e({nodesToRemove:f,edgesToRemove:p,nodes:g,edges:v,onBeforeDelete:k}),T=N.length>0,M=R.length>0;if(T){const O=N.map(_$);w?.(N),C(O)}if(M){const O=R.map(_$);b?.(R),S(O)}return(M||T)&&_?.({nodes:R,edges:N}),{deletedNodes:R,deletedEdges:N}},getIntersectingNodes:(f,p=!0,g)=>{const v=J3(f),b=v?f:l(f),w=g!==void 0;return b?(g||t.getState().nodes).filter(S=>{const C=t.getState().nodeLookup.get(S.id);if(C&&!v&&(S.id===f.id||!C.internals.positionAbsolute))return!1;const _=Vf(w?S:C),k=Wm(_,b);return p&&k>0||k>=_.width*_.height||k>=b.width*b.height}):[]},isNodeIntersecting:(f,p,g=!0)=>{const b=J3(f)?f:l(f);if(!b)return!1;const w=Wm(b,p);return g&&w>0||w>=p.width*p.height||w>=b.width*b.height},updateNode:c,updateNodeData:(f,p,g={replace:!1})=>{c(f,v=>{const b=typeof p=="function"?p(v):p;return g.replace?{...v,data:b}:{...v,data:{...v.data,...b}}},g)},updateEdge:d,updateEdgeData:(f,p,g={replace:!1})=>{d(f,v=>{const b=typeof p=="function"?p(v):p;return g.replace?{...v,data:b}:{...v,data:{...v.data,...b}}},g)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:g}=t.getState();return _2e(f,{nodeLookup:p,nodeOrigin:g})},getHandleConnections:({type:f,id:p,nodeId:g})=>Array.from(t.getState().connectionLookup.get(`${g}-${f}${p?`-${p}`:""}`)?.values()??[]),getNodeConnections:({type:f,handleId:p,nodeId:g})=>Array.from(t.getState().connectionLookup.get(`${g}${f?p?`-${f}-${p}`:`-${f}`:""}`)?.values()??[]),fitView:async f=>{const p=t.getState().fitViewResolver??M2e();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:p}),n.nodeQueue.push(g=>[...g]),p.promise}}},[]);return x.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const T$=e=>e.selected,nIe=typeof window<"u"?window:void 0;function rIe({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=wn(),{deleteElements:r}=gM(),i=Km(e,{actInsideInputWithModifier:!1}),s=Km(t,{target:nIe});x.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(T$),edges:o.filter(T$)}),n.setState({nodesSelectionActive:!1})}},[i]),x.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function iIe(e){const t=wn();x.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=uM(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Ko.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const oS={position:"absolute",width:"100%",height:"100%",top:0,left:0},sIe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function oIe({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=xu.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:d,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:g=!0,children:v,noWheelClassName:b,noPanClassName:w,onViewportChange:S,isControlledViewport:C,paneClickDistance:_,selectionOnDrag:k}){const R=wn(),N=x.useRef(null),{userSelectionActive:T,lib:M,connectionInProgress:O}=Tt(sIe,xn),L=Km(p),D=x.useRef();iIe(N);const F=x.useCallback(G=>{S?.({x:G[0],y:G[1],zoom:G[2]}),C||R.setState({transform:G})},[S,C]);return x.useEffect(()=>{if(N.current){D.current=pDe({domNode:N.current,minZoom:d,maxZoom:f,translateExtent:c,viewport:l,onDraggingChange:j=>R.setState({paneDragging:j}),onPanZoomStart:(j,H)=>{const{onViewportChangeStart:B,onMoveStart:K}=R.getState();K?.(j,H),B?.(H)},onPanZoom:(j,H)=>{const{onViewportChange:B,onMove:K}=R.getState();K?.(j,H),B?.(H)},onPanZoomEnd:(j,H)=>{const{onViewportChangeEnd:B,onMoveEnd:K}=R.getState();K?.(j,H),B?.(H)}});const{x:G,y:z,zoom:V}=D.current.getViewport();return R.setState({panZoom:D.current,transform:[G,z,V],domNode:N.current.closest(".react-flow")}),()=>{D.current?.destroy()}}},[]),x.useEffect(()=>{D.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:L,preventScrolling:g,noPanClassName:w,userSelectionActive:T,noWheelClassName:b,lib:M,onTransformChange:F,connectionInProgress:O,selectionOnDrag:k,paneClickDistance:_})},[e,t,n,r,i,s,o,a,L,g,w,T,b,M,F,O,k,_]),E.jsx("div",{className:"react-flow__renderer",ref:N,style:oS,children:v})}const aIe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function lIe(){const{userSelectionActive:e,userSelectionRect:t}=Tt(aIe,xn);return e&&t?E.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const IC=(e,t)=>n=>{n.target===t.current&&e?.(n)},cIe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function uIe({isSelecting:e,selectionKeyPressed:t,selectionMode:n=qm.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:p,onPaneMouseLeave:g,children:v}){const b=wn(),{userSelectionActive:w,elementsSelectable:S,dragging:C,connectionInProgress:_}=Tt(cIe,xn),k=S&&(e||w),R=x.useRef(null),N=x.useRef(),T=x.useRef(new Set),M=x.useRef(new Set),O=x.useRef(!1),L=B=>{if(O.current||_){O.current=!1;return}l?.(B),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},D=B=>{if(Array.isArray(r)&&r?.includes(2)){B.preventDefault();return}c?.(B)},F=d?B=>d(B):void 0,G=B=>{O.current&&(B.stopPropagation(),O.current=!1)},z=B=>{const{domNode:K}=b.getState();if(N.current=K?.getBoundingClientRect(),!N.current)return;const U=B.target===R.current;if(!U&&!!B.target.closest(".nokey")||!e||!(s&&U||t)||B.button!==0||!B.isPrimary)return;B.target?.setPointerCapture?.(B.pointerId),O.current=!1;const{x:$,y:J}=Qs(B.nativeEvent,N.current);b.setState({userSelectionRect:{width:0,height:0,startX:$,startY:J,x:$,y:J}}),U||(B.stopPropagation(),B.preventDefault())},V=B=>{const{userSelectionRect:K,transform:U,nodeLookup:q,edgeLookup:Y,connectionLookup:$,triggerNodeChanges:J,triggerEdgeChanges:se,defaultEdgeOptions:ue,resetSelectedElements:ee}=b.getState();if(!N.current||!K)return;const{x:Z,y:X}=Qs(B.nativeEvent,N.current),{startX:fe,startY:me}=K;if(!O.current){const Ae=t?0:i;if(Math.hypot(Z-fe,X-me)<=Ae)return;ee(),o?.(B)}O.current=!0;const ne={startX:fe,startY:me,x:Z<fe?Z:fe,y:X<me?X:me,width:Math.abs(Z-fe),height:Math.abs(X-me)},we=T.current,xe=M.current;T.current=new Set(lM(q,ne,U,n===qm.Partial,!0).map(Ae=>Ae.id)),M.current=new Set;const Re=ue?.selectable??!0;for(const Ae of T.current){const Te=$.get(Ae);if(Te)for(const{edgeId:We}of Te.values()){const rt=Y.get(We);rt&&(rt.selectable??Re)&&M.current.add(We)}}if(!e$(we,T.current)){const Ae=pf(q,T.current,!0);J(Ae)}if(!e$(xe,M.current)){const Ae=pf(Y,M.current);se(Ae)}b.setState({userSelectionRect:ne,userSelectionActive:!0,nodesSelectionActive:!1})},j=B=>{B.button===0&&(B.target?.releasePointerCapture?.(B.pointerId),!w&&B.target===R.current&&b.getState().userSelectionRect&&L?.(B),b.setState({userSelectionActive:!1,userSelectionRect:null}),O.current&&(a?.(B),b.setState({nodesSelectionActive:T.current.size>0})))},H=r===!0||Array.isArray(r)&&r.includes(0);return E.jsxs("div",{className:rr(["react-flow__pane",{draggable:H,dragging:C,selection:e}]),onClick:k?void 0:IC(L,R),onContextMenu:IC(D,R),onWheel:IC(F,R),onPointerEnter:k?void 0:f,onPointerMove:k?V:p,onPointerUp:k?j:void 0,onPointerDownCapture:k?z:void 0,onClickCapture:k?G:void 0,onPointerLeave:g,ref:R,style:oS,children:[v,E.jsx(lIe,{})]})}function AR({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l?.("012",Ko.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function dY({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=wn(),[l,c]=x.useState(!1),d=x.useRef();return x.useEffect(()=>{d.current=eDe({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{AR({id:f,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),x.useEffect(()=>{if(t)d.current?.destroy();else if(e.current)return d.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{d.current?.destroy()}},[n,r,t,s,e,i]),l}const dIe=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function fY(){const e=wn();return x.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:d}=e.getState(),f=new Map,p=dIe(o),g=i?s[0]:5,v=i?s[1]:5,b=n.direction.x*g*n.factor,w=n.direction.y*v*n.factor;for(const[,S]of c){if(!p(S))continue;let C={x:S.internals.positionAbsolute.x+b,y:S.internals.positionAbsolute.y+w};i&&(C=Jg(C,s));const{position:_,positionAbsolute:k}=kK({nodeId:S.id,nextPosition:C,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:a});S.position=_,S.internals.positionAbsolute=k,f.set(S.id,S)}l(f)},[])}const vM=x.createContext(null),fIe=vM.Provider;vM.Consumer;const hY=()=>x.useContext(vM),hIe=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),pIe=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,d=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:a?.nodeId===e&&a?.id===t&&a?.type===n,connectingTo:d,clickConnecting:i?.nodeId===e&&i?.id===t&&i?.type===n,isPossibleEndHandle:s===Hf.Strict?a?.type!==n:e!==a?.nodeId||t!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:d&&c}};function mIe({type:e="source",position:t=He.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:f,...p},g){const v=o||null,b=e==="target",w=wn(),S=hY(),{connectOnClick:C,noPanClassName:_,rfId:k}=Tt(hIe,xn),{connectingFrom:R,connectingTo:N,clickConnecting:T,isPossibleEndHandle:M,connectionInProcess:O,clickConnectionInProcess:L,valid:D}=Tt(pIe(S,v,e),xn);S||w.getState().onError?.("010",Ko.error010());const F=V=>{const{defaultEdgeOptions:j,onConnect:H,hasDefaultEdges:B}=w.getState(),K={...j,...V};if(B){const{edges:U,setEdges:q}=w.getState();q(HK(K,U))}H?.(K),a?.(K)},G=V=>{if(!S)return;const j=LK(V.nativeEvent);if(i&&(j&&V.button===0||!j)){const H=w.getState();CR.onPointerDown(V.nativeEvent,{handleDomNode:V.currentTarget,autoPanOnConnect:H.autoPanOnConnect,connectionMode:H.connectionMode,connectionRadius:H.connectionRadius,domNode:H.domNode,nodeLookup:H.nodeLookup,lib:H.lib,isTarget:b,handleId:v,nodeId:S,flowId:H.rfId,panBy:H.panBy,cancelConnection:H.cancelConnection,onConnectStart:H.onConnectStart,onConnectEnd:H.onConnectEnd,updateConnection:H.updateConnection,onConnect:F,isValidConnection:n||H.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:H.autoPanSpeed,dragThreshold:H.connectionDragThreshold})}j?d?.(V):f?.(V)},z=V=>{const{onClickConnectStart:j,onClickConnectEnd:H,connectionClickStartHandle:B,connectionMode:K,isValidConnection:U,lib:q,rfId:Y,nodeLookup:$,connection:J}=w.getState();if(!S||!B&&!i)return;if(!B){j?.(V.nativeEvent,{nodeId:S,handleId:v,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:S,type:e,id:v}});return}const se=IK(V.target),ue=n||U,{connection:ee,isValid:Z}=CR.isValid(V.nativeEvent,{handle:{nodeId:S,id:v,type:e},connectionMode:K,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:ue,flowId:Y,doc:se,lib:q,nodeLookup:$});Z&&ee&&F(ee);const X=structuredClone(J);delete X.inProgress,X.toPosition=X.toHandle?X.toHandle.position:null,H?.(V,X),w.setState({connectionClickStartHandle:null})};return E.jsx("div",{"data-handleid":v,"data-nodeid":S,"data-handlepos":t,"data-id":`${k}-${S}-${v}-${e}`,className:rr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,c,{source:!b,target:b,connectable:r,connectablestart:i,connectableend:s,clickconnecting:T,connectingfrom:R,connectingto:N,valid:D,connectionindicator:r&&(!O||M)&&(O||L?s:i)}]),onMouseDown:G,onTouchStart:G,onClick:C?z:void 0,ref:g,...p,children:l})}const Gf=x.memo(cY(mIe));function gIe({data:e,isConnectable:t,sourcePosition:n=He.Bottom}){return E.jsxs(E.Fragment,{children:[e?.label,E.jsx(Gf,{type:"source",position:n,isConnectable:t})]})}function vIe({data:e,isConnectable:t,targetPosition:n=He.Top,sourcePosition:r=He.Bottom}){return E.jsxs(E.Fragment,{children:[E.jsx(Gf,{type:"target",position:n,isConnectable:t}),e?.label,E.jsx(Gf,{type:"source",position:r,isConnectable:t})]})}function yIe(){return null}function bIe({data:e,isConnectable:t,targetPosition:n=He.Top}){return E.jsxs(E.Fragment,{children:[E.jsx(Gf,{type:"target",position:n,isConnectable:t}),e?.label]})}const ox={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},R$={input:gIe,default:vIe,output:bIe,group:yIe};function xIe(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const wIe=e=>{const{width:t,height:n,x:r,y:i}=Qg(e.nodeLookup,{filter:s=>!!s.selected});return{width:Zs(t)?t:null,height:Zs(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function SIe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=wn(),{width:i,height:s,transformString:o,userSelectionActive:a}=Tt(wIe,xn),l=fY(),c=x.useRef(null);if(x.useEffect(()=>{n||c.current?.focus({preventScroll:!0})},[n]),dY({nodeRef:c}),a||!i||!s)return null;const d=e?p=>{const g=r.getState().nodes.filter(v=>v.selected);e(p,g)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(ox,p.key)&&(p.preventDefault(),l({direction:ox[p.key],factor:p.shiftKey?4:1}))};return E.jsx("div",{className:rr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:o},children:E.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:s}})})}const k$=typeof window<"u"?window:void 0,EIe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function pY({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:_,panOnScroll:k,panOnScrollSpeed:R,panOnScrollMode:N,zoomOnDoubleClick:T,panOnDrag:M,defaultViewport:O,translateExtent:L,minZoom:D,maxZoom:F,preventScrolling:G,onSelectionContextMenu:z,noWheelClassName:V,noPanClassName:j,disableKeyboardA11y:H,onViewportChange:B,isControlledViewport:K}){const{nodesSelectionActive:U,userSelectionActive:q}=Tt(EIe,xn),Y=Km(c,{target:k$}),$=Km(b,{target:k$}),J=$||M,se=$||k,ue=d&&J!==!0,ee=Y||q||ue;return rIe({deleteKeyCode:l,multiSelectionKeyCode:v}),E.jsx(oIe,{onPaneContextMenu:s,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:_,panOnScroll:se,panOnScrollSpeed:R,panOnScrollMode:N,zoomOnDoubleClick:T,panOnDrag:!Y&&J,defaultViewport:O,translateExtent:L,minZoom:D,maxZoom:F,zoomActivationKeyCode:w,preventScrolling:G,noWheelClassName:V,noPanClassName:j,onViewportChange:B,isControlledViewport:K,paneClickDistance:a,selectionOnDrag:ue,children:E.jsxs(uIe,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:J,isSelecting:!!ee,selectionMode:f,selectionKeyPressed:Y,paneClickDistance:a,selectionOnDrag:ue,children:[e,U&&E.jsx(SIe,{onSelectionContextMenu:z,noPanClassName:j,disableKeyboardA11y:H})]})})}pY.displayName="FlowRenderer";const _Ie=x.memo(pY),CIe=e=>t=>e?lM(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function AIe(e){return Tt(x.useCallback(CIe(e),[e]),xn)}const TIe=e=>e.updateNodeInternals;function RIe(){const e=Tt(TIe),[t]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),e(r)}));return x.useEffect(()=>()=>{t?.disconnect()},[t]),t}function kIe({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=wn(),s=x.useRef(null),o=x.useRef(null),a=x.useRef(e.sourcePosition),l=x.useRef(e.targetPosition),c=x.useRef(t),d=n&&!!e.internals.handleBounds;return x.useEffect(()=>{s.current&&!e.hidden&&(!d||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[d,e.hidden]),x.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),x.useEffect(()=>{if(s.current){const f=c.current!==t,p=a.current!==e.sourcePosition,g=l.current!==e.targetPosition;(f||p||g)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function PIe({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:d,resizeObserver:f,noDragClassName:p,noPanClassName:g,disableKeyboardA11y:v,rfId:b,nodeTypes:w,nodeClickDistance:S,onError:C}){const{node:_,internals:k,isParent:R}=Tt(Z=>{const X=Z.nodeLookup.get(e),fe=Z.parentLookup.has(e);return{node:X,internals:X.internals,isParent:fe}},xn);let N=_.type||"default",T=w?.[N]||R$[N];T===void 0&&(C?.("003",Ko.error003(N)),N="default",T=w?.default||R$.default);const M=!!(_.draggable||a&&typeof _.draggable>"u"),O=!!(_.selectable||l&&typeof _.selectable>"u"),L=!!(_.connectable||c&&typeof _.connectable>"u"),D=!!(_.focusable||d&&typeof _.focusable>"u"),F=wn(),G=OK(_),z=kIe({node:_,nodeType:N,hasDimensions:G,resizeObserver:f}),V=dY({nodeRef:z,disabled:_.hidden||!M,noDragClassName:p,handleSelector:_.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:S}),j=fY();if(_.hidden)return null;const H=rl(_),B=xIe(_),K=O||M||t||n||r||i,U=n?Z=>n(Z,{...k.userNode}):void 0,q=r?Z=>r(Z,{...k.userNode}):void 0,Y=i?Z=>i(Z,{...k.userNode}):void 0,$=s?Z=>s(Z,{...k.userNode}):void 0,J=o?Z=>o(Z,{...k.userNode}):void 0,se=Z=>{const{selectNodesOnDrag:X,nodeDragThreshold:fe}=F.getState();O&&(!X||!M||fe>0)&&AR({id:e,store:F,nodeRef:z}),t&&t(Z,{...k.userNode})},ue=Z=>{if(!(jK(Z.nativeEvent)||v)){if(_K.includes(Z.key)&&O){const X=Z.key==="Escape";AR({id:e,store:F,unselect:X,nodeRef:z})}else if(M&&_.selected&&Object.prototype.hasOwnProperty.call(ox,Z.key)){Z.preventDefault();const{ariaLabelConfig:X}=F.getState();F.setState({ariaLiveMessage:X["node.a11yDescription.ariaLiveMessage"]({direction:Z.key.replace("Arrow","").toLowerCase(),x:~~k.positionAbsolute.x,y:~~k.positionAbsolute.y})}),j({direction:ox[Z.key],factor:Z.shiftKey?4:1})}}},ee=()=>{if(v||!z.current?.matches(":focus-visible"))return;const{transform:Z,width:X,height:fe,autoPanOnNodeFocus:me,setCenter:ne}=F.getState();if(!me)return;lM(new Map([[e,_]]),{x:0,y:0,width:X,height:fe},Z,!0).length>0||ne(_.position.x+H.width/2,_.position.y+H.height/2,{zoom:Z[2]})};return E.jsx("div",{className:rr(["react-flow__node",`react-flow__node-${N}`,{[g]:M},_.className,{selected:_.selected,selectable:O,parent:R,draggable:M,dragging:V}]),ref:z,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:K?"all":"none",visibility:G?"visible":"hidden",..._.style,...B},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:U,onMouseMove:q,onMouseLeave:Y,onContextMenu:$,onClick:se,onDoubleClick:J,onKeyDown:D?ue:void 0,tabIndex:D?0:void 0,onFocus:D?ee:void 0,role:_.ariaRole??(D?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${rY}-${b}`,"aria-label":_.ariaLabel,..._.domAttributes,children:E.jsx(fIe,{value:e,children:E.jsx(T,{id:e,data:_.data,type:N,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:_.selected??!1,selectable:O,draggable:M,deletable:_.deletable??!0,isConnectable:L,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:V,dragHandle:_.dragHandle,zIndex:k.z,parentId:_.parentId,...H})})})}var NIe=x.memo(PIe);const MIe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function mY(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Tt(MIe,xn),o=AIe(e.onlyRenderVisibleElements),a=RIe();return E.jsx("div",{className:"react-flow__nodes",style:oS,children:o.map(l=>E.jsx(NIe,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},l))})}mY.displayName="NodeRenderer";const OIe=x.memo(mY);function DIe(e){return Tt(x.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&j2e({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),xn)}const IIe=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return E.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},jIe=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return E.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},P$={[Bf.Arrow]:IIe,[Bf.ArrowClosed]:jIe};function LIe(e){const t=wn();return x.useMemo(()=>Object.prototype.hasOwnProperty.call(P$,e)?P$[e]:(t.getState().onError?.("009",Ko.error009(e)),null),[e])}const zIe=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=LIe(t);return l?E.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:E.jsx(l,{color:n,strokeWidth:o})}):null},gY=({defaultColor:e,rfId:t})=>{const n=Tt(s=>s.edges),r=Tt(s=>s.defaultEdgeOptions),i=x.useMemo(()=>U2e(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return i.length?E.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:E.jsx("defs",{children:i.map(s=>E.jsx(zIe,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};gY.displayName="MarkerDefinitions";var FIe=x.memo(gY);function vY({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d}){const[f,p]=x.useState({x:1,y:0,width:0,height:0}),g=rr(["react-flow__edge-textwrapper",c]),v=x.useRef(null);return x.useEffect(()=>{if(v.current){const b=v.current.getBBox();p({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),n?E.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:g,visibility:f.width?"visible":"hidden",...d,children:[i&&E.jsx("rect",{width:f.width+2*o[0],x:-o[0],y:-o[1],height:f.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),E.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}vY.displayName="EdgeText";const $Ie=x.memo(vY);function aS({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...d}){return E.jsxs(E.Fragment,{children:[E.jsx("path",{...d,d:e,fill:"none",className:rr(["react-flow__edge-path",d.className])}),c?E.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&Zs(t)&&Zs(n)?E.jsx($Ie,{x:t,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function N$({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===He.Left||e===He.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function yY({sourceX:e,sourceY:t,sourcePosition:n=He.Bottom,targetX:r,targetY:i,targetPosition:s=He.Top}){const[o,a]=N$({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=N$({pos:s,x1:r,y1:i,x2:e,y2:t}),[d,f,p,g]=zK({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${o},${a} ${l},${c} ${r},${i}`,d,f,p,g]}function bY(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:b,markerStart:w,interactionWidth:S})=>{const[C,_,k]=yY({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),R=e.isInternal?void 0:t;return E.jsx(aS,{id:R,path:C,labelX:_,labelY:k,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:b,markerStart:w,interactionWidth:S})})}const HIe=bY({isInternal:!1}),xY=bY({isInternal:!0});HIe.displayName="SimpleBezierEdge";xY.displayName="SimpleBezierEdgeInternal";function wY(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,sourcePosition:g=He.Bottom,targetPosition:v=He.Top,markerEnd:b,markerStart:w,pathOptions:S,interactionWidth:C})=>{const[_,k,R]=SR({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:s,targetPosition:v,borderRadius:S?.borderRadius,offset:S?.offset,stepPosition:S?.stepPosition}),N=e.isInternal?void 0:t;return E.jsx(aS,{id:N,path:_,labelX:k,labelY:R,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:b,markerStart:w,interactionWidth:C})})}const SY=wY({isInternal:!1}),EY=wY({isInternal:!0});SY.displayName="SmoothStepEdge";EY.displayName="SmoothStepEdgeInternal";function _Y(e){return x.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return E.jsx(SY,{...n,id:r,pathOptions:x.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const BIe=_Y({isInternal:!1}),CY=_Y({isInternal:!0});BIe.displayName="StepEdge";CY.displayName="StepEdgeInternal";function AY(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:v,interactionWidth:b})=>{const[w,S,C]=BK({sourceX:n,sourceY:r,targetX:i,targetY:s}),_=e.isInternal?void 0:t;return E.jsx(aS,{id:_,path:w,labelX:S,labelY:C,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:v,interactionWidth:b})})}const UIe=AY({isInternal:!1}),TY=AY({isInternal:!0});UIe.displayName="StraightEdge";TY.displayName="StraightEdgeInternal";function RY(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=He.Bottom,targetPosition:a=He.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:b,markerStart:w,pathOptions:S,interactionWidth:C})=>{const[_,k,R]=FK({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:S?.curvature}),N=e.isInternal?void 0:t;return E.jsx(aS,{id:N,path:_,labelX:k,labelY:R,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:b,markerStart:w,interactionWidth:C})})}const VIe=RY({isInternal:!1}),kY=RY({isInternal:!0});VIe.displayName="BezierEdge";kY.displayName="BezierEdgeInternal";const M$={default:kY,straight:TY,step:CY,smoothstep:EY,simplebezier:xY},O$={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},qIe=(e,t,n)=>n===He.Left?e-t:n===He.Right?e+t:e,WIe=(e,t,n)=>n===He.Top?e-t:n===He.Bottom?e+t:e,D$="react-flow__edgeupdater";function I$({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return E.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:rr([D$,`${D$}-${a}`]),cx:qIe(t,r,e),cy:WIe(n,r,e),r,stroke:"transparent",fill:"transparent"})}function GIe({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:d,onReconnectEnd:f,setReconnecting:p,setUpdateHover:g}){const v=wn(),b=(k,R)=>{if(k.button!==0)return;const{autoPanOnConnect:N,domNode:T,isValidConnection:M,connectionMode:O,connectionRadius:L,lib:D,onConnectStart:F,onConnectEnd:G,cancelConnection:z,nodeLookup:V,rfId:j,panBy:H,updateConnection:B}=v.getState(),K=R.type==="target",U=($,J)=>{p(!1),f?.($,n,R.type,J)},q=$=>c?.(n,$),Y=($,J)=>{p(!0),d?.(k,n,R.type),F?.($,J)};CR.onPointerDown(k.nativeEvent,{autoPanOnConnect:N,connectionMode:O,connectionRadius:L,domNode:T,handleId:R.id,nodeId:R.nodeId,nodeLookup:V,isTarget:K,edgeUpdaterType:R.type,lib:D,flowId:j,cancelConnection:z,panBy:H,isValidConnection:M,onConnect:q,onConnectStart:Y,onConnectEnd:G,onReconnectEnd:U,updateConnection:B,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:k.currentTarget})},w=k=>b(k,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),S=k=>b(k,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>g(!0),_=()=>g(!1);return E.jsxs(E.Fragment,{children:[(e===!0||e==="source")&&E.jsx(I$,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:w,onMouseEnter:C,onMouseOut:_,type:"source"}),(e===!0||e==="target")&&E.jsx(I$,{position:l,centerX:s,centerY:o,radius:t,onMouseDown:S,onMouseEnter:C,onMouseOut:_,type:"target"})]})}function KIe({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:g,rfId:v,edgeTypes:b,noPanClassName:w,onError:S,disableKeyboardA11y:C}){let _=Tt(ne=>ne.edgeLookup.get(e));const k=Tt(ne=>ne.defaultEdgeOptions);_=k?{...k,..._}:_;let R=_.type||"default",N=b?.[R]||M$[R];N===void 0&&(S?.("011",Ko.error011(R)),R="default",N=b?.default||M$.default);const T=!!(_.focusable||t&&typeof _.focusable>"u"),M=typeof f<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),O=!!(_.selectable||r&&typeof _.selectable>"u"),L=x.useRef(null),[D,F]=x.useState(!1),[G,z]=x.useState(!1),V=wn(),{zIndex:j,sourceX:H,sourceY:B,targetX:K,targetY:U,sourcePosition:q,targetPosition:Y}=Tt(x.useCallback(ne=>{const we=ne.nodeLookup.get(_.source),xe=ne.nodeLookup.get(_.target);if(!we||!xe)return{zIndex:_.zIndex,...O$};const Re=B2e({id:e,sourceNode:we,targetNode:xe,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:ne.connectionMode,onError:S});return{zIndex:I2e({selected:_.selected,zIndex:_.zIndex,sourceNode:we,targetNode:xe,elevateOnSelect:ne.elevateEdgesOnSelect,zIndexMode:ne.zIndexMode}),...Re||O$}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),xn),$=x.useMemo(()=>_.markerStart?`url('#${ER(_.markerStart,v)}')`:void 0,[_.markerStart,v]),J=x.useMemo(()=>_.markerEnd?`url('#${ER(_.markerEnd,v)}')`:void 0,[_.markerEnd,v]);if(_.hidden||H===null||B===null||K===null||U===null)return null;const se=ne=>{const{addSelectedEdges:we,unselectNodesAndEdges:xe,multiSelectionActive:Re}=V.getState();O&&(V.setState({nodesSelectionActive:!1}),_.selected&&Re?(xe({nodes:[],edges:[_]}),L.current?.blur()):we([e])),i&&i(ne,_)},ue=s?ne=>{s(ne,{..._})}:void 0,ee=o?ne=>{o(ne,{..._})}:void 0,Z=a?ne=>{a(ne,{..._})}:void 0,X=l?ne=>{l(ne,{..._})}:void 0,fe=c?ne=>{c(ne,{..._})}:void 0,me=ne=>{if(!C&&_K.includes(ne.key)&&O){const{unselectNodesAndEdges:we,addSelectedEdges:xe}=V.getState();ne.key==="Escape"?(L.current?.blur(),we({edges:[_]})):xe([e])}};return E.jsx("svg",{style:{zIndex:j},children:E.jsxs("g",{className:rr(["react-flow__edge",`react-flow__edge-${R}`,_.className,w,{selected:_.selected,animated:_.animated,inactive:!O&&!i,updating:D,selectable:O}]),onClick:se,onDoubleClick:ue,onContextMenu:ee,onMouseEnter:Z,onMouseMove:X,onMouseLeave:fe,onKeyDown:T?me:void 0,tabIndex:T?0:void 0,role:_.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":T?`${iY}-${v}`:void 0,ref:L,..._.domAttributes,children:[!G&&E.jsx(N,{id:e,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:O,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:H,sourceY:B,targetX:K,targetY:U,sourcePosition:q,targetPosition:Y,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:$,markerEnd:J,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),M&&E.jsx(GIe,{edge:_,isReconnectable:M,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:g,sourceX:H,sourceY:B,targetX:K,targetY:U,sourcePosition:q,targetPosition:Y,setUpdateHover:F,setReconnecting:z})]})})}var YIe=x.memo(KIe);const XIe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function PY({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:g,onReconnectEnd:v,disableKeyboardA11y:b}){const{edgesFocusable:w,edgesReconnectable:S,elementsSelectable:C,onError:_}=Tt(XIe,xn),k=DIe(t);return E.jsxs("div",{className:"react-flow__edges",children:[E.jsx(FIe,{defaultColor:e,rfId:n}),k.map(R=>E.jsx(YIe,{id:R,edgesFocusable:w,edgesReconnectable:S,elementsSelectable:C,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,reconnectRadius:f,onDoubleClick:p,onReconnectStart:g,onReconnectEnd:v,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:b},R))]})}PY.displayName="EdgeRenderer";const ZIe=x.memo(PY),QIe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function JIe({children:e}){const t=Tt(QIe);return E.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function eje(e){const t=gM(),n=x.useRef(!1);x.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const tje=e=>e.panZoom?.syncViewport;function nje(e){const t=Tt(tje),n=wn();return x.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function rje(e){return e.connection.inProgress?{...e.connection,to:ev(e.connection.to,e.transform)}:{...e.connection}}function ije(e){return rje}function sje(e){const t=ije();return Tt(t,xn)}const oje=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function aje({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=Tt(oje,xn);return!(s&&i&&l)?null:E.jsx("svg",{style:e,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:E.jsx("g",{className:rr(["react-flow__connection",TK(a)]),children:E.jsx(NY,{style:t,type:n,CustomComponent:r,isValid:a})})})}const NY=({style:e,type:t=Zl.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:d,toHandle:f,toPosition:p,pointer:g}=sje();if(!i)return;if(n)return E.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:p,connectionStatus:TK(r),toNode:d,toHandle:f,pointer:g});let v="";const b={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:p};switch(t){case Zl.Bezier:[v]=FK(b);break;case Zl.SimpleBezier:[v]=yY(b);break;case Zl.Step:[v]=SR({...b,borderRadius:0});break;case Zl.SmoothStep:[v]=SR(b);break;default:[v]=BK(b)}return E.jsx("path",{d:v,fill:"none",className:"react-flow__connection-path",style:e})};NY.displayName="ConnectionLine";const lje={};function j$(e=lje){x.useRef(e),wn(),x.useEffect(()=>{},[e])}function cje(){wn(),x.useRef(!1),x.useEffect(()=>{},[])}function MY({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:b,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:C,selectionOnDrag:_,selectionMode:k,multiSelectionKeyCode:R,panActivationKeyCode:N,zoomActivationKeyCode:T,deleteKeyCode:M,onlyRenderVisibleElements:O,elementsSelectable:L,defaultViewport:D,translateExtent:F,minZoom:G,maxZoom:z,preventScrolling:V,defaultMarkerColor:j,zoomOnScroll:H,zoomOnPinch:B,panOnScroll:K,panOnScrollSpeed:U,panOnScrollMode:q,zoomOnDoubleClick:Y,panOnDrag:$,onPaneClick:J,onPaneMouseEnter:se,onPaneMouseMove:ue,onPaneMouseLeave:ee,onPaneScroll:Z,onPaneContextMenu:X,paneClickDistance:fe,nodeClickDistance:me,onEdgeContextMenu:ne,onEdgeMouseEnter:we,onEdgeMouseMove:xe,onEdgeMouseLeave:Re,reconnectRadius:Ae,onReconnect:Te,onReconnectStart:We,onReconnectEnd:rt,noDragClassName:mt,noWheelClassName:ir,noPanClassName:Bt,disableKeyboardA11y:Sn,nodeExtent:Ee,rfId:Me,viewport:le,onViewportChange:be}){return j$(e),j$(t),cje(),eje(n),nje(le),E.jsx(_Ie,{onPaneClick:J,onPaneMouseEnter:se,onPaneMouseMove:ue,onPaneMouseLeave:ee,onPaneContextMenu:X,onPaneScroll:Z,paneClickDistance:fe,deleteKeyCode:M,selectionKeyCode:C,selectionOnDrag:_,selectionMode:k,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:R,panActivationKeyCode:N,zoomActivationKeyCode:T,elementsSelectable:L,zoomOnScroll:H,zoomOnPinch:B,zoomOnDoubleClick:Y,panOnScroll:K,panOnScrollSpeed:U,panOnScrollMode:q,panOnDrag:$,defaultViewport:D,translateExtent:F,minZoom:G,maxZoom:z,onSelectionContextMenu:f,preventScrolling:V,noDragClassName:mt,noWheelClassName:ir,noPanClassName:Bt,disableKeyboardA11y:Sn,onViewportChange:be,isControlledViewport:!!le,children:E.jsxs(JIe,{children:[E.jsx(ZIe,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Te,onReconnectStart:We,onReconnectEnd:rt,onlyRenderVisibleElements:O,onEdgeContextMenu:ne,onEdgeMouseEnter:we,onEdgeMouseMove:xe,onEdgeMouseLeave:Re,reconnectRadius:Ae,defaultMarkerColor:j,noPanClassName:Bt,disableKeyboardA11y:Sn,rfId:Me}),E.jsx(aje,{style:b,type:v,component:w,containerStyle:S}),E.jsx("div",{className:"react-flow__edgelabel-renderer"}),E.jsx(OIe,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:me,onlyRenderVisibleElements:O,noPanClassName:Bt,noDragClassName:mt,disableKeyboardA11y:Sn,nodeExtent:Ee,rfId:Me}),E.jsx("div",{className:"react-flow__viewport-portal"})]})})}MY.displayName="GraphView";const uje=x.memo(MY),L$=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:f,zIndexMode:p="basic"}={})=>{const g=new Map,v=new Map,b=new Map,w=new Map,S=r??t??[],C=n??e??[],_=d??[0,0],k=f??Vm;qK(b,w,S);const R=_R(C,g,v,{nodeOrigin:_,nodeExtent:k,zIndexMode:p});let N=[0,0,1];if(o&&i&&s){const T=Qg(g,{filter:D=>!!((D.width||D.initialWidth)&&(D.height||D.initialHeight))}),{x:M,y:O,zoom:L}=cM(T,i,s,l,c,a?.padding??.1);N=[M,O,L]}return{rfId:"1",width:i??0,height:s??0,transform:N,nodes:C,nodesInitialized:R,nodeLookup:g,parentLookup:v,edges:S,edgeLookup:w,connectionLookup:b,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Vm,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Hf.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:_,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...AK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:k2e,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:CK,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},dje=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p})=>kDe((g,v)=>{async function b(){const{nodeLookup:w,panZoom:S,fitViewOptions:C,fitViewResolver:_,width:k,height:R,minZoom:N,maxZoom:T}=v();S&&(await T2e({nodes:w,width:k,height:R,panZoom:S,minZoom:N,maxZoom:T},C),_?.resolve(!0),g({fitViewResolver:null}))}return{...L$({nodes:e,edges:t,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:p}),setNodes:w=>{const{nodeLookup:S,parentLookup:C,nodeOrigin:_,elevateNodesOnSelect:k,fitViewQueued:R,zIndexMode:N}=v(),T=_R(w,S,C,{nodeOrigin:_,nodeExtent:f,elevateNodesOnSelect:k,checkEquality:!0,zIndexMode:N});R&&T?(b(),g({nodes:w,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:w,nodesInitialized:T})},setEdges:w=>{const{connectionLookup:S,edgeLookup:C}=v();qK(S,C,w),g({edges:w})},setDefaultNodesAndEdges:(w,S)=>{if(w){const{setNodes:C}=v();C(w),g({hasDefaultNodes:!0})}if(S){const{setEdges:C}=v();C(S),g({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:S,nodeLookup:C,parentLookup:_,domNode:k,nodeOrigin:R,nodeExtent:N,debug:T,fitViewQueued:M,zIndexMode:O}=v(),{changes:L,updatedInternals:D}=X2e(w,C,_,k,R,N,O);D&&(W2e(C,_,{nodeOrigin:R,nodeExtent:N,zIndexMode:O}),M?(b(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),L?.length>0&&(T&&console.log("React Flow: trigger node changes",L),S?.(L)))},updateNodePositions:(w,S=!1)=>{const C=[];let _=[];const{nodeLookup:k,triggerNodeChanges:R,connection:N,updateConnection:T,onNodesChangeMiddlewareMap:M}=v();for(const[O,L]of w){const D=k.get(O),F=!!(D?.expandParent&&D?.parentId&&L?.position),G={id:O,type:"position",position:F?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:S};if(D&&N.inProgress&&N.fromNode.id===D.id){const z=Iu(D,N.fromHandle,He.Left,!0);T({...N,from:z})}F&&D.parentId&&C.push({id:O,parentId:D.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),_.push(G)}if(C.length>0){const{parentLookup:O,nodeOrigin:L}=v(),D=mM(C,k,O,L);_.push(...D)}for(const O of M.values())_=O(_);R(_)},triggerNodeChanges:w=>{const{onNodesChange:S,setNodes:C,nodes:_,hasDefaultNodes:k,debug:R}=v();if(w?.length){if(k){const N=aY(w,_);C(N)}R&&console.log("React Flow: trigger node changes",w),S?.(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:S,setEdges:C,edges:_,hasDefaultEdges:k,debug:R}=v();if(w?.length){if(k){const N=lY(w,_);C(N)}R&&console.log("React Flow: trigger edge changes",w),S?.(w)}},addSelectedNodes:w=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:R}=v();if(S){const N=w.map(T=>nu(T,!0));k(N);return}k(pf(_,new Set([...w]),!0)),R(pf(C))},addSelectedEdges:w=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:_,triggerNodeChanges:k,triggerEdgeChanges:R}=v();if(S){const N=w.map(T=>nu(T,!0));R(N);return}R(pf(C,new Set([...w]))),k(pf(_,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:S}={})=>{const{edges:C,nodes:_,nodeLookup:k,triggerNodeChanges:R,triggerEdgeChanges:N}=v(),T=w||_,M=S||C,O=T.map(D=>{const F=k.get(D.id);return F&&(F.selected=!1),nu(D.id,!1)}),L=M.map(D=>nu(D.id,!1));R(O),N(L)},setMinZoom:w=>{const{panZoom:S,maxZoom:C}=v();S?.setScaleExtent([w,C]),g({minZoom:w})},setMaxZoom:w=>{const{panZoom:S,minZoom:C}=v();S?.setScaleExtent([C,w]),g({maxZoom:w})},setTranslateExtent:w=>{v().panZoom?.setTranslateExtent(w),g({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:S,triggerNodeChanges:C,triggerEdgeChanges:_,elementsSelectable:k}=v();if(!k)return;const R=S.reduce((T,M)=>M.selected?[...T,nu(M.id,!1)]:T,[]),N=w.reduce((T,M)=>M.selected?[...T,nu(M.id,!1)]:T,[]);C(R),_(N)},setNodeExtent:w=>{const{nodes:S,nodeLookup:C,parentLookup:_,nodeOrigin:k,elevateNodesOnSelect:R,nodeExtent:N,zIndexMode:T}=v();w[0][0]===N[0][0]&&w[0][1]===N[0][1]&&w[1][0]===N[1][0]&&w[1][1]===N[1][1]||(_R(S,C,_,{nodeOrigin:k,nodeExtent:w,elevateNodesOnSelect:R,checkEquality:!1,zIndexMode:T}),g({nodeExtent:w}))},panBy:w=>{const{transform:S,width:C,height:_,panZoom:k,translateExtent:R}=v();return Z2e({delta:w,panZoom:k,transform:S,translateExtent:R,width:C,height:_})},setCenter:async(w,S,C)=>{const{width:_,height:k,maxZoom:R,panZoom:N}=v();if(!N)return Promise.resolve(!1);const T=typeof C?.zoom<"u"?C.zoom:R;return await N.setViewport({x:_/2-w*T,y:k/2-S*T,zoom:T},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...AK}})},updateConnection:w=>{g({connection:w})},reset:()=>g({...L$()})}},Object.is);function fje({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p,children:g}){const[v]=x.useState(()=>dje({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:f,zIndexMode:p}));return E.jsx(PDe,{value:v,children:E.jsx(JDe,{children:g})})}function hje({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:g}){return x.useContext(iS)?E.jsx(E.Fragment,{children:e}):E.jsx(fje,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:g,children:e})}const pje={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function mje({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:g,onConnectStart:v,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:S,onNodeMouseEnter:C,onNodeMouseMove:_,onNodeMouseLeave:k,onNodeContextMenu:R,onNodeDoubleClick:N,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:O,onNodesDelete:L,onEdgesDelete:D,onDelete:F,onSelectionChange:G,onSelectionDragStart:z,onSelectionDrag:V,onSelectionDragStop:j,onSelectionContextMenu:H,onSelectionStart:B,onSelectionEnd:K,onBeforeDelete:U,connectionMode:q,connectionLineType:Y=Zl.Bezier,connectionLineStyle:$,connectionLineComponent:J,connectionLineContainerStyle:se,deleteKeyCode:ue="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:Z=!1,selectionMode:X=qm.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:me=Gm()?"Meta":"Control",zoomActivationKeyCode:ne=Gm()?"Meta":"Control",snapToGrid:we,snapGrid:xe,onlyRenderVisibleElements:Re=!1,selectNodesOnDrag:Ae,nodesDraggable:Te,autoPanOnNodeFocus:We,nodesConnectable:rt,nodesFocusable:mt,nodeOrigin:ir=sY,edgesFocusable:Bt,edgesReconnectable:Sn,elementsSelectable:Ee=!0,defaultViewport:Me=UDe,minZoom:le=.5,maxZoom:be=2,translateExtent:Pe=Vm,preventScrolling:Ve=!0,nodeExtent:Ge,defaultMarkerColor:sn="#b1b1b7",zoomOnScroll:fn=!0,zoomOnPinch:En=!0,panOnScroll:Ut=!1,panOnScrollSpeed:_n=.5,panOnScrollMode:xt=xu.Free,zoomOnDoubleClick:jr=!0,panOnDrag:On=!0,onPaneClick:ai,onPaneMouseEnter:al,onPaneMouseMove:ll,onPaneMouseLeave:na,onPaneScroll:ss,onPaneContextMenu:Xe,paneClickDistance:tn=1,nodeClickDistance:$n=0,children:vr,onReconnect:ho,onReconnectStart:on,onReconnectEnd:Lr,onEdgeContextMenu:ra,onEdgeDoubleClick:zr,onEdgeMouseEnter:Fr,onEdgeMouseMove:cl,onEdgeMouseLeave:Li,reconnectRadius:Ph=10,onNodesChange:Cv,onEdgesChange:po,noDragClassName:sr="nodrag",noWheelClassName:$r="nowheel",noPanClassName:ia="nopan",fitView:ld,fitViewOptions:Av,connectOnClick:qS,attributionPosition:Tv,proOptions:Dc,defaultEdgeOptions:Nh,elevateNodesOnSelect:ul=!0,elevateEdgesOnSelect:dl=!1,disableKeyboardA11y:fl=!1,autoPanOnConnect:hl,autoPanOnNodeDrag:Hn,autoPanSpeed:Rv,connectionRadius:kv,isValidConnection:sa,onError:pl,style:WS,id:Mh,nodeDragThreshold:Pv,connectionDragThreshold:GS,viewport:cd,onViewportChange:ud,width:Ls,height:li,colorMode:Nv="light",debug:KS,onScroll:dd,ariaLabelConfig:Mv,zIndexMode:Ic="basic",...YS},ci){const jc=Mh||"1",Ov=GDe(Nv),Oh=x.useCallback(oa=>{oa.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),dd?.(oa)},[dd]);return E.jsx("div",{"data-testid":"rf__wrapper",...YS,onScroll:Oh,style:{...WS,...pje},ref:ci,className:rr(["react-flow",i,Ov]),id:Mh,role:"application",children:E.jsxs(hje,{nodes:e,edges:t,width:Ls,height:li,fitView:ld,fitViewOptions:Av,minZoom:le,maxZoom:be,nodeOrigin:ir,nodeExtent:Ge,zIndexMode:Ic,children:[E.jsx(uje,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:C,onNodeMouseMove:_,onNodeMouseLeave:k,onNodeContextMenu:R,onNodeDoubleClick:N,nodeTypes:s,edgeTypes:o,connectionLineType:Y,connectionLineStyle:$,connectionLineComponent:J,connectionLineContainerStyle:se,selectionKeyCode:ee,selectionOnDrag:Z,selectionMode:X,deleteKeyCode:ue,multiSelectionKeyCode:me,panActivationKeyCode:fe,zoomActivationKeyCode:ne,onlyRenderVisibleElements:Re,defaultViewport:Me,translateExtent:Pe,minZoom:le,maxZoom:be,preventScrolling:Ve,zoomOnScroll:fn,zoomOnPinch:En,zoomOnDoubleClick:jr,panOnScroll:Ut,panOnScrollSpeed:_n,panOnScrollMode:xt,panOnDrag:On,onPaneClick:ai,onPaneMouseEnter:al,onPaneMouseMove:ll,onPaneMouseLeave:na,onPaneScroll:ss,onPaneContextMenu:Xe,paneClickDistance:tn,nodeClickDistance:$n,onSelectionContextMenu:H,onSelectionStart:B,onSelectionEnd:K,onReconnect:ho,onReconnectStart:on,onReconnectEnd:Lr,onEdgeContextMenu:ra,onEdgeDoubleClick:zr,onEdgeMouseEnter:Fr,onEdgeMouseMove:cl,onEdgeMouseLeave:Li,reconnectRadius:Ph,defaultMarkerColor:sn,noDragClassName:sr,noWheelClassName:$r,noPanClassName:ia,rfId:jc,disableKeyboardA11y:fl,nodeExtent:Ge,viewport:cd,onViewportChange:ud}),E.jsx(WDe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:S,nodesDraggable:Te,autoPanOnNodeFocus:We,nodesConnectable:rt,nodesFocusable:mt,edgesFocusable:Bt,edgesReconnectable:Sn,elementsSelectable:Ee,elevateNodesOnSelect:ul,elevateEdgesOnSelect:dl,minZoom:le,maxZoom:be,nodeExtent:Ge,onNodesChange:Cv,onEdgesChange:po,snapToGrid:we,snapGrid:xe,connectionMode:q,translateExtent:Pe,connectOnClick:qS,defaultEdgeOptions:Nh,fitView:ld,fitViewOptions:Av,onNodesDelete:L,onEdgesDelete:D,onDelete:F,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:O,onSelectionDrag:V,onSelectionDragStart:z,onSelectionDragStop:j,onMove:d,onMoveStart:f,onMoveEnd:p,noPanClassName:ia,nodeOrigin:ir,rfId:jc,autoPanOnConnect:hl,autoPanOnNodeDrag:Hn,autoPanSpeed:Rv,onError:pl,connectionRadius:kv,isValidConnection:sa,selectNodesOnDrag:Ae,nodeDragThreshold:Pv,connectionDragThreshold:GS,onBeforeDelete:U,debug:KS,ariaLabelConfig:Mv,zIndexMode:Ic}),E.jsx(BDe,{onSelectionChange:G}),vr,E.jsx(LDe,{proOptions:Dc,position:Tv}),E.jsx(jDe,{rfId:jc,disableKeyboardA11y:fl})]})})}var gje=cY(mje);function vje({dimensions:e,lineWidth:t,variant:n,className:r}){return E.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:rr(["react-flow__background-pattern",n,r])})}function yje({radius:e,className:t}){return E.jsx("circle",{cx:e,cy:e,r:e,className:rr(["react-flow__background-pattern","dots",t])})}var nc;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(nc||(nc={}));const bje={[nc.Dots]:1,[nc.Lines]:1,[nc.Cross]:6},xje=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function OY({id:e,variant:t=nc.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:d}){const f=x.useRef(null),{transform:p,patternId:g}=Tt(xje,xn),v=r||bje[t],b=t===nc.Dots,w=t===nc.Cross,S=Array.isArray(n)?n:[n,n],C=[S[0]*p[2]||1,S[1]*p[2]||1],_=v*p[2],k=Array.isArray(s)?s:[s,s],R=w?[_,_]:C,N=[k[0]*p[2]||1+R[0]/2,k[1]*p[2]||1+R[1]/2],T=`${g}${e||""}`;return E.jsxs("svg",{className:rr(["react-flow__background",c]),style:{...l,...oS,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:f,"data-testid":"rf__background",children:[E.jsx("pattern",{id:T,x:p[0]%C[0],y:p[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:b?E.jsx(yje,{radius:_/2,className:d}):E.jsx(vje,{dimensions:R,lineWidth:i,variant:t,className:d})}),E.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}OY.displayName="Background";const wje=x.memo(OY);function Sje(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:E.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Eje(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:E.jsx("path",{d:"M0 0h32v4.2H0z"})})}function _je(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:E.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Cje(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Aje(){return E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:E.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function P0({children:e,className:t,...n}){return E.jsx("button",{type:"button",className:rr(["react-flow__controls-button",t]),...n,children:e})}const Tje=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function DY({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:d,position:f="bottom-left",orientation:p="vertical","aria-label":g}){const v=wn(),{isInteractive:b,minZoomReached:w,maxZoomReached:S,ariaLabelConfig:C}=Tt(Tje,xn),{zoomIn:_,zoomOut:k,fitView:R}=gM(),N=()=>{_(),s?.()},T=()=>{k(),o?.()},M=()=>{R(i),a?.()},O=()=>{v.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),l?.(!b)},L=p==="horizontal"?"horizontal":"vertical";return E.jsxs(sS,{className:rr(["react-flow__controls",L,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":g??C["controls.ariaLabel"],children:[t&&E.jsxs(E.Fragment,{children:[E.jsx(P0,{onClick:N,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:S,children:E.jsx(Sje,{})}),E.jsx(P0,{onClick:T,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:w,children:E.jsx(Eje,{})})]}),n&&E.jsx(P0,{className:"react-flow__controls-fitview",onClick:M,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:E.jsx(_je,{})}),r&&E.jsx(P0,{className:"react-flow__controls-interactive",onClick:O,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:b?E.jsx(Aje,{}):E.jsx(Cje,{})}),d]})}DY.displayName="Controls";const Rje=x.memo(DY);function kje({id:e,x:t,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:f,selected:p,onClick:g}){const{background:v,backgroundColor:b}=s||{},w=o||v||b;return E.jsx("rect",{className:rr(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:d,ry:d,width:r,height:i,style:{fill:w,stroke:a,strokeWidth:l},shapeRendering:f,onClick:g?S=>g(S,e):void 0})}const Pje=x.memo(kje),Nje=e=>e.nodes.map(t=>t.id),jC=e=>e instanceof Function?e:()=>e;function Mje({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Pje,onClick:o}){const a=Tt(Nje,xn),l=jC(t),c=jC(e),d=jC(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return E.jsx(E.Fragment,{children:a.map(p=>E.jsx(Dje,{id:p,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:f},p))})}function Oje({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:d,y:f,width:p,height:g}=Tt(v=>{const{internals:b}=v.nodeLookup.get(e),w=b.userNode,{x:S,y:C}=b.positionAbsolute,{width:_,height:k}=rl(w);return{node:w,x:S,y:C,width:_,height:k}},xn);return!c||c.hidden||!OK(c)?null:E.jsx(a,{x:d,y:f,width:p,height:g,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const Dje=x.memo(Oje);var Ije=x.memo(Mje);const jje=200,Lje=150,zje=e=>!e.hidden,Fje=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?MK(Qg(e.nodeLookup,{filter:zje}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},$je="react-flow__minimap-desc";function IY({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:d,maskStrokeWidth:f,position:p="bottom-right",onClick:g,onNodeClick:v,pannable:b=!1,zoomable:w=!1,ariaLabel:S,inversePan:C,zoomStep:_=1,offsetScale:k=5}){const R=wn(),N=x.useRef(null),{boundingRect:T,viewBB:M,rfId:O,panZoom:L,translateExtent:D,flowWidth:F,flowHeight:G,ariaLabelConfig:z}=Tt(Fje,xn),V=e?.width??jje,j=e?.height??Lje,H=T.width/V,B=T.height/j,K=Math.max(H,B),U=K*V,q=K*j,Y=k*K,$=T.x-(U-T.width)/2-Y,J=T.y-(q-T.height)/2-Y,se=U+Y*2,ue=q+Y*2,ee=`${$je}-${O}`,Z=x.useRef(0),X=x.useRef();Z.current=K,x.useEffect(()=>{if(N.current&&L)return X.current=oDe({domNode:N.current,panZoom:L,getTransform:()=>R.getState().transform,getViewScale:()=>Z.current}),()=>{X.current?.destroy()}},[L]),x.useEffect(()=>{X.current?.update({translateExtent:D,width:F,height:G,inversePan:C,pannable:b,zoomStep:_,zoomable:w})},[b,w,C,_,D,F,G]);const fe=g?we=>{const[xe,Re]=X.current?.pointer(we)||[0,0];g(we,{x:xe,y:Re})}:void 0,me=v?x.useCallback((we,xe)=>{const Re=R.getState().nodeLookup.get(xe).internals.userNode;v(we,Re)},[]):void 0,ne=S??z["minimap.ariaLabel"];return E.jsx(sS,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*K:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:rr(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:E.jsxs("svg",{width:V,height:j,viewBox:`${$} ${J} ${se} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ee,ref:N,onClick:fe,children:[ne&&E.jsx("title",{id:ee,children:ne}),E.jsx(Ije,{onClick:me,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),E.jsx("path",{className:"react-flow__minimap-mask",d:`M${$-Y},${J-Y}h${se+Y*2}v${ue+Y*2}h${-se-Y*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}IY.displayName="MiniMap";const Hje=x.memo(IY),Bje=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,Uje={[Wf.Line]:"right",[Wf.Handle]:"bottom-right"};function Vje({nodeId:e,position:t,variant:n=Wf.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:p,autoScale:g=!0,shouldResize:v,onResizeStart:b,onResize:w,onResizeEnd:S}){const C=hY(),_=typeof e=="string"?e:C,k=wn(),R=x.useRef(null),N=n===Wf.Handle,T=Tt(x.useCallback(Bje(N&&g),[N,g]),xn),M=x.useRef(null),O=t??Uje[n];x.useEffect(()=>{if(!(!R.current||!_))return M.current||(M.current=xDe({domNode:R.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:D,transform:F,snapGrid:G,snapToGrid:z,nodeOrigin:V,domNode:j}=k.getState();return{nodeLookup:D,transform:F,snapGrid:G,snapToGrid:z,nodeOrigin:V,paneDomNode:j}},onChange:(D,F)=>{const{triggerNodeChanges:G,nodeLookup:z,parentLookup:V,nodeOrigin:j}=k.getState(),H=[],B={x:D.x,y:D.y},K=z.get(_);if(K&&K.expandParent&&K.parentId){const U=K.origin??j,q=D.width??K.measured.width??0,Y=D.height??K.measured.height??0,$={id:K.id,parentId:K.parentId,rect:{width:q,height:Y,...DK({x:D.x??K.position.x,y:D.y??K.position.y},{width:q,height:Y},K.parentId,z,U)}},J=mM([$],z,V,j);H.push(...J),B.x=D.x?Math.max(U[0]*q,D.x):void 0,B.y=D.y?Math.max(U[1]*Y,D.y):void 0}if(B.x!==void 0&&B.y!==void 0){const U={id:_,type:"position",position:{...B}};H.push(U)}if(D.width!==void 0&&D.height!==void 0){const q={id:_,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:D.width,height:D.height}};H.push(q)}for(const U of F){const q={...U,type:"position"};H.push(q)}G(H)},onEnd:({width:D,height:F})=>{const G={id:_,type:"dimensions",resizing:!1,dimensions:{width:D,height:F}};k.getState().triggerNodeChanges([G])}})),M.current.update({controlPosition:O,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d},keepAspectRatio:f,resizeDirection:p,onResizeStart:b,onResize:w,onResizeEnd:S,shouldResize:v}),()=>{M.current?.destroy()}},[O,a,l,c,d,f,b,w,S,v]);const L=O.split("-");return E.jsx("div",{className:rr(["react-flow__resize-control","nodrag",...L,n,r]),ref:R,style:{...i,scale:T,...o&&{[N?"backgroundColor":"borderColor"]:o}},children:s})}x.memo(Vje);const Ym=Wu((e,t)=>({nodes:[],edges:[],suggestions:[],isSuggestionsOpen:!1,onNodesChange:n=>{e({nodes:aY(n,t().nodes)})},onEdgesChange:n=>{e({edges:lY(n,t().edges)})},onConnect:n=>{e({edges:HK(n,t().edges)})},addNode:n=>{t().nodes.find(i=>i.id===n.id)||e({nodes:[...t().nodes,n]})},removeNode:n=>{e({nodes:t().nodes.filter(r=>r.id!==n),edges:t().edges.filter(r=>r.source!==n&&r.target!==n)})},loadState:async n=>{try{const{data:r}=await Gt.get(`/library/workbench/${n}`);r&&r.nodes?e({nodes:JSON.parse(r.nodes),edges:JSON.parse(r.edges)}):e({nodes:[],edges:[]})}catch(r){console.error("Erro ao carregar workbench",r)}},saveState:async n=>{const{nodes:r,edges:i}=t();try{await Gt.post(`/library/workbench/${n}`,{nodes:JSON.stringify(r),edges:JSON.stringify(i)})}catch(s){throw console.error("Erro ao salvar workbench",s),s}},findSuggestions:async(n,r,i)=>{try{Ue.loading("A IA est analisando conexes...",{id:"ai-scan"});const{data:s}=await Gt.post("/library/workbench/suggest",{text:r,fileHash:i,topK:5});console.log(" Dados que chegaram no navegador:",s);const o=s.map(f=>({highlightId:f.highlightId,score:f.score,text:f.text,originNodeId:n})),{nodes:a,edges:l}=t();let c=[...l],d=0;s.forEach(f=>{if(a.find(b=>b.id===n)?.data?.dbId===f.highlightId)return;const g=a.find(b=>b.data.dbId===f.highlightId),v=f.text||"Sem contedo de texto";g?l.some(w=>w.source===n&&w.target===g.id||w.source===g.id&&w.target===n)||(d++,c.push({id:`ai-${n}-${g.id}`,source:n,target:g.id,animated:!0,label:`${(f.score*100).toFixed(0)}%`,style:{stroke:"#06b6d4",strokeDasharray:"5,5",strokeWidth:2},labelStyle:{fill:"#06b6d4",fontWeight:700,fontSize:10},markerEnd:{type:Bf.ArrowClosed,color:"#06b6d4"}})):o.push({highlightId:f.highlightId,score:f.score,text:v,originNodeId:n})}),e({edges:c}),o.length>0?(e({suggestions:o,isSuggestionsOpen:!0}),Ue.dismiss("ai-scan"),Ue.success("Novas conexes encontradas!",{description:"Abra o painel para adicionar."})):d>0?Ue.success(`${d} conexes visuais criadas!`,{id:"ai-scan"}):Ue.info("Nenhuma nova conexo relevante encontrada.",{id:"ai-scan"})}catch(s){console.error(s),Ue.error("Erro na anlise da IA",{id:"ai-scan"})}},addSuggestionToCanvas:(n,r)=>{const{nodes:i,edges:s}=t(),o=i.find(v=>v.id===r),a=o?.position.x||0,l=o?.position.y||0,c=o?.data.fileHash||"",d=`ai-${n.highlightId}-${Date.now()}`,f=n.highlightId.startsWith("summary"),p={id:d,type:"custom",position:{x:a+350+Math.random()*50,y:l+(Math.random()-.5)*200},data:{label:f?"Sugesto Resumo":"Sugesto Trecho",content:n.text,type:f?"summary":"highlight",dbId:n.highlightId,fileHash:c}},g={id:`link-${r}-${d}`,source:r,target:d,animated:!0,label:`${(n.score*100).toFixed(0)}%`,style:{stroke:"#06b6d4",strokeDasharray:"5,5",strokeWidth:2},markerEnd:{type:Bf.ArrowClosed,color:"#06b6d4"}};e({nodes:[...i,p],edges:[...s,g],suggestions:t().suggestions.filter(v=>v.highlightId!==n.highlightId)}),t().suggestions.length<=1&&e({isSuggestionsOpen:!1})},closeSuggestions:()=>e({isSuggestionsOpen:!1,suggestions:[]})}));function qje({id:e,data:t,selected:n}){const{type:r,content:i,label:s,positionPdf:o,fileHash:a}=t,l=Ym(v=>v.removeNode),c=Ym(v=>v.findSuggestions),d=r==="summary",f=v=>{v.stopPropagation(),o?window.dispatchEvent(new CustomEvent("workbench-scroll-pdf",{detail:o})):Ue.warning("Posio original no encontrada.")},p=v=>{v.stopPropagation(),l(e)},g=v=>{v.stopPropagation(),i&&a?c(e,i,a):Ue.error("Dados insuficientes para anlise contextual.")};return E.jsxs("div",{className:`
        shadow-2xl rounded-xl border-2 transition-all w-72 bg-zinc-950/90 backdrop-blur-md overflow-hidden group/node
        ${n?"border-white ring-4 ring-blue-500/20":"border-white/10 hover:border-white/30"}
        ${d?"border-t-4 border-t-cyan-500":"border-t-4 border-t-yellow-500"}
      `,children:[E.jsx(Gf,{type:"target",position:He.Top,className:"!bg-zinc-400 !w-8 !h-1.5 !rounded-full !-top-[2px] transition-colors hover:!bg-white"}),E.jsx(Gf,{type:"source",position:He.Bottom,className:"!bg-zinc-400 !w-8 !h-1.5 !rounded-full !-bottom-[2px] transition-colors hover:!bg-white"}),E.jsxs("div",{onClick:f,className:`
            p-3 border-b border-white/5 flex items-center justify-between cursor-pointer 
            transition-colors relative
            ${d?"bg-cyan-950/30 hover:bg-cyan-900/40":"bg-yellow-950/20 hover:bg-yellow-900/30"}
        `,children:[E.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[d?E.jsx(Ba,{className:"w-3.5 h-3.5 text-cyan-400 shrink-0"}):E.jsx(Gu,{className:"w-3.5 h-3.5 text-yellow-500 shrink-0"}),E.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider truncate ${d?"text-cyan-200":"text-yellow-200"}`,children:d?"Resumo IA":"Trecho"})]}),E.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[E.jsx("button",{onClick:g,className:"text-zinc-500 hover:text-cyan-400 opacity-0 group-hover/node:opacity-100 transition-opacity p-1 rounded hover:bg-white/10",title:"Sugerir conexes com IA",children:E.jsx(UU,{className:"w-3.5 h-3.5"})}),o&&E.jsx(Coe,{className:"w-3 h-3 text-white/50 opacity-0 group-hover/node:opacity-100 transition-opacity"}),E.jsx("button",{onClick:p,className:"text-zinc-500 hover:text-red-400 opacity-0 group-hover/node:opacity-100 transition-opacity p-1 rounded hover:bg-white/10",children:E.jsx(vg,{className:"w-3.5 h-3.5"})})]})]}),E.jsx("div",{className:"p-4 bg-zinc-900/50",children:E.jsxs("p",{className:"text-xs text-zinc-300 line-clamp-[8] font-serif leading-relaxed whitespace-pre-wrap",children:['"',i,'"']})}),E.jsxs("div",{className:"px-4 py-2 border-t border-white/5 bg-black/20 text-[9px] text-zinc-500 font-mono flex justify-between items-center",children:[E.jsx("span",{className:"truncate max-w-[150px] uppercase tracking-tight",children:String(s)}),o?.pageNumber&&E.jsxs("span",{className:"bg-white/5 px-1.5 py-0.5 rounded",children:["Pg. ",o.pageNumber]})]})]})}function Wje(){const{isSuggestionsOpen:e,suggestions:t,closeSuggestions:n,addSuggestionToCanvas:r}=Ym();return E.jsx(kg,{open:e,onOpenChange:i=>!i&&n(),children:E.jsxs(ch,{className:"max-w-xl bg-zinc-950 border border-white/10 text-white p-0 overflow-hidden shadow-2xl",children:[E.jsx("div",{className:"p-6 border-b border-white/5 bg-zinc-900/30 flex items-center justify-between",children:E.jsxs(uh,{className:"flex items-center gap-2 text-lg",children:[E.jsx(UU,{className:"w-5 h-5 text-cyan-400"}),"Sugestes da IA (",t.length,")"]})}),E.jsx(Fw,{className:"h-[400px] p-6",children:E.jsx("div",{className:"space-y-4",children:t.map((i,s)=>E.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:bg-white/10 transition-colors group",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${i.highlightId.startsWith("summary")?"bg-cyan-500/20 text-cyan-300":"bg-yellow-500/20 text-yellow-300"}`,children:i.highlightId.startsWith("summary")?"RESUMO":"TRECHO"}),E.jsxs("span",{className:"text-xs text-green-400 font-mono",children:[(i.score*100).toFixed(0),"% Similar"]})]}),E.jsxs(ct,{size:"sm",onClick:()=>r(i,i.originNodeId),className:"h-7 text-xs bg-blue-600 hover:bg-blue-500 text-white gap-1",children:[E.jsx($k,{className:"w-3 h-3"})," Adicionar"]})]}),E.jsxs("p",{className:"text-sm text-zinc-300 italic line-clamp-3 leading-relaxed",children:['"',i.text||"Contedo no disponvel para visualizao...",'"']})]},s))})}),E.jsx("div",{className:"p-4 bg-zinc-900/50 border-t border-white/5 flex justify-end",children:E.jsx(ct,{variant:"ghost",onClick:n,className:"text-zinc-400 hover:text-white",children:"Fechar"})})]})})}function Gje({fileHash:e}){const{nodes:t,edges:n,onNodesChange:r,onEdgesChange:i,onConnect:s,loadState:o,saveState:a}=Ym(),[l,c]=x.useState("saved"),d=x.useMemo(()=>({custom:qje}),[]);x.useEffect(()=>{o(e)},[e]),x.useEffect(()=>{if(t.length===0)return;c("unsaved");const p=setTimeout(async()=>{c("saving");try{await a(e),c("saved")}catch{c("unsaved")}},2e3);return()=>clearTimeout(p)},[t,n,e]);const f=async()=>{c("saving"),await a(e),c("saved"),Ue.success("Layout salvo com sucesso.")};return E.jsxs("div",{className:"w-full h-full bg-[#080808] relative border-l border-white/10",children:[E.jsxs("div",{className:"absolute top-4 right-4 z-50 flex items-center gap-3",children:[E.jsxs("div",{className:"text-xs font-mono text-zinc-500 flex items-center gap-2 bg-black/40 px-3 py-1.5 rounded-full border border-white/5 backdrop-blur-md",children:[l==="saved"&&E.jsxs(E.Fragment,{children:[E.jsx(GU,{className:"w-3 h-3 text-green-500"}),E.jsx("span",{children:"Salvo"})]}),l==="saving"&&E.jsxs(E.Fragment,{children:[E.jsx(no,{className:"w-3 h-3 text-blue-500 animate-spin"}),E.jsx("span",{children:"Salvando..."})]}),l==="unsaved"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),E.jsx("span",{children:"Alterado"})]})]}),E.jsxs(ct,{size:"sm",onClick:f,className:"bg-zinc-800/80 hover:bg-zinc-700 text-white text-xs border border-white/10 backdrop-blur-md",children:[E.jsx(JU,{className:"w-3 h-3 mr-2"})," Salvar"]})]}),E.jsxs(gje,{nodes:t,edges:n,onNodesChange:r,onEdgesChange:i,onConnect:s,nodeTypes:d,fitView:!0,className:"bg-[#080808]",proOptions:{hideAttribution:!0},children:[E.jsx(wje,{color:"#333",gap:24,size:1}),E.jsx(Rje,{className:"!bg-zinc-900/80 !border-white/10 !fill-white [&>button]:!border-b-white/10 hover:[&>button]:!bg-zinc-800"}),E.jsx(Hje,{position:"bottom-right",className:"!bg-zinc-950/40 !border !border-white/10 !rounded-lg !mb-4 !mr-4 backdrop-blur-sm shadow-xl",style:{width:150,height:100},maskColor:"rgba(0, 0, 0, 0.4)",nodeColor:p=>p.data?.type==="summary"?"#06b6d4":"#eab308",nodeStrokeWidth:3,zoomable:!0,pannable:!0})]}),E.jsx(Wje,{})]})}const z$=Wu()(Lk((e,t)=>({highlights:{},addHighlight:(n,r)=>e(i=>({highlights:{...i.highlights,[n]:[...i.highlights[n]||[],r]}})),removeHighlight:(n,r)=>e(i=>({highlights:{...i.highlights,[n]:(i.highlights[n]||[]).filter(s=>s.id!==r)}})),getHighlights:n=>t().highlights[n]||[]}),{name:"logos-pdf-highlights"})),Kje="3.11.174";try{$7.workerSrc=`https://unpkg.com/pdfjs-dist@${Kje}/build/pdf.worker.min.js`}catch(e){console.error("Erro config PDF:",e)}function Yje({onOpen:e,onConfirm:t}){return E.jsxs("div",{className:"bg-zinc-900 border border-white/20 p-2 rounded-lg shadow-xl flex gap-2 z-[300] animate-in fade-in zoom-in-95 duration-200",children:[E.jsx(ct,{size:"sm",className:"h-8 text-xs bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30 border-0 transition-colors",onClick:()=>t("highlight"),children:"Marcar"}),E.jsxs(ct,{size:"sm",className:"h-8 text-xs bg-cyan-600/20 text-cyan-400 hover:bg-cyan-600/30 border-0",onClick:()=>t("summarize"),children:[E.jsx(Ba,{className:"w-3 h-3 mr-1"})," Resumir"]}),E.jsx(ct,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-gray-400",onClick:e,children:E.jsx(tae,{className:"w-4 h-4"})})]})}function yM({note:e,pdfUrl:t,initialPosition:n,onClose:r}){const[i,s]=x.useState([]),[o,a]=x.useState([]),[l,c]=x.useState("highlights"),[d,f]=x.useState("select"),[p,g]=x.useState(!1),[v,b]=x.useState(1),[w,S]=x.useState(!1),[C,_]=x.useState(!1),{addNode:k}=Ym(),R=x.useRef(null);x.useEffect(()=>{N()},[e.id]),x.useEffect(()=>{n&&R.current&&setTimeout(()=>{R.current.scrollTo(n)},1e3)},[n]),x.useEffect(()=>{const L=D=>{const G=D.detail;if(G&&R.current)try{const z={position:G,content:{},comment:{}};R.current.scrollTo(z)}catch(z){console.warn("Falha ao rolar PDF (posio invlida ou PDF no carregado).",z)}};return window.addEventListener("workbench-scroll-pdf",L),()=>window.removeEventListener("workbench-scroll-pdf",L)},[]);const N=async()=>{const{isGuest:L}=Ln.getState();if(L){const D=z$.getState().getHighlights(e.id);s(D),a([]);return}try{_(!0);const D=await Gt.get(`/library/summaries/${e.id}`);a(D.data);const G=(await Gt.get(`/library/books/${e.id}/highlights`)).data.map(V=>{let j=null;try{j=JSON.parse(V.positionJson)}catch{}return j?{id:String(V.id),position:j,content:{text:V.content},comment:{text:"",emoji:""},isSummary:!1}:null}).filter(Boolean),z=D.data.filter(V=>V.positionJson).map(V=>{let j;try{j=JSON.parse(V.positionJson)}catch{return null}return j?{id:`summary-${V.id}`,position:j,content:{text:"Resumo IA"},comment:{text:V.generatedText,emoji:""},isSummary:!0,dbId:V.id}:null}).filter(Boolean);s([...G,...z])}catch(D){console.error(D)}finally{_(!1)}},T=async(L,D)=>{const F=L.content.text;if(!F)return;const G=JSON.stringify(L.position);if(D==="highlight")try{const{data:z}=await Gt.post("/library/highlights",{fileHash:e.id,content:F,type:"TEXT",position:G}),V={...L,id:String(z)};Ln.getState().isGuest&&z$.getState().addHighlight(e.id,V),s(j=>[...j,V]),Ue.success("Trecho salvo"),window.dispatchEvent(new Event("refresh-galaxy"))}catch(z){console.error(z),Ue.error("Erro ao salvar marcao.")}else if(D==="summarize")try{Ue.info("IA lendo trecho...",{description:"Gerando resumo..."}),await Gt.post("/library/summaries",{fileHash:e.id,sourceType:"TEXT_SELECTION",content:F,position:G}),S(!0),c("summaries"),window.dispatchEvent(new Event("refresh-galaxy")),setTimeout(N,2e3)}catch{Ue.error("Falha ao solicitar resumo")}},M=async L=>{try{await Gt.delete(`/library/highlights/${L.id}`),s(D=>D.filter(F=>F.id!==L.id)),Ue.success("Marcao removida"),window.dispatchEvent(new Event("refresh-galaxy"))}catch{Ue.error("Erro ao excluir.")}},O=(L,D)=>{const F=D==="highlight"?L.content.text:L.generatedText,G=L.id,z={id:`${D}-${G}-${Date.now()}`,type:"custom",position:{x:400+Math.random()*100,y:300+Math.random()*100},data:{label:e.title,content:F,type:D,dbId:G,positionPdf:L.position,fileHash:e.id}};k(z),Ue.success("Adicionado ao Workbench",{icon:""}),p||g(!0)};return E.jsxs("div",{className:"fixed inset-x-0 bottom-0 top-16 z-50 bg-zinc-950 flex flex-col border-t border-white/10 animate-in slide-in-from-bottom-10 duration-300",children:[E.jsxs("div",{className:"h-14 border-b border-white/10 bg-black/90 flex items-center justify-between px-4 z-50",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h2",{className:"text-white font-bold text-sm truncate max-w-md",children:e.title}),E.jsx("span",{className:"text-[10px] text-gray-500",children:"Logos AI Reader"})]}),E.jsxs("div",{className:"flex items-center bg-white/5 rounded-md border border-white/10 ml-4 p-1 gap-2",children:[E.jsxs("div",{className:"flex items-center bg-black/50 rounded p-0.5 border border-white/5 mr-2",children:[E.jsx("button",{onClick:()=>f("select"),className:`p-1.5 rounded ${d==="select"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,title:"Modo Seleo",children:E.jsx(Eae,{className:"w-3 h-3"})}),E.jsx("button",{onClick:()=>f("interact"),className:`p-1.5 rounded ${d==="interact"?"bg-cyan-600 text-white":"text-gray-400 hover:text-white"}`,title:"Modo Interao",children:E.jsx(ZU,{className:"w-3 h-3"})})]}),E.jsx(ct,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>b(L=>Math.max(.5,L-.25)),children:E.jsx(Oae,{className:"w-3 h-3"})}),E.jsxs("span",{className:"text-xs w-8 text-center font-mono text-gray-300",children:[(v*100).toFixed(0),"%"]}),E.jsx(ct,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>b(L=>Math.min(3,L+.25)),children:E.jsx(nV,{className:"w-3 h-3"})})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs(ct,{variant:p?"secondary":"ghost",size:"sm",onClick:()=>g(!p),className:"text-xs gap-2 hidden md:flex",children:[E.jsx(voe,{className:"w-4 h-4"}),p?"Fechar Canvas":"Workbench"]}),E.jsxs(ct,{variant:w?"secondary":"ghost",size:"sm",onClick:()=>S(!w),className:"text-xs gap-2",children:[E.jsx(Goe,{className:"w-4 h-4"}),w?"Fechar Painel":"Painel"]}),E.jsx("div",{className:"w-px h-6 bg-white/10 mx-2"}),E.jsx(ct,{size:"icon",variant:"ghost",onClick:r,className:"hover:bg-white/10 text-gray-400",children:E.jsx(vg,{className:"w-5 h-5"})})]})]}),E.jsxs("div",{className:"flex-1 relative bg-zinc-900 w-full h-full flex overflow-hidden",children:[E.jsx("div",{className:`relative h-full overflow-auto bg-gray-900/50 flex justify-center transition-all duration-300 ${p?"w-1/2 border-r border-white/10":"w-full"}`,children:E.jsx("div",{style:{position:"relative",width:p?"95%":`${60*v}vw`,minWidth:"400px",marginBottom:"50px"},children:E.jsx(H7,{url:t,beforeLoad:E.jsxs("div",{className:"flex h-96 items-center justify-center text-gray-500",children:[E.jsx(no,{className:"animate-spin mr-2"})," Carregando PDF..."]}),children:L=>E.jsx(l7,{pdfDocument:L,enableAreaSelection:D=>d==="select"&&D.altKey,onScrollChange:()=>{},scrollRef:()=>{},ref:R,onSelectionFinished:(D,F,G,z)=>d==="select"?E.jsx(Yje,{onOpen:z,onConfirm:V=>{T({content:F,position:D,comment:{text:"",emoji:""},id:crypto.randomUUID()},V),G()}}):null,highlightTransform:(D,F,G,z,V,j,H)=>{const B=D.isSummary,K=!(D.content&&D.content.image),U=B?"absolute inset-0 bg-cyan-500/10 border-b-2 border-cyan-400 cursor-pointer hover:bg-cyan-500/20 transition-colors":"",q=()=>{B&&(S(!0),c("summaries"))},Y=E.jsx("div",{className:U,onClick:q,children:K?E.jsx(ETe,{isScrolledTo:H,position:D.position,comment:D.comment}):E.jsx(tRe,{isScrolledTo:H,highlight:D,onChange:()=>{}})});return E.jsx(TTe,{popupContent:E.jsx("div",{className:"text-black text-xs p-2 bg-white rounded shadow max-w-xs",children:B?" Resumo IA":"Anotao"}),onMouseOver:$=>G(D,()=>$),onMouseOut:z,children:Y},F)},highlights:i})})})}),p&&E.jsx("div",{className:"w-1/2 h-full bg-[#111]",children:E.jsx(Gje,{fileHash:e.id})}),w&&E.jsxs("div",{className:"w-96 bg-[#0a0a0a] border-l border-white/10 h-full flex flex-col z-[201] absolute right-0 top-0 bottom-0 md:relative shadow-2xl",children:[E.jsxs("div",{className:"flex border-b border-white/10",children:[E.jsxs("button",{onClick:()=>c("highlights"),className:`flex-1 py-3 text-xs font-medium transition-colors ${l==="highlights"?"text-blue-400 border-b-2 border-blue-500 bg-white/5":"text-gray-500 hover:text-gray-300"}`,children:["Marcaes (",i.filter(L=>!L.isSummary).length,")"]}),E.jsxs("button",{onClick:()=>c("summaries"),className:`flex-1 py-3 text-xs font-medium transition-colors ${l==="summaries"?"text-cyan-400 border-b-2 border-cyan-500 bg-white/5":"text-gray-500 hover:text-gray-300"}`,children:["Resumos (",o.length,")"]})]}),E.jsxs(Fw,{className:"flex-1 p-4",children:[l==="summaries"&&E.jsxs("div",{className:"space-y-4",children:[C&&E.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-zinc-500 gap-2",children:[E.jsx(no,{className:"w-5 h-5 animate-spin text-cyan-500"}),E.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest",children:"Sincronizando Resumos..."})]}),o.map(L=>E.jsxs("div",{className:"bg-gradient-to-br from-cyan-900/10 to-transparent border border-cyan-500/20 rounded-lg p-4 group relative hover:border-cyan-500/40",children:[E.jsxs("div",{className:"flex justify-between items-center mb-3",children:[E.jsx("span",{className:"text-[10px] font-bold text-cyan-400 uppercase",children:L.sourceType}),E.jsxs("button",{onClick:D=>{D.stopPropagation(),O(L,"summary")},className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 bg-white/5 px-2 py-1 rounded",title:"Enviar para o Workbench",children:[E.jsx(sL,{className:"w-3 h-3"})," Canvas"]})]}),E.jsx("div",{className:"prose prose-invert prose-sm text-xs text-gray-300 max-h-40 overflow-y-auto",children:E.jsx(EK,{children:L.generatedText})})]},L.id))]}),l==="highlights"&&E.jsx("div",{className:"space-y-3",children:i.filter(L=>!L.isSummary).map(L=>E.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 hover:bg-white/10 cursor-pointer group",onClick:()=>{R.current&&R.current.scrollTo(L)},children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("span",{className:"text-[10px] text-blue-400 bg-blue-500/10 px-1 rounded font-mono",children:["Pg. ",L.position.pageNumber]}),E.jsxs("button",{onClick:D=>{D.stopPropagation(),O(L,"highlight")},className:"text-xs text-zinc-400 hover:text-white flex items-center gap-1 bg-white/5 px-2 py-1 rounded",title:"Enviar para o Workbench",children:[E.jsx(sL,{className:"w-3 h-3"})," Canvas"]}),E.jsx(Hk,{className:"w-3 h-3 text-gray-600 hover:text-red-400 ml-2",onClick:D=>{D.stopPropagation(),M(L)}})]}),E.jsxs("blockquote",{className:"text-xs text-gray-300 border-l-2 border-yellow-500/50 pl-2 italic line-clamp-3",children:['"',L.content.text,'"']})]},L.id))})]})]})]})]})}function Xje(){const{selectedNote:e,setSelectedNote:t}=dN(),[n,r]=x.useState(null),[i,s]=x.useState(!1),o=!!e,a=async()=>{if(e?.documentId)try{Ue.loading("Acessando arquivo original...",{id:"modal-open"});const{data:f}=await Gt.get(`/library/books/${e.documentId}/content`);r({url:f.url}),Ue.dismiss("modal-open")}catch{Ue.dismiss("modal-open"),Ue.error("Erro ao carregar documento.")}},l=async()=>{if(e&&confirm("Excluir esta nota permanentemente?")){s(!0);try{const f=e.id.startsWith("summary-")||e.tags?.includes("RESUME"),p=e.id.replace("summary-","");f?await Gt.delete(`/library/summaries/${p}`):await Gt.delete(`/library/highlights/${p}`),Ue.success("Nota removida."),t(null),window.dispatchEvent(new Event("refresh-galaxy"))}catch{Ue.error("Erro ao excluir.")}finally{s(!1)}}};if(!e)return null;if(n)return E.jsx(yM,{note:e,pdfUrl:n.url,initialPosition:e.position,onClose:()=>r(null)});const c=E9(e.documentId||"default"),d=e.id.startsWith("summary-")||e.tags?.includes("RESUME");return E.jsx(kg,{open:o,onOpenChange:f=>!f&&t(null),children:E.jsx(ch,{className:"max-w-2xl bg-[#0a0a0a] border-white/10 text-white p-0 overflow-hidden shadow-2xl z-[150] outline-none",children:E.jsxs("div",{className:"flex flex-col h-auto max-h-[85vh]",children:[E.jsxs("div",{className:"p-6 border-b border-white/5 bg-zinc-900/20",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"flex gap-2",children:e.tags?.filter(f=>f!=="organized").map(f=>E.jsx("span",{className:"text-[9px] font-mono uppercase px-2 py-0.5 rounded bg-white/5 text-zinc-400 border border-white/10",style:{borderColor:f==="RESUME"?"#06b6d4":""},children:f},f))}),E.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-500",children:[E.jsx(gae,{className:`w-3.5 h-3.5 ${d?"text-cyan-500":"text-blue-500"}`}),E.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Vetorizado"})]})]}),E.jsx(uh,{className:"text-xl font-bold text-white tracking-tight mb-2",children:d?"Resumo Semntico":"Destaque do Documento"}),E.jsxs("div",{className:"flex items-center gap-4 text-[11px] text-zinc-500",children:[E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx(Gu,{className:"w-3.5 h-3.5"}),E.jsx("span",{className:"truncate max-w-[250px]",children:e.title})]}),E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx(VU,{className:"w-3.5 h-3.5"}),E.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),E.jsxs(Fw,{className:"flex-1 p-6",children:[E.jsx("div",{className:"bg-zinc-900/40 border-l-2 p-6 rounded-r-xl leading-relaxed text-zinc-200",style:{borderColor:c},children:d?E.jsx("div",{className:"markdown-content prose-invert text-sm",children:E.jsx(EK,{children:e.preview})}):E.jsxs("p",{className:"italic text-base font-serif opacity-90",children:['"',e.preview,'"']})}),E.jsxs("div",{className:"mt-6 flex items-center justify-between px-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-zinc-500",children:[E.jsx(Fk,{className:"w-3 h-3"}),E.jsxs("span",{className:"text-[10px] uppercase font-bold tracking-tighter",children:["Pgina ",e.position?.pageNumber||"N/A"]})]}),E.jsxs(ct,{variant:"link",onClick:a,className:"text-blue-400 hover:text-blue-300 text-[11px] h-auto p-0 gap-1.5",children:[E.jsx(koe,{className:"w-3.5 h-3.5"})," Ir para o contexto original"]})]})]}),E.jsxs("div",{className:"p-4 border-t border-white/5 bg-[#050505] flex justify-between items-center px-6",children:[E.jsxs(ct,{variant:"ghost",onClick:l,disabled:i,className:"text-zinc-600 hover:text-red-500 hover:bg-red-500/5 h-8 text-[10px] uppercase font-bold tracking-widest",children:[E.jsx(Hk,{className:"w-3 h-3 mr-2"})," Excluir Nota"]}),E.jsx("div",{className:"text-[9px] text-zinc-800 font-mono tracking-[0.2em]",children:"LOGOS SYSTEM"})]})]})})})}function Zje(){const{getVisibleData:e,initializeUniverse:t,isLoading:n,focusNode:r,allNotes:i}=gh(),s=Ln(w=>w.guestUniverse),{containerRef:o,universeRef:a,zoomLevel:l,flyTo:c}=$Ee(),{visibleNotes:d,visibleClusters:f,visibleSubClusters:p}=e(),[g,v]=x.useState(null);x.useEffect(()=>{(s?.id||i.length===0)&&t()},[s?.id]),x.useEffect(()=>{const w=()=>{console.log(" Atualizao da galxia solicitada externamente."),t()};return window.addEventListener("refresh-galaxy",w),()=>window.removeEventListener("refresh-galaxy",w)},[]),x.useEffect(()=>{const w=async S=>{const C=S,{documentId:_,noteId:k,position:R}=C.detail,{isGuest:N}=Ln.getState();if(N){v({documentId:"sample-book",noteId:k||"guest-note",url:"/sample.pdf",position:R});return}if(!_){Ue.error("Este n no possui um documento vinculado.");return}try{Ue.loading("Descriptografando documento...",{id:"galaxy-open"});const{data:T}=await Gt.get(`/library/books/${_}/content`);v({documentId:_,noteId:k,url:T.url,position:R}),Ue.dismiss("galaxy-open")}catch(T){console.error(T),Ue.dismiss("galaxy-open"),Ue.error("Erro ao abrir documento",{description:"O arquivo pode ter sido movido ou o link expirou."})}};return window.addEventListener("open-book-reader",w),()=>window.removeEventListener("open-book-reader",w)},[]);const b=()=>v(null);return E.jsxs("div",{className:"w-full h-full bg-[#050505] overflow-hidden relative selection:bg-purple-500/30",children:[d.length===0&&!n&&E.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 pointer-events-none",children:E.jsx("div",{className:"pointer-events-auto text-center space-y-4 bg-black/50 p-8 rounded-2xl border border-white/10 backdrop-blur-md shadow-2xl max-w-md",children:Ln.getState().isGuest?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"mx-auto w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-2",children:E.jsx(Ba,{className:"w-8 h-8 text-purple-400 animate-pulse"})}),E.jsx("h3",{className:"text-xl font-bold text-white",children:ws("galaxy.guest_empty_title")}),E.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:ws("galaxy.guest_empty_desc")}),E.jsx("div",{className:"pt-4 animate-bounce",children:E.jsx(Bse,{className:"w-6 h-6 text-white/20 mx-auto"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("p",{className:"text-gray-400 text-sm",children:"Universo vazio ou filtros muito restritivos."}),E.jsxs(ct,{onClick:()=>t(),variant:"outline",className:"border-white/20 text-white hover:bg-white/10 hover:text-blue-400",children:[E.jsx(lae,{className:"mr-2 h-4 w-4"})," Gerar Universo"]})]})})}),E.jsx(CT,{children:n&&E.jsxs(wr.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] bg-black flex flex-col items-center justify-center",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-t-cyan-500 border-r-purple-500 border-b-transparent border-l-transparent animate-spin"}),E.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-xl rounded-full animate-pulse"})]}),E.jsx("h2",{className:"mt-8 text-xl font-bold text-white tracking-widest uppercase",children:"Carregando Universo..."}),E.jsx("p",{className:"text-sm text-gray-500 mt-2 font-mono",children:s?.id?`Sincronizando com ${s.id}`:"Calibrando sensores"})]})}),E.jsxs(wr.div,{className:"w-full h-full absolute inset-0",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[E.jsx("div",{className:"absolute top-6 left-6 z-40 pointer-events-none",children:E.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 p-4 rounded-xl shadow-2xl space-y-3 pointer-events-auto min-w-[240px]",children:[E.jsx("h1",{className:"text-white font-bold text-lg tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500",children:ws("galaxy.hud_title")}),E.jsxs("div",{className:"space-y-1 border-b border-white/5 pb-3",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[E.jsx(nV,{className:"w-3 h-3"}),E.jsxs("span",{children:[ws("galaxy.zoom"),":",E.jsxs("span",{className:"text-white font-mono",children:[l.toFixed(2),"x"]})]})]}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[E.jsx(ZU,{className:"w-3 h-3"}),E.jsxs("span",{children:[ws("galaxy.visible"),": ",E.jsx("span",{className:"text-white font-mono",children:d.length})]})]})]}),E.jsx(B_e,{}),E.jsx(VEe,{clusters:f,onNavigate:(w,S)=>c(w,S,.9)}),n&&E.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-400 animate-pulse pt-2 justify-center border-t border-white/5 mt-2",children:[E.jsx(no,{className:"w-3 h-3 animate-spin"}),E.jsx("span",{children:"Calculando gravidade..."})]})]})}),E.jsx("div",{ref:o,className:"w-full h-full cursor-grab active:cursor-grabbing outline-none",children:E.jsxs("div",{ref:a,className:"absolute top-0 left-0 w-full h-full origin-top-left will-change-transform",children:[f.map(w=>E.jsx(BEe,{cluster:w,zoomLevel:l},w.id)),p.map(w=>E.jsx(UEe,{subCluster:w,zoomLevel:l},w.id)),l>=.15&&d.map(w=>E.jsx(HEe,{note:w,zoomLevel:l},w.id))]})}),E.jsx(V_e,{}),E.jsx(EAe,{clusters:f,allNotes:i}),E.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-white/20 text-[10px] uppercase tracking-[0.2em] pointer-events-none select-none font-mono",children:"Scroll to Zoom  Drag to Move  Click to Interact"})]}),E.jsx(CT,{children:r&&E.jsx(q_e,{})}),E.jsx(Xje,{}),g&&E.jsx("div",{className:"fixed inset-0 z-[200] bg-black animate-in fade-in duration-300",children:E.jsx(yM,{note:{id:g.documentId,title:"Explorando Contexto",preview:"Modo de leitura via Galxia",tags:["Explorao"],createdAt:new Date().toISOString(),x:0,y:0,z:0,documentId:g.documentId},pdfUrl:g.url,initialPosition:g.position,onClose:b})})]})}const bM=Wu(e=>({profile:null,isLoading:!1,fetchProfile:async()=>{e({isLoading:!0});const{isGuest:t}=Ln.getState();if(t){e({profile:{userId:"guest",avatarUrl:"https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Guest",bio:"Explorando o Logos em modo visitante.",stats:{highlights:0,summaries:0,connections:0,storageUsed:0,storageLimit:100},radar:[{subject:"curiosity",A:100},{subject:"access",A:20},{subject:"reading",A:50}]},isLoading:!1});return}try{const{data:n}=await Gt.get("/users/profile");e({profile:n,isLoading:!1})}catch(n){console.error("Erro ao carregar perfil",n),e({isLoading:!1})}},updateAvatar:async t=>{if(Ln.getState().isGuest){e(n=>({profile:n.profile?{...n.profile,avatarUrl:t}:null}));return}try{e(n=>({profile:n.profile?{...n.profile,avatarUrl:t}:null})),await Gt.put("/users/profile/avatar",{avatarUrl:t})}catch(n){console.error(n)}}})),Qje=["https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Logos","https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Felix","https://api.dicebear.com/9.x/bottts-neutral/svg?seed=Aneka","https://api.dicebear.com/9.x/shapes/svg?seed=Orbit","https://api.dicebear.com/9.x/shapes/svg?seed=Nebula","https://api.dicebear.com/9.x/shapes/svg?seed=Flux","https://api.dicebear.com/9.x/notionists/svg?seed=Leo","https://api.dicebear.com/9.x/notionists/svg?seed=Mila","https://api.dicebear.com/9.x/notionists/svg?seed=Zoe","https://api.dicebear.com/9.x/adventurer/svg?seed=Alex","https://api.dicebear.com/9.x/adventurer/svg?seed=Sophie","https://api.dicebear.com/9.x/adventurer/svg?seed=Max"];function Jje({currentAvatar:e,onSelect:t}){const[n,r]=x.useState(e),i=s=>{r(s),t(s)};return E.jsxs("div",{className:"bg-zinc-900/50 border border-white/10 rounded-2xl p-6",children:[E.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-4 flex items-center gap-2",children:[E.jsx(tV,{className:"w-4 h-4 text-purple-400"})," Escolha seu Personagem"]}),E.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-4",children:Qje.map((s,o)=>{const a=n===s;return E.jsxs(wr.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(s),className:ot("relative aspect-square rounded-xl overflow-hidden cursor-pointer border-2 transition-all",a?"border-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)] bg-blue-500/10":"border-white/5 hover:border-white/20 bg-black/40"),children:[E.jsx("img",{src:s,alt:"Avatar Preset",className:"w-full h-full object-cover p-1"}),a&&E.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center backdrop-blur-[1px]",children:E.jsx("div",{className:"bg-blue-500 rounded-full p-1",children:E.jsx(gg,{className:"w-3 h-3 text-white"})})})]},o)})})]})}function eLe(e,t=[]){let n=[];function r(s,o){const a=x.createContext(o);a.displayName=s+"Context";const l=n.length;n=[...n,o];const c=f=>{const{scope:p,children:g,...v}=f,b=p?.[e]?.[l]||a,w=x.useMemo(()=>v,Object.values(v));return E.jsx(b.Provider,{value:w,children:g})};c.displayName=s+"Provider";function d(f,p){const g=p?.[e]?.[l]||a,v=x.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=a?.[e]||s;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,tLe(i,...t)]}function tLe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function nLe(){return CV.useSyncExternalStore(rLe,()=>!0,()=>!1)}function rLe(){return()=>{}}var xM="Avatar",[iLe]=eLe(xM),[sLe,jY]=iLe(xM),LY=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=x.useState("idle");return E.jsx(sLe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:E.jsx(Zu.span,{...r,ref:t})})});LY.displayName=xM;var zY="AvatarImage",FY=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,o=jY(zY,n),a=oLe(r,s),l=xr(c=>{i(c),o.onImageLoadingStatusChange(c)});return tr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?E.jsx(Zu.img,{...s,ref:t,src:r}):null});FY.displayName=zY;var $Y="AvatarFallback",HY=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=jY($Y,n),[o,a]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?E.jsx(Zu.span,{...i,ref:t}):null});HY.displayName=$Y;function F$(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oLe(e,{referrerPolicy:t,crossOrigin:n}){const r=nLe(),i=x.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=x.useState(()=>F$(s,e));return tr(()=>{a(F$(s,e))},[s,e]),tr(()=>{const l=f=>()=>{a(f)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,t]),o}var BY=LY,UY=FY,VY=HY;const qY=x.forwardRef(({className:e,...t},n)=>E.jsx(BY,{ref:n,className:ot("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));qY.displayName=BY.displayName;const WY=x.forwardRef(({className:e,...t},n)=>E.jsx(UY,{ref:n,className:ot("aspect-square h-full w-full",e),...t}));WY.displayName=UY.displayName;const GY=x.forwardRef(({className:e,...t},n)=>E.jsx(VY,{ref:n,className:ot("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));GY.displayName=VY.displayName;const aLe=Yx("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xm({className:e,variant:t,...n}){return E.jsx("div",{className:ot(aLe({variant:t}),e),...n})}var lLe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wM(e){if(typeof e!="string")return!1;var t=lLe;return t.includes(e)}var cLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uLe=new Set(cLe);function KY(e){return typeof e!="string"?!1:uLe.has(e)}function YY(e){return typeof e=="string"&&e.startsWith("data-")}function Ps(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(KY(n)||YY(n))&&(t[n]=e[n]);return t}function XY(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ps(t)}return typeof e=="object"&&!Array.isArray(e)?Ps(e):null}function Cs(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(KY(n)||YY(n)||wM(n))&&(t[n]=e[n]);return t}function dLe(e){return e==null?null:x.isValidElement(e)?Cs(e.props):typeof e=="object"&&!Array.isArray(e)?Cs(e):null}var fLe=["children","width","height","viewBox","className","style","title","desc"];function TR(){return TR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TR.apply(null,arguments)}function hLe(e,t){if(e==null)return{};var n,r,i=pLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZY=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:a,title:l,desc:c}=e,d=hLe(e,fLe),f=s||{width:r,height:i,x:0,y:0},p=Ir("recharts-surface",o);return x.createElement("svg",TR({},Cs(d),{className:p,width:r,height:i,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),mLe=["children","className"];function RR(){return RR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RR.apply(null,arguments)}function gLe(e,t){if(e==null)return{};var n,r,i=vLe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vLe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hc=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=gLe(e,mLe),s=Ir("recharts-layer",r);return x.createElement("g",RR({className:s},Cs(i),{ref:t}),n)}),yLe=x.createContext(null);function N0(e){return function(){return e}}function bLe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ju(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,a=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kR(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function xLe(e,t){return e[t]}function wLe(e){const t=[];return t.key=e,t}function SLe(){var e=N0([]),t=kR,n=ju,r=xLe;function i(s){var o=Array.from(e.apply(this,arguments),wLe),a,l=o.length,c=-1,d;for(const f of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(f,o[a].key,c,s)]).data=f;for(a=0,d=bLe(t(o));a<l;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:N0(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:N0(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?kR:typeof s=="function"?s:N0(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??ju,i):n},i}function ELe(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}ju(e,t)}}function _Le(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=e[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}ju(e,t)}}function CLe(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var d=e[t[a]],f=d[r][1]||0,p=d[r-1][1]||0,g=(f-p)/2,v=0;v<a;++v){var b=e[t[v]],w=b[r][1]||0,S=b[r-1][1]||0;g+=w-S}l+=f,c+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ju(e,t)}}var LC={},zC={},$$;function ALe(){return $$||($$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(zC)),zC}var FC={},H$;function TLe(){return H$||(H$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(FC)),FC}var $C={},B$;function QY(){return B$||(B$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})($C)),$C}var HC={},BC={},U$;function RLe(){return U$||(U$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(BC)),BC}var V$;function JY(){return V$||(V$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RLe(),n=QY();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let a=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),a++);a<o;){const f=i[a];c?f==="\\"&&a+1<o?(a++,l+=i[a]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,s.push(l),l=""):l+=f:f==="["?(d=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,a++}return l&&s.push(l),s}e.toPath=r})(HC)),HC}var q$;function kLe(){return q$||(q$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ALe(),n=TLe(),r=QY(),i=JY();function s(a,l,c){if(a==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?n.isDeepKey(l)?s(a,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=a[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(a,l,c);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=a[l];return d===void 0?c:d}}}function o(a,l,c){if(l.length===0)return c;let d=a;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=s})(LC)),LC}var UC,W$;function PLe(){return W$||(W$=1,UC=kLe().get),UC}var NLe=PLe();const eX=Di(NLe);var MLe=4;function tX(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MLe,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function OLe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,s,o)=>{var a=n[o-1];return typeof a=="string"?i+a+s:a!==void 0?i+tX(a)+s:i+s},"")}var Jl=e=>e===0?0:e>0?1:-1,Ka=e=>typeof e=="number"&&e!=+e,Ya=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qt=e=>(typeof e=="number"||e instanceof Number)&&!Ka(e),Zm=e=>Qt(e)||typeof e=="string",DLe=0,Qm=e=>{var t=++DLe;return"".concat(e||"").concat(t)},Lu=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qt(t)&&typeof t!="string")return r;var s;if(Ya(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Ka(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},nX=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function M0(e,t,n){return Qt(e)&&Qt(t)?tX(e+n*(t-e)):t}function ILe(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):eX(r,t))===n)}var Mi=e=>e===null||typeof e>"u",rX=e=>Mi(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function jLe(e){return e!=null}function tv(){}var iX=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{wM(i)&&(r[i]=(s=>n[i](n,s)))}),r},LLe=(e,t,n)=>r=>(e(t,n,r),null),zLe=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];wM(i)&&typeof s=="function"&&(r||(r={}),r[i]=LLe(s,t,n))}),r};function G$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FLe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(n),!0).forEach(function(r){$Le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Le(e,t,n){return(t=HLe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HLe(e){var t=BLe(e,"string");return typeof t=="symbol"?t:t+""}function BLe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(e,t){var n=FLe({},e),r=t,i=Object.keys(t),s=i.reduce((o,a)=>(o[a]===void 0&&r[a]!==void 0&&(o[a]=r[a]),o),n);return s}var VC={},qC={},K$;function ULe(){return K$||(K$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(qC)),qC}var Y$;function sX(){return Y$||(Y$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ULe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(VC)),VC}var WC={},X$;function VLe(){return X$||(X$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(WC)),WC}var GC={},Z$;function qLe(){return Z$||(Z$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(GC)),GC}var KC={},Q$;function WLe(){return Q$||(Q$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(KC)),KC}var SM=x.createContext(null),GLe=e=>e,Qr=()=>{var e=x.useContext(SM);return e?e.store.dispatch:GLe},pb=()=>{},KLe=()=>pb,YLe=(e,t)=>e===t;function It(e){var t=x.useContext(SM);return eY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:KLe,t?t.store.getState:pb,t?t.store.getState:pb,t?e:pb,YLe)}function XLe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ZLe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function QLe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var J$=e=>Array.isArray(e)?e:[e];function JLe(e){const t=Array.isArray(e[0])?e[0]:e;return QLe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function eze(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var tze=class{constructor(e){this.value=e}deref(){return this.value}},nze=typeof WeakRef<"u"?WeakRef:tze,rze=0,eH=1;function O0(){return{s:rze,v:void 0,o:null,p:null}}function oX(e,t={}){let n=O0();const{resultEqualityCheck:r}=t;let i,s=0;function o(){let a=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const b=v.get(g);b===void 0?(a=O0(),v.set(g,a)):a=b}else{let v=a.p;v===null&&(a.p=v=new Map);const b=v.get(g);b===void 0?(a=O0(),v.set(g,a)):a=b}}const c=a;let d;if(a.s===eH)d=a.v;else if(d=e.apply(null,arguments),s++,r){const f=i?.deref?.()??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new nze(d):d}return c.s=eH,c.v=d,d}return o.clearCache=()=>{n=O0(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ize(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),XLe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:g=oX,argsMemoizeOptions:v=[]}=d,b=J$(p),w=J$(v),S=JLe(i),C=f(function(){return s++,c.apply(null,arguments)},...b),_=g(function(){o++;const R=eze(S,arguments);return a=C.apply(null,R),a},...w);return Object.assign(_,{resultFunc:c,memoizedResultFunc:C,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var ce=ize(oX),sze=Object.assign((e,t=ce)=>{ZLe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>sze}),YC={},XC={},ZC={},tH;function oze(){return tH||(tH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),a=t(i);if(o===a&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?a-o:o-a}return 0};e.compareValues=n})(ZC)),ZC}var QC={},JC={},nH;function aX(){return nH||(nH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(JC)),JC}var rH;function aze(){return rH||(rH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(QC)),QC}var iH;function lze(){return iH||(iH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oze(),n=aze(),r=JY();function i(s,o,a,l){if(s==null)return[];a=l?void 0:a,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(g=>String(g));const c=(g,v)=>{let b=g;for(let w=0;w<v.length&&b!=null;++w)b=b[v[w]];return b},d=(g,v)=>v==null||g==null?v:typeof g=="object"&&"key"in g?Object.hasOwn(v,g.key)?v[g.key]:c(v,g.path):typeof g=="function"?g(v):Array.isArray(g)?c(v,g):typeof v=="object"?v[g]:v,f=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return s.map(g=>({original:g,criteria:f.map(v=>d(v,g))})).slice().sort((g,v)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(g.criteria[b],v.criteria[b],a[b]);if(w!==0)return w}return 0}).map(g=>g.original)}e.orderBy=i})(XC)),XC}var eA={},sH;function cze(){return sH||(sH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(a,l)=>{for(let c=0;c<a.length;c++){const d=a[c];Array.isArray(d)&&l<s?o(d,l+1):i.push(d)}};return o(n,0),i}e.flatten=t})(eA)),eA}var tA={},oH;function lX(){return oH||(oH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WLe(),n=sX(),r=VLe(),i=qLe();function s(o,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&t.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],o):!1}e.isIterateeCall=s})(tA)),tA}var aH;function uze(){return aH||(aH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lze(),n=cze(),r=lX();function i(s,...o){const a=o.length;return a>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:a>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(YC)),YC}var nA,lH;function dze(){return lH||(lH=1,nA=uze().sortBy),nA}var fze=dze();const EM=Di(fze);var cX=e=>e.legend.settings,hze=e=>e.legend.size,pze=e=>e.legend.payload;ce([pze,cX],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?EM(r,n):r});function Nr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mze=typeof Symbol=="function"&&Symbol.observable||"@@observable",cH=mze,rA=()=>Math.random().toString(36).substring(7).split("").join("."),gze={INIT:`@@redux/INIT${rA()}`,REPLACE:`@@redux/REPLACE${rA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rA()}`},ax=gze;function _M(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function uX(e,t,n){if(typeof e!="function")throw new Error(Nr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nr(1));return n(uX)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((w,S)=>{o.set(S,w)}))}function d(){if(l)throw new Error(Nr(3));return i}function f(w){if(typeof w!="function")throw new Error(Nr(4));if(l)throw new Error(Nr(5));let S=!0;c();const C=a++;return o.set(C,w),function(){if(S){if(l)throw new Error(Nr(6));S=!1,c(),o.delete(C),s=null}}}function p(w){if(!_M(w))throw new Error(Nr(7));if(typeof w.type>"u")throw new Error(Nr(8));if(typeof w.type!="string")throw new Error(Nr(17));if(l)throw new Error(Nr(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=o).forEach(C=>{C()}),w}function g(w){if(typeof w!="function")throw new Error(Nr(10));r=w,p({type:ax.REPLACE})}function v(){const w=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Nr(11));function C(){const k=S;k.next&&k.next(d())}return C(),{unsubscribe:w(C)}},[cH](){return this}}}return p({type:ax.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:g,[cH]:v}}function vze(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ax.INIT})>"u")throw new Error(Nr(12));if(typeof n(void 0,{type:ax.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nr(13))})}function dX(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{vze(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],p=n[f],g=o[f],v=p(g,a);if(typeof v>"u")throw a&&a.type,new Error(Nr(14));c[f]=v,l=l||v!==g}return l=l||r.length!==Object.keys(o).length,l?c:o}}function lx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function yze(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Nr(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(o));return s=lx(...a)(i.dispatch),{...i,dispatch:s}}}function fX(e){return _M(e)&&"type"in e&&typeof e.type=="string"}var hX=Symbol.for("immer-nothing"),uH=Symbol.for("immer-draftable"),ii=Symbol.for("immer-state");function Ys(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qi=Object,Kf=Qi.getPrototypeOf,cx="constructor",lS="prototype",PR="configurable",ux="enumerable",mb="writable",Jm="value",Xa=e=>!!e&&!!e[ii];function oo(e){return e?pX(e)||cS(e)||!!e[uH]||!!e[cx]?.[uH]||uS(e)||dS(e):!1}var bze=Qi[lS][cx].toString(),dH=new WeakMap;function pX(e){if(!e||!CM(e))return!1;const t=Kf(e);if(t===null||t===Qi[lS])return!0;const n=Qi.hasOwnProperty.call(t,cx)&&t[cx];if(n===Object)return!0;if(!sf(n))return!1;let r=dH.get(n);return r===void 0&&(r=Function.toString.call(n),dH.set(n,r)),r===bze}function nv(e,t,n=!0){rv(e)===0?(n?Reflect.ownKeys(e):Qi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function rv(e){const t=e[ii];return t?t.type_:cS(e)?1:uS(e)?2:dS(e)?3:0}var fH=(e,t,n=rv(e))=>n===2?e.has(t):Qi[lS].hasOwnProperty.call(e,t),NR=(e,t,n=rv(e))=>n===2?e.get(t):e[t],dx=(e,t,n,r=rv(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function xze(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var cS=Array.isArray,uS=e=>e instanceof Map,dS=e=>e instanceof Set,CM=e=>typeof e=="object",sf=e=>typeof e=="function",iA=e=>typeof e=="boolean",Na=e=>e.copy_||e.base_,AM=e=>e.modified_?e.copy_:e.base_;function MR(e,t){if(uS(e))return new Map(e);if(dS(e))return new Set(e);if(cS(e))return Array[lS].slice.call(e);const n=pX(e);if(t===!0||t==="class_only"&&!n){const r=Qi.getOwnPropertyDescriptors(e);delete r[ii];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[mb]===!1&&(a[mb]=!0,a[PR]=!0),(a.get||a.set)&&(r[o]={[PR]:!0,[mb]:!0,[ux]:a[ux],[Jm]:e[o]})}return Qi.create(Kf(e),r)}else{const r=Kf(e);if(r!==null&&n)return{...e};const i=Qi.create(r);return Qi.assign(i,e)}}function TM(e,t=!1){return fS(e)||Xa(e)||!oo(e)||(rv(e)>1&&Qi.defineProperties(e,{set:D0,add:D0,clear:D0,delete:D0}),Qi.freeze(e),t&&nv(e,(n,r)=>{TM(r,!0)},!1)),e}function wze(){Ys(2)}var D0={[Jm]:wze};function fS(e){return e===null||!CM(e)?!0:Qi.isFrozen(e)}var fx="MapSet",OR="Patches",mX={};function Yf(e){const t=mX[e];return t||Ys(0,e),t}var Sze=e=>!!mX[e],eg,gX=()=>eg,Eze=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sze(fx)?Yf(fx):void 0});function hH(e,t){t&&(e.patchPlugin_=Yf(OR),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DR(e){IR(e),e.drafts_.forEach(_ze),e.drafts_=null}function IR(e){e===eg&&(eg=e.parent_)}var pH=e=>eg=Eze(eg,e);function _ze(e){const t=e[ii];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mH(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ii].modified_&&(DR(t),Ys(4)),oo(e)&&(e=gH(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ii].base_,e,t)}else e=gH(t,n);return Cze(t,e,!0),DR(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hX?e:void 0}function gH(e,t){if(fS(t))return t;const n=t[ii];if(!n)return RM(t,e.handledSet_,e);if(!hS(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);bX(n,e)}return n.copy_}function Cze(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&TM(t,n)}function vX(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hS=(e,t)=>e.scope_===t,Aze=[];function yX(e,t,n,r){const i=Na(e),s=e.type_;if(r!==void 0&&NR(i,r,s)===t){dx(i,r,n,s);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;nv(i,(l,c)=>{if(Xa(c)){const d=a.get(c)||[];d.push(l),a.set(c,d)}})}const o=e.draftLocations_.get(t)??Aze;for(const a of o)dx(i,a,n,s)}function Tze(e,t,n){e.callbacks_.push(function(i){const s=t;if(!s||!hS(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const o=AM(s);yX(e,s.draft_??s,o,n),bX(s,i)})}function bX(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}vX(e)}}function Rze(e,t,n){const{scope_:r}=e;if(Xa(n)){const i=n[ii];hS(i,r)&&i.callbacks_.push(function(){gb(e);const o=AM(i);yX(e,n,o,t)})}else oo(n)&&e.callbacks_.push(function(){const s=Na(e);NR(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&RM(NR(e.copy_,t,e.type_),r.handledSet_,r)})}function RM(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Xa(e)||t.has(e)||!oo(e)||fS(e)||(t.add(e),nv(e,(r,i)=>{if(Xa(i)){const s=i[ii];if(hS(s,n)){const o=AM(s);dx(e,r,o,e.type_),vX(s)}}else oo(i)&&RM(i,t,n)})),e}function kze(e,t){const n=cS(e),r={type_:n?1:0,scope_:t?t.scope_:gX(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=kM;n&&(i=[r],s=tg);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var kM={get(e,t){if(t===ii)return e;const n=Na(e);if(!fH(n,t,e.type_))return Pze(e,n,t);const r=n[t];if(e.finalized_||!oo(r))return r;if(r===sA(e.base_,t)){gb(e);const i=e.type_===1?+t:t,s=LR(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in Na(e)},ownKeys(e){return Reflect.ownKeys(Na(e))},set(e,t,n){const r=xX(Na(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=sA(Na(e),t),s=i?.[ii];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(xze(n,i)&&(n!==void 0||fH(e.base_,t,e.type_)))return!0;gb(e),jR(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Rze(e,t,n)),!0},deleteProperty(e,t){return gb(e),sA(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),jR(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Na(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[mb]:!0,[PR]:e.type_!==1||t!=="length",[ux]:r[ux],[Jm]:n[t]}},defineProperty(){Ys(11)},getPrototypeOf(e){return Kf(e.base_)},setPrototypeOf(){Ys(12)}},tg={};nv(kM,(e,t)=>{tg[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});tg.deleteProperty=function(e,t){return tg.set.call(this,e,t,void 0)};tg.set=function(e,t,n){return kM.set.call(this,e[0],t,n,e[0])};function sA(e,t){const n=e[ii];return(n?Na(n):e)[t]}function Pze(e,t,n){const r=xX(t,n);return r?Jm in r?r[Jm]:r.get?.call(e.draft_):void 0}function xX(e,t){if(!(t in e))return;let n=Kf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Kf(n)}}function jR(e){e.modified_||(e.modified_=!0,e.parent_&&jR(e.parent_))}function gb(e){e.copy_||(e.assigned_=new Map,e.copy_=MR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nze=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(sf(n)&&!sf(r)){const o=r;r=n;const a=this;return function(c=o,...d){return a.produce(c,f=>r.call(this,f,...d))}}sf(r)||Ys(6),i!==void 0&&!sf(i)&&Ys(7);let s;if(oo(n)){const o=pH(this),a=LR(o,n,void 0);let l=!0;try{s=r(a),l=!1}finally{l?DR(o):IR(o)}return hH(o,i),mH(s,o)}else if(!n||!CM(n)){if(s=r(n),s===void 0&&(s=n),s===hX&&(s=void 0),this.autoFreeze_&&TM(s,!0),i){const o=[],a=[];Yf(OR).generateReplacementPatches_(n,s,{patches_:o,inversePatches_:a}),i(o,a)}return s}else Ys(1,n)},this.produceWithPatches=(n,r)=>{if(sf(n))return(a,...l)=>this.produceWithPatches(a,c=>n(c,...l));let i,s;return[this.produce(n,r,(a,l)=>{i=a,s=l}),i,s]},iA(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),iA(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),iA(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){oo(t)||Ys(8),Xa(t)&&(t=to(t));const n=pH(this),r=LR(n,t,void 0);return r[ii].isManual_=!0,IR(n),r}finishDraft(t,n){const r=t&&t[ii];(!r||!r.isManual_)&&Ys(9);const{scope_:i}=r;return hH(i,n),mH(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Yf(OR).applyPatches_;return Xa(t)?i(t,n):this.produce(t,s=>i(s,n))}};function LR(e,t,n,r){const[i,s]=uS(t)?Yf(fx).proxyMap_(t,n):dS(t)?Yf(fx).proxySet_(t,n):kze(t,n);return(n?.scope_??gX()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Tze(n,s,r):s.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function to(e){return Xa(e)||Ys(10,e),wX(e)}function wX(e){if(!oo(e)||fS(e))return e;const t=e[ii];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=MR(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=MR(e,!0);return nv(n,(i,s)=>{dx(n,i,wX(s))},r),t&&(t.finalized_=!1),n}var Mze=new Nze,SX=Mze.produce;function EX(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Oze=EX(),Dze=EX,Ize=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lx:lx.apply(null,arguments)};function Ns(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ts(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>fX(r)&&r.type===e,n}var _X=class Qp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qp.prototype)}static get[Symbol.species](){return Qp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qp(...t[0].concat(this)):new Qp(...t.concat(this))}};function vH(e){return oo(e)?SX(e,()=>{}):e}function I0(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function jze(e){return typeof e=="boolean"}var Lze=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new _X;return n&&(jze(n)?o.push(Oze):o.push(Dze(n.extraArgument))),o},CX="RTK_autoBatch",gn=()=>e=>({payload:e,meta:{[CX]:!0}}),yH=e=>t=>{setTimeout(t,e)},AX=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yH(10):e.type==="callback"?e.queueNotification:yH(e.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),p=r.subscribe(f);return a.add(d),()=>{p(),a.delete(d)}},dispatch(d){try{return i=!d?.meta?.[CX],s=!i,s&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},zze=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new _X(e);return r&&i.push(AX(typeof r=="object"?r:void 0)),i};function Fze(e){const t=Lze(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(_M(n))a=dX(n);else throw new Error(ts(1));let l;typeof r=="function"?l=r(t):l=t();let c=lx;i&&(c=Ize({trace:!1,...typeof i=="object"&&i}));const d=yze(...l),f=zze(d);let p=typeof o=="function"?o(f):f();const g=c(...p);return uX(a,s,g)}function TX(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ts(28));if(a in t)throw new Error(ts(29));return t[a]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function $ze(e){return typeof e=="function"}function Hze(e,t){let[n,r,i]=TX(t),s;if($ze(e))s=()=>vH(e());else{const a=vH(e);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Xa(d)){const g=f(d,l);return g===void 0?d:g}else{if(oo(d))return SX(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},a)}return o.getInitialState=s,o}var Bze="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Uze=(e=21)=>{let t="",n=e;for(;n--;)t+=Bze[Math.random()*64|0];return t},Vze=Symbol.for("rtk-slice-createasyncthunk");function qze(e,t){return`${e}/${t}`}function Wze({creators:e}={}){const t=e?.asyncThunk?.[Vze];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(ts(11));const o=(typeof r.reducers=="function"?r.reducers(Kze()):r.reducers)||{},a=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,k){const R=typeof _=="string"?_:_.type;if(!R)throw new Error(ts(12));if(R in l.sliceCaseReducersByType)throw new Error(ts(13));return l.sliceCaseReducersByType[R]=k,c},addMatcher(_,k){return l.sliceMatchers.push({matcher:_,reducer:k}),c},exposeAction(_,k){return l.actionCreators[_]=k,c},exposeCaseReducer(_,k){return l.sliceCaseReducersByName[_]=k,c}};a.forEach(_=>{const k=o[_],R={reducerName:_,type:qze(i,_),createNotation:typeof r.reducers=="function"};Xze(k)?Qze(R,k,c,t):Yze(R,k,c)});function d(){const[_={},k=[],R=void 0]=typeof r.extraReducers=="function"?TX(r.extraReducers):[r.extraReducers],N={..._,...l.sliceCaseReducersByType};return Hze(r.initialState,T=>{for(let M in N)T.addCase(M,N[M]);for(let M of l.sliceMatchers)T.addMatcher(M.matcher,M.reducer);for(let M of k)T.addMatcher(M.matcher,M.reducer);R&&T.addDefaultCase(R)})}const f=_=>_,p=new Map,g=new WeakMap;let v;function b(_,k){return v||(v=d()),v(_,k)}function w(){return v||(v=d()),v.getInitialState()}function S(_,k=!1){function R(T){let M=T[_];return typeof M>"u"&&k&&(M=I0(g,R,w)),M}function N(T=f){const M=I0(p,k,()=>new WeakMap);return I0(M,T,()=>{const O={};for(const[L,D]of Object.entries(r.selectors??{}))O[L]=Gze(D,T,()=>I0(g,T,w),k);return O})}return{reducerPath:_,getSelectors:N,get selectors(){return N(R)},selectSlice:R}}const C={name:i,reducer:b,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...S(s),injectInto(_,{reducerPath:k,...R}={}){const N=k??s;return _.inject({reducerPath:N,reducer:b},R),{...C,...S(N,!0)}}};return C}}function Gze(e,t,n,r){function i(s,...o){let a=t(s);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var ji=Wze();function Kze(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Yze({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Zze(r))throw new Error(ts(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Ns(e,o):Ns(e))}function Xze(e){return e._reducerDefinitionType==="asyncThunk"}function Zze(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Qze({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ts(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,f=i(e,s,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||j0,pending:a||j0,rejected:l||j0,settled:c||j0})}function j0(){}var Jze="task",RX="listener",kX="completed",PM="cancelled",eFe=`task-${PM}`,tFe=`task-${kX}`,zR=`${RX}-${PM}`,nFe=`${RX}-${kX}`,pS=class{constructor(e){this.code=e,this.message=`${Jze} ${PM} (reason: ${e})`}name="TaskAbortError";message},NM=(e,t)=>{if(typeof e!="function")throw new TypeError(ts(32))},hx=()=>{},PX=(e,t=hx)=>(e.catch(t),e),NX=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wu=e=>{if(e.aborted)throw new pS(e.reason)};function MX(e,t){let n=hx;return new Promise((r,i)=>{const s=()=>i(new pS(e.reason));if(e.aborted){s();return}n=NX(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=hx})}var rFe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof pS?"cancelled":"rejected",error:n}}finally{t?.()}},px=e=>t=>PX(MX(e,t).then(n=>(wu(e),n))),OX=e=>{const t=px(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Rf}=Object,bH={},mS="listenerMiddleware",iFe=(e,t)=>{const n=r=>NX(e,()=>r.abort(e.reason));return(r,i)=>{NM(r);const s=new AbortController;n(s);const o=rFe(async()=>{wu(e),wu(s.signal);const a=await r({pause:px(s.signal),delay:OX(s.signal),signal:s.signal});return wu(s.signal),a},()=>s.abort(tFe));return i?.autoJoin&&t.push(o.catch(hx)),{result:px(e)(o),cancel(){s.abort(eFe)}}}},sFe=(e,t)=>{const n=async(r,i)=>{wu(t);let s=()=>{};const a=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});s=()=>{d(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await MX(t,Promise.race(a));return wu(t),l}finally{s()}};return(r,i)=>PX(n(r,i))},DX=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Ns(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ts(21));return NM(s),{predicate:i,type:t,effect:s}},IX=Rf(e=>{const{type:t,predicate:n,effect:r}=DX(e);return{id:Uze(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ts(22))}}},{withTypes:()=>IX}),xH=(e,t)=>{const{type:n,effect:r,predicate:i}=DX(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},FR=e=>{e.pending.forEach(t=>{t.abort(zR)})},oFe=(e,t)=>()=>{for(const n of t.keys())FR(n);e.clear()},wH=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},jX=Rf(Ns(`${mS}/add`),{withTypes:()=>jX}),aFe=Ns(`${mS}/removeAll`),LX=Rf(Ns(`${mS}/remove`),{withTypes:()=>LX}),lFe=(...e)=>{console.error(`${mS}/error`,...e)},iv=(e={})=>{const t=new Map,n=new Map,r=g=>{const v=n.get(g)??0;n.set(g,v+1)},i=g=>{const v=n.get(g)??1;v===1?n.delete(g):n.set(g,v-1)},{extra:s,onError:o=lFe}=e;NM(o);const a=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),v=>{g.unsubscribe(),v?.cancelActive&&FR(g)}),l=g=>{const v=xH(t,g)??IX(g);return a(v)};Rf(l,{withTypes:()=>l});const c=g=>{const v=xH(t,g);return v&&(v.unsubscribe(),g.cancelActive&&FR(v)),!!v};Rf(c,{withTypes:()=>c});const d=async(g,v,b,w)=>{const S=new AbortController,C=sFe(l,S.signal),_=[];try{g.pending.add(S),r(g),await Promise.resolve(g.effect(v,Rf({},b,{getOriginalState:w,condition:(k,R)=>C(k,R).then(Boolean),take:C,delay:OX(S.signal),pause:px(S.signal),extra:s,signal:S.signal,fork:iFe(S.signal,_),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((k,R,N)=>{k!==S&&(k.abort(zR),N.delete(k))})},cancel:()=>{S.abort(zR),g.pending.delete(S)},throwIfCancelled:()=>{wu(S.signal)}})))}catch(k){k instanceof pS||wH(o,k,{raisedBy:"effect"})}finally{await Promise.all(_),S.abort(nFe),i(g),g.pending.delete(S)}},f=oFe(t,n);return{middleware:g=>v=>b=>{if(!fX(b))return v(b);if(jX.match(b))return l(b.payload);if(aFe.match(b)){f();return}if(LX.match(b))return c(b.payload);let w=g.getState();const S=()=>{if(w===bH)throw new Error(ts(23));return w};let C;try{if(C=v(b),t.size>0){const _=g.getState(),k=Array.from(t.values());for(const R of k){let N=!1;try{N=R.predicate(b,_,w)}catch(T){N=!1,wH(o,T,{raisedBy:"predicate"})}N&&d(R,b,g,S)}}}finally{w=bH}return C},startListening:l,stopListening:c,clearListeners:f}};function ts(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cFe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zX=ji({name:"chartLayout",initialState:cFe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:uFe,setLayout:dFe,setChartSize:fFe,setScale:hFe}=zX.actions,pFe=zX.reducer;function FX(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Er(e){return Number.isFinite(e)}function pc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function SH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SH(Object(n),!0).forEach(function(r){mFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mFe(e,t,n){return(t=gFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gFe(e){var t=vFe(e,"string");return typeof t=="symbol"?t:t+""}function vFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sr(e,t,n){return Mi(e)||Mi(t)?n:Zm(t)?eX(e,t,n):typeof t=="function"?t(e):n}var yFe=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:a}=t;if((a==="vertical"||a==="horizontal"&&o==="middle")&&s!=="center"&&Qt(e[s]))return mf(mf({},e),{},{[s]:e[s]+(r||0)});if((a==="horizontal"||a==="vertical"&&s==="center")&&o!=="middle"&&Qt(e[o]))return mf(mf({},e),{},{[o]:e[o]+(i||0)})}return e},_c=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",EH=1e-4,bFe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-EH,s=Math.max(r[0],r[1])+EH,o=e(t[0]),a=e(t[n-1]);(o<i||o>s||a<i||a>s)&&e.domain([t[0],t[n-1]])}},xFe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0,a=0;a<n;++a){var l=e[a],c=l?.[i];if(c!=null){var d=c[1],f=c[0],p=Ka(d)?f:d;p>=0?(c[0]=s,c[1]=s+p,s=d):(c[0]=o,c[1]=o+p,o=d)}}}},wFe=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,o=0;o<n;++o){var a=e[o],l=a?.[i];if(l!=null){var c=Ka(l[1])?l[0]:l[1];c>=0?(l[0]=s,l[1]=s+c,s=l[1]):(l[0]=0,l[1]=0)}}}},SFe={sign:xFe,expand:ELe,none:ju,silhouette:_Le,wiggle:CLe,positive:wFe},EFe=(e,t,n)=>{var r,i=(r=SFe[n])!==null&&r!==void 0?r:ju,s=SLe().keys(t).value((a,l)=>Number(Sr(a,l,0))).order(kR).offset(i),o=s(e);return o.forEach((a,l)=>{a.forEach((c,d)=>{var f=Sr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Qt(f[0])&&Qt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o},_Fe=e=>{var t=e.flat(2).filter(Qt);return[Math.min(...t),Math.max(...t)]},CFe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],AFe=(e,t,n)=>{if(e!=null)return CFe(Object.keys(e).reduce((r,i)=>{var s=e[i];if(!s)return r;var{stackedData:o}=s,a=o.reduce((l,c)=>{var d=FX(c,t,n),f=_Fe(d);return!Er(f[0])||!Er(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},_H=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AH=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var i=EM(t,d=>d.coordinate),s=1/0,o=1,a=i.length;o<a;o++){var l=i[o],c=i[o-1];s=Math.min((l?.coordinate||0)-(c?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function TH(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return mf(mf({},t),{},{dataKey:n,payload:r,value:i,name:s})}function $X(e,t){if(e)return String(e);if(typeof t=="string")return t}var TFe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},RFe=(e,t)=>t==="centric"?e.angle:e.radius,il=e=>e.layout.width,sl=e=>e.layout.height,kFe=e=>e.layout.scale,HX=e=>e.layout.margin,gS=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vS=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),PFe="data-recharts-item-index",NFe="data-recharts-item-id",sv=60;function RH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function L0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RH(Object(n),!0).forEach(function(r){MFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MFe(e,t,n){return(t=OFe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OFe(e){var t=DFe(e,"string");return typeof t=="symbol"?t:t+""}function DFe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IFe=e=>e.brush.height;function jFe(e){var t=vS(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sv;return n+i}return n},0)}function LFe(e){var t=vS(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sv;return n+i}return n},0)}function zFe(e){var t=gS(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function FFe(e){var t=gS(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Jr=ce([il,sl,HX,IFe,jFe,LFe,zFe,FFe,cX,hze],(e,t,n,r,i,s,o,a,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+a},p=L0(L0({},f),d),g=p.bottom;p.bottom+=r,p=yFe(p,l,c);var v=e-p.left-p.right,b=t-p.top-p.bottom;return L0(L0({brushBottom:g},p),{},{width:Math.max(v,0),height:Math.max(b,0)})}),$Fe=ce(Jr,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ce(il,sl,(e,t)=>({x:0,y:0,width:e,height:t}));var HFe=x.createContext(null),ea=()=>x.useContext(HFe)!=null,yS=e=>e.brush,bS=ce([yS,Jr,HX],(e,t,n)=>({height:e.height,x:Qt(e.x)?e.x:t.left,y:Qt(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Qt(e.width)?e.width:t.width})),oA={},aA={},lA={},kH;function BFe(){return kH||(kH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,a=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{a!==null&&(n.apply(o,a),o=void 0,a=null)},f=()=>{c&&d(),b()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},v=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{v(),o=void 0,a=null},w=()=>{d()},S=function(...C){if(i?.aborted)return;o=this,a=C;const _=p==null;g(),l&&_&&d()};return S.schedule=g,S.cancel=b,S.flush=w,i?.addEventListener("abort",b,{once:!0}),S}e.debounce=t})(lA)),lA}var PH;function UFe(){return PH||(PH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BFe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:a=!0,maxWait:l}=s,c=Array(2);o&&(c[0]="leading"),a&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...b){d=r.apply(this,b),f=null},i,{edges:c}),g=function(...b){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,b),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,b),d)},v=()=>(p.flush(),d);return g.cancel=p.cancel,g.flush=v,g}e.debounce=n})(aA)),aA}var NH;function VFe(){return NH||(NH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UFe();function n(r,i=0,s={}){const{leading:o=!0,trailing:a=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:a})}e.throttle=n})(oA)),oA}var cA,MH;function qFe(){return MH||(MH=1,cA=VFe().throttle),cA}var WFe=qFe();const GFe=Di(WFe);var OH=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},BX=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:o}=n,a=Ya(r)?e:Number(r),l=Ya(i)?t:Number(i);return s&&s>0&&(a?l=a/s:l&&(a=l*s),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:a,calculatedHeight:l}},KFe={width:0,height:0,overflow:"visible"},YFe={width:0,overflowX:"visible"},XFe={height:0,overflowY:"visible"},ZFe={},QFe=e=>{var{width:t,height:n}=e,r=Ya(t),i=Ya(n);return r&&i?KFe:r?YFe:i?XFe:ZFe};function JFe(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function $R(){return $R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$R.apply(null,arguments)}function DH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DH(Object(n),!0).forEach(function(r){e5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e5e(e,t,n){return(t=t5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t5e(e){var t=n5e(e,"string");return typeof t=="symbol"?t:t+""}function n5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UX=x.createContext({width:-1,height:-1});function r5e(e){return pc(e.width)&&pc(e.height)}function VX(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return r5e(i)?x.createElement(UX.Provider,{value:i},t):null}var MM=()=>x.useContext(UX),i5e=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:a,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:g,style:v={}}=e,b=x.useRef(null),w=x.useRef();w.current=g,x.useImperativeHandle(t,()=>b.current);var[S,C]=x.useState({containerWidth:r.width,containerHeight:r.height}),_=x.useCallback((M,O)=>{C(L=>{var D=Math.round(M),F=Math.round(O);return L.containerWidth===D&&L.containerHeight===F?L:{containerWidth:D,containerHeight:F}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return tv;var M=F=>{var G,{width:z,height:V}=F[0].contentRect;_(z,V),(G=w.current)===null||G===void 0||G.call(w,z,V)};d>0&&(M=GFe(M,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(M),{width:L,height:D}=b.current.getBoundingClientRect();return _(L,D),O.observe(b.current),()=>{O.disconnect()}},[_,d]);var{containerWidth:k,containerHeight:R}=S;OH(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:T}=BX(k,R,{width:i,height:s,aspect:n,maxHeight:l});return OH(N!=null&&N>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,T,i,s,o,a,n),x.createElement("div",{id:f?"".concat(f):void 0,className:Ir("recharts-responsive-container",p),style:IH(IH({},v),{},{width:i,height:s,minWidth:o,minHeight:a,maxHeight:l}),ref:b},x.createElement("div",{style:QFe({width:i,height:s})},x.createElement(VX,{width:N,height:T},c)))}),s5e=x.forwardRef((e,t)=>{var n=MM();if(pc(n.width)&&pc(n.height))return e.children;var{width:r,height:i}=JFe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=BX(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Qt(s)&&Qt(o)?x.createElement(VX,{width:s,height:o},e.children):x.createElement(i5e,$R({},e,{width:r,height:i,ref:t}))});function qX(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var WX=()=>{var e,t=ea(),n=It($Fe),r=It(bS),i=(e=It(yS))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},o5e=()=>It(il),a5e=()=>It(sl),zt=e=>e.layout.layoutType,GX=()=>It(zt),l5e=()=>{var e=GX();return e!==void 0},xS=e=>{var t=Qr(),n=ea(),{width:r,height:i}=e,s=MM(),o=r,a=i;return s&&(o=s.width>0?s.width:r,a=s.height>0?s.height:i),x.useEffect(()=>{!n&&pc(o)&&pc(a)&&t(fFe({width:o,height:a}))},[t,n,o,a]),null},KX=Symbol.for("immer-nothing"),jH=Symbol.for("immer-draftable"),rs=Symbol.for("immer-state");function Xs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ng=Object.getPrototypeOf;function Xf(e){return!!e&&!!e[rs]}function zu(e){return e?YX(e)||Array.isArray(e)||!!e[jH]||!!e.constructor?.[jH]||ov(e)||SS(e):!1}var c5e=Object.prototype.constructor.toString(),LH=new WeakMap;function YX(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=LH.get(n);return r===void 0&&(r=Function.toString.call(n),LH.set(n,r)),r===c5e}function mx(e,t,n=!0){wS(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function wS(e){const t=e[rs];return t?t.type_:Array.isArray(e)?1:ov(e)?2:SS(e)?3:0}function HR(e,t){return wS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function XX(e,t,n){const r=wS(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function u5e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ov(e){return e instanceof Map}function SS(e){return e instanceof Set}function ru(e){return e.copy_||e.base_}function BR(e,t){if(ov(e))return new Map(e);if(SS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=YX(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[rs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(ng(e),r)}else{const r=ng(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function OM(e,t=!1){return ES(e)||Xf(e)||!zu(e)||(wS(e)>1&&Object.defineProperties(e,{set:z0,add:z0,clear:z0,delete:z0}),Object.freeze(e),t&&Object.values(e).forEach(n=>OM(n,!0))),e}function d5e(){Xs(2)}var z0={value:d5e};function ES(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var f5e={};function Fu(e){const t=f5e[e];return t||Xs(0,e),t}var rg;function ZX(){return rg}function h5e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zH(e,t){t&&(Fu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function UR(e){VR(e),e.drafts_.forEach(p5e),e.drafts_=null}function VR(e){e===rg&&(rg=e.parent_)}function FH(e){return rg=h5e(rg,e)}function p5e(e){const t=e[rs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $H(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[rs].modified_&&(UR(t),Xs(4)),zu(e)&&(e=gx(t,e),t.parent_||vx(t,e)),t.patches_&&Fu("Patches").generateReplacementPatches_(n[rs].base_,e,t.patches_,t.inversePatches_)):e=gx(t,n,[]),UR(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==KX?e:void 0}function gx(e,t,n){if(ES(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[rs];if(!i)return mx(t,(s,o)=>HH(e,i,t,s,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return vx(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,a=!1;i.type_===3&&(o=new Set(s),s.clear(),a=!0),mx(o,(l,c)=>HH(e,i,s,l,c,n,a),r),vx(e,s,!1),n&&e.patches_&&Fu("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function HH(e,t,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const a=ES(i);if(!(a&&!o)){if(Xf(i)){const l=s&&t&&t.type_!==3&&!HR(t.assigned_,r)?s.concat(r):void 0,c=gx(e,i,l);if(XX(n,r,c),Xf(c))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(zu(i)&&!a){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&a)return;gx(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(ov(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&vx(e,i)}}}function vx(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&OM(t,n)}function m5e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ZX(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=DM;n&&(i=[r],s=ig);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var DM={get(e,t){if(t===rs)return e;const n=ru(e);if(!HR(n,t))return g5e(e,n,t);const r=n[t];return e.finalized_||!zu(r)?r:r===uA(e.base_,t)?(dA(e),e.copy_[t]=WR(r,e)):r},has(e,t){return t in ru(e)},ownKeys(e){return Reflect.ownKeys(ru(e))},set(e,t,n){const r=QX(ru(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=uA(ru(e),t),s=i?.[rs];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(u5e(n,i)&&(n!==void 0||HR(e.base_,t)))return!0;dA(e),qR(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return uA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dA(e),qR(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ru(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Xs(11)},getPrototypeOf(e){return ng(e.base_)},setPrototypeOf(){Xs(12)}},ig={};mx(DM,(e,t)=>{ig[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ig.deleteProperty=function(e,t){return ig.set.call(this,e,t,void 0)};ig.set=function(e,t,n){return DM.set.call(this,e[0],t,n,e[0])};function uA(e,t){const n=e[rs];return(n?ru(n):e)[t]}function g5e(e,t,n){const r=QX(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function QX(e,t){if(!(t in e))return;let n=ng(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ng(n)}}function qR(e){e.modified_||(e.modified_=!0,e.parent_&&qR(e.parent_))}function dA(e){e.copy_||(e.copy_=BR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var v5e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Xs(6),r!==void 0&&typeof r!="function"&&Xs(7);let i;if(zu(t)){const s=FH(this),o=WR(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?UR(s):VR(s)}return zH(s,r),$H(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===KX&&(i=void 0),this.autoFreeze_&&OM(i,!0),r){const s=[],o=[];Fu("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Xs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){zu(e)||Xs(8),Xf(e)&&(e=y5e(e));const t=FH(this),n=WR(e,void 0);return n[rs].isManual_=!0,VR(t),n}finishDraft(e,t){const n=e&&e[rs];(!n||!n.isManual_)&&Xs(9);const{scope_:r}=n;return zH(r,t),$H(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Fu("Patches").applyPatches_;return Xf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function WR(e,t){const n=ov(e)?Fu("MapSet").proxyMap_(e,t):SS(e)?Fu("MapSet").proxySet_(e,t):m5e(e,t);return(t?t.scope_:ZX()).drafts_.push(n),n}function y5e(e){return Xf(e)||Xs(10,e),JX(e)}function JX(e){if(!zu(e)||ES(e))return e;const t=e[rs];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=BR(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=BR(e,!0);return mx(n,(i,s)=>{XX(n,i,JX(s))},r),t&&(t.finalized_=!1),n}var b5e=new v5e;b5e.produce;var x5e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eZ=ji({name:"legend",initialState:x5e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:gn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=to(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:gn()},removeLegendPayload:{reducer(e,t){var n=to(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:gn()}}}),{setLegendSize:j7e,setLegendSettings:L7e,addLegendPayload:w5e,replaceLegendPayload:S5e,removeLegendPayload:E5e}=eZ.actions,_5e=eZ.reducer,C5e=()=>{var e;return(e=It(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function BH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BH(Object(n),!0).forEach(function(r){A5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A5e(e,t,n){return(t=T5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T5e(e){var t=R5e(e,"string");return typeof t=="symbol"?t:t+""}function R5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k5e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),sg=(e,t)=>Object.keys(t).reduce((n,r)=>UH(UH({},n),{},{[r]:e(r,t[r])}),{});function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VH(Object(n),!0).forEach(function(r){P5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P5e(e,t,n){return(t=N5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N5e(e){var t=M5e(e,"string");return typeof t=="symbol"?t:t+""}function M5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yx=(e,t,n)=>e+(t-e)*n,GR=e=>{var{from:t,to:n}=e;return t!==n},tZ=(e,t,n)=>{var r=sg((i,s)=>{if(GR(s)){var[o,a]=e(s.from,s.to,s.velocity);return hr(hr({},s),{},{from:o,velocity:a})}return s},t);return n<1?sg((i,s)=>GR(s)&&r[i]!=null?hr(hr({},s),{},{velocity:yx(s.velocity,r[i].velocity,n),from:yx(s.from,r[i].from,n)}):s,t):tZ(e,r,n-1)};function O5e(e,t,n,r,i,s){var o,a=r.reduce((p,g)=>hr(hr({},p),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),l=()=>sg((p,g)=>g.from,a),c=()=>!Object.values(a).filter(GR).length,d=null,f=p=>{o||(o=p);var g=p-o,v=g/n.dt;a=tZ(n,a,v),i(hr(hr(hr({},e),t),l())),o=p,c()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function D5e(e,t,n,r,i,s,o){var a=null,l=i.reduce((f,p)=>{var g=e[p],v=t[p];return g==null||v==null?f:hr(hr({},f),{},{[p]:[g,v]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,g=sg((b,w)=>yx(...w,n(p)),l);if(s(hr(hr(hr({},e),t),g)),p<1)a=o.setTimeout(d);else{var v=sg((b,w)=>yx(...w,n(1)),l);s(hr(hr(hr({},e),t),v))}};return()=>(a=o.setTimeout(d),()=>{var f;(f=a)===null||f===void 0||f()})}const I5e=(e,t,n,r,i,s)=>{var o=k5e(e,t);return n==null?()=>(i(hr(hr({},e),t)),()=>{}):n.isStepper===!0?O5e(e,t,n,o,i,s):D5e(e,t,n,r,o,i,s)};var bx=1e-4,nZ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rZ=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),qH=(e,t)=>n=>{var r=nZ(e,t);return rZ(r,n)},j5e=(e,t)=>n=>{var r=nZ(e,t),i=[...r.map((s,o)=>s*o).slice(1),0];return rZ(i,n)},L5e=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},z5e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=L5e(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},F5e=(e,t,n,r)=>{var i=qH(e,n),s=qH(t,r),o=j5e(e,n),a=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var g=i(f)-d,v=o(f);if(Math.abs(g-d)<bx||v<bx)return s(f);f=a(f-g/v)}return s(f)};return l.isStepper=!1,l},WH=function(){return F5e(...z5e(...arguments))},$5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(o,a,l)=>{var c=-(o-a)*n,d=l*r,f=l+(c-d)*i/1e3,p=l*i/1e3+o;return Math.abs(p-a)<bx&&Math.abs(f)<bx?[a,0]:[p,f]};return s.isStepper=!0,s.dt=i,s},H5e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WH(e);case"spring":return $5e();default:if(e.split("(")[0]==="cubic-bezier")return WH(e)}return typeof e=="function"?e:null};function B5e(e){var t,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,[l,...c]=a;if(typeof l=="number"){i=e.setTimeout(s.bind(null,c),l);return}s(l),i=e.setTimeout(s.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class U5e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function V5e(){return B5e(new U5e)}var q5e=x.createContext(V5e);function W5e(e,t){var n=x.useContext(q5e);return x.useMemo(()=>t??n(e),[e,t,n])}var G5e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),IM={isSsr:G5e()},K5e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},GH={t:0},fA={t:1};function Y5e(e){var t=id(e,K5e),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:a,onAnimationStart:l,children:c}=t,d=n==="auto"?!IM.isSsr:n,f=W5e(t.animationId,t.animationManager),[p,g]=x.useState(d?GH:fA),v=x.useRef(null);return x.useEffect(()=>{d||g(fA)},[d]),x.useEffect(()=>{if(!d||!r)return tv;var b=I5e(GH,fA,H5e(s),i,g,f.getTimeoutController()),w=()=>{v.current=b()};return f.start([l,o,w,i,a]),()=>{f.stop(),v.current&&v.current(),a()}},[d,r,i,s,o,l,a,f]),c(p.t)}function X5e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Qm(t)),r=x.useRef(e);return r.current!==e&&(n.current=Qm(t),r.current=e),n.current}function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KH(Object(n),!0).forEach(function(r){Z5e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z5e(e,t,n){return(t=Q5e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q5e(e){var t=J5e(e,"string");return typeof t=="symbol"?t:t+""}function J5e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XH=Math.PI/180,xx=e=>e*Math.PI/180,e3e=e=>e*180/Math.PI,Oi=(e,t,n,r)=>({x:e+Math.cos(-XH*r)*n,y:t+Math.sin(-XH*r)*n}),t3e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},n3e=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},r3e=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,o=n3e({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var a=(n-i)/o,l=Math.acos(a);return r>s&&(l=2*Math.PI-l),{radius:o,angle:e3e(l),angleInRadian:l}},i3e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},s3e=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return e+o*360},o3e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=r3e({x:n,y:r},t),{innerRadius:o,outerRadius:a}=t;if(i<o||i>a||i===0)return null;var{startAngle:l,endAngle:c}=i3e(t),d=s,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?YH(YH({},t),{},{radius:i,angle:s3e(d,t)}):null},a3e=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"",hA={},pA={},mA={},ZH;function l3e(){return ZH||(ZH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(mA)),mA}var QH;function c3e(){return QH||(QH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l3e();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(pA)),pA}var JH;function u3e(){return JH||(JH=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lX(),n=c3e();function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const a=Math.max(Math.ceil((s-i)/(o||1)),0),l=new Array(a);for(let c=0;c<a;c++)l[c]=i,i+=o;return l}e.range=r})(hA)),hA}var gA,eB;function d3e(){return eB||(eB=1,gA=u3e().range),gA}var f3e=d3e();const iZ=Di(f3e);function rc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h3e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jM(e){let t,n,r;e.length!==2?(t=rc,n=(a,l)=>rc(e(a),l),r=(a,l)=>e(a)-l):(t=e===rc||e===h3e?e:p3e,n=e,r=e);function i(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(a[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(a,l,c=0,d=a.length){const f=i(a,l,c,d-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function p3e(){return 0}function sZ(e){return e===null?NaN:+e}function*m3e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const g3e=jM(rc),av=g3e.right;jM(sZ).center;class tB extends Map{constructor(t,n=b3e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(nB(this,t))}has(t){return super.has(nB(this,t))}set(t,n){return super.set(v3e(this,t),n)}delete(t){return super.delete(y3e(this,t))}}function nB({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function v3e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function y3e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function b3e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x3e(e=rc){if(e===rc)return oZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function oZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w3e=Math.sqrt(50),S3e=Math.sqrt(10),E3e=Math.sqrt(2);function wx(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=w3e?10:s>=S3e?5:s>=E3e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?wx(e,t,n*2):[a,l,c]}function KR(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?wx(t,e,n):wx(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function YR(e,t,n){return t=+t,e=+e,n=+n,wx(e,t,n)[2]}function XR(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?YR(t,e,n):YR(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function rB(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function iB(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function aZ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?oZ:x3e(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(t-c*f/l+p)),v=Math.min(r,Math.floor(t+(l-c)*f/l+p));aZ(e,t,g,v,i)}const s=e[t];let o=n,a=r;for($p(e,n,t),i(e[r],s)>0&&$p(e,n,r);o<a;){for($p(e,o,a),++o,--a;i(e[o],s)<0;)++o;for(;i(e[a],s)>0;)--a}i(e[n],s)===0?$p(e,n,a):(++a,$p(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function $p(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _3e(e,t,n){if(e=Float64Array.from(m3e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return iB(e);if(t>=1)return rB(e);var r,i=(r-1)*t,s=Math.floor(i),o=rB(aZ(e,s).subarray(0,s+1)),a=iB(e.subarray(s+1));return o+(a-o)*(i-s)}}function C3e(e,t,n=sZ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),a=+n(e[s+1],s+1,e);return o+(a-o)*(i-s)}}function A3e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function js(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ol(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ZR=Symbol("implicit");function LM(){var e=new tB,t=[],n=[],r=ZR;function i(s){let o=e.get(s);if(o===void 0){if(r!==ZR)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new tB;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return LM(t,n).unknown(r)},js.apply(i,arguments),i}function zM(){var e=LM().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,g=i<r,v=g?i:r,b=g?r:i;s=(b-v)/Math.max(1,p-l+c*2),a&&(s=Math.floor(s)),v+=(b-v-s*(p-l))*d,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var w=A3e(p).map(function(S){return v+s*S});return n(g?w.reverse():w)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(p){return arguments.length?(a=!!p,f()):a},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return zM(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},js.apply(f(),arguments)}function lZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lZ(t())},e}function T3e(){return lZ(zM.apply(null,arguments).paddingInner(1))}function R3e(e){return function(){return e}}function Sx(e){return+e}var sB=[0,1];function ri(e){return e}function QR(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:R3e(isNaN(t)?NaN:.5)}function k3e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function P3e(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=QR(i,r),s=n(o,s)):(r=QR(r,i),s=n(s,o)),function(a){return s(r(a))}}function N3e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=QR(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=av(e,a,1,r)-1;return s[l](i[l](a))}}function lv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _S(){var e=sB,t=sB,n=La,r,i,s,o=ri,a,l,c;function d(){var p=Math.min(e.length,t.length);return o!==ri&&(o=k3e(e[0],e[p-1])),a=p>2?N3e:P3e,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?s:(l||(l=a(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(i((c||(c=a(t,e.map(r),Gs)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Sx),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=eN,d()},f.clamp=function(p){return arguments.length?(o=p?!0:ri,d()):o!==ri},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,g){return r=p,i=g,d()}}function FM(){return _S()(ri,ri)}function M3e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ex(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zf(e){return e=Ex(Math.abs(e)),e?e[1]:NaN}function O3e(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function D3e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var I3e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function og(e){if(!(t=I3e.exec(e)))throw new Error("invalid format: "+e);var t;return new $M({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}og.prototype=$M.prototype;function $M(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j3e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var cZ;function L3e(e,t){var n=Ex(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(cZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ex(e,Math.max(0,t+s-1))[0]}function oB(e,t){var n=Ex(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:M3e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oB(e*100,t),r:oB,s:L3e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lB(e){return e}var cB=Array.prototype.map,uB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function z3e(e){var t=e.grouping===void 0||e.thousands===void 0?lB:O3e(cB.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?lB:D3e(cB.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=og(f);var p=f.fill,g=f.align,v=f.sign,b=f.symbol,w=f.zero,S=f.width,C=f.comma,_=f.precision,k=f.trim,R=f.type;R==="n"?(C=!0,R="g"):aB[R]||(_===void 0&&(_=12),k=!0,R="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var N=b==="$"?n:b==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",T=b==="$"?r:/[%p]/.test(R)?o:"",M=aB[R],O=/[defgprs%]/.test(R);_=_===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function L(D){var F=N,G=T,z,V,j;if(R==="c")G=M(D)+G,D="";else{D=+D;var H=D<0||1/D<0;if(D=isNaN(D)?l:M(Math.abs(D),_),k&&(D=j3e(D)),H&&+D==0&&v!=="+"&&(H=!1),F=(H?v==="("?v:a:v==="-"||v==="("?"":v)+F,G=(R==="s"?uB[8+cZ/3]:"")+G+(H&&v==="("?")":""),O){for(z=-1,V=D.length;++z<V;)if(j=D.charCodeAt(z),48>j||j>57){G=(j===46?i+D.slice(z+1):D.slice(z))+G,D=D.slice(0,z);break}}}C&&!w&&(D=t(D,1/0));var B=F.length+D.length+G.length,K=B<S?new Array(S-B+1).join(p):"";switch(C&&w&&(D=t(K+D,K.length?S-G.length:1/0),K=""),g){case"<":D=F+D+G+K;break;case"=":D=F+K+D+G;break;case"^":D=K.slice(0,B=K.length>>1)+F+D+G+K.slice(B);break;default:D=K+F+D+G;break}return s(D)}return L.toString=function(){return f+""},L}function d(f,p){var g=c((f=og(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Zf(p)/3)))*3,b=Math.pow(10,-v),w=uB[8+v/3];return function(S){return g(b*S)+w}}return{format:c,formatPrefix:d}}var F0,HM,uZ;F3e({thousands:",",grouping:[3],currency:["$",""]});function F3e(e){return F0=z3e(e),HM=F0.format,uZ=F0.formatPrefix,F0}function $3e(e){return Math.max(0,-Zf(Math.abs(e)))}function H3e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zf(t)/3)))*3-Zf(Math.abs(e)))}function B3e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zf(t)-Zf(e))+1}function dZ(e,t,n,r){var i=XR(e,t,n),s;switch(r=og(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=H3e(i,o))&&(r.precision=s),uZ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=B3e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=$3e(i))&&(r.precision=s-(r.type==="%")*2);break}}return HM(r)}function Cc(e){var t=e.domain;return e.ticks=function(n){var r=t();return KR(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return dZ(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=YR(o,a,n),c===l)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function fZ(){var e=FM();return e.copy=function(){return lv(e,fZ())},js.apply(e,arguments),Cc(e)}function hZ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Sx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return hZ(e).unknown(t)},e=arguments.length?Array.from(e,Sx):[0,1],Cc(n)}function pZ(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function dB(e){return Math.log(e)}function fB(e){return Math.exp(e)}function U3e(e){return-Math.log(-e)}function V3e(e){return-Math.exp(-e)}function q3e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function W3e(e){return e===10?q3e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function G3e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hB(e){return(t,n)=>-e(-t,n)}function BM(e){const t=e(dB,fB),n=t.domain;let r=10,i,s;function o(){return i=G3e(r),s=W3e(r),n()[0]<0?(i=hB(i),s=hB(s),e(U3e,V3e)):e(dB,fB),t}return t.base=function(a){return arguments.length?(r=+a,o()):r},t.domain=function(a){return arguments.length?(n(a),o()):n()},t.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=i(c),g=i(d),v,b;const w=a==null?10:+a;let S=[];if(!(r%1)&&g-p<w){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(v=1;v<r;++v)if(b=p<0?v/s(-p):v*s(p),!(b<c)){if(b>d)break;S.push(b)}}else for(;p<=g;++p)for(v=r-1;v>=1;--v)if(b=p>0?v/s(-p):v*s(p),!(b<c)){if(b>d)break;S.push(b)}S.length*2<w&&(S=KR(c,d,w))}else S=KR(p,g,Math.min(g-p,w)).map(s);return f?S.reverse():S},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=og(l)).precision==null&&(l.trim=!0),l=HM(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(pZ(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),t}function mZ(){const e=BM(_S()).domain([1,10]);return e.copy=()=>lv(e,mZ()).base(e.base()),js.apply(e,arguments),e}function pB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UM(e){var t=1,n=e(pB(t),mB(t));return n.constant=function(r){return arguments.length?e(pB(t=+r),mB(t)):t},Cc(n)}function gZ(){var e=UM(_S());return e.copy=function(){return lv(e,gZ()).constant(e.constant())},js.apply(e,arguments)}function gB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function K3e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y3e(e){return e<0?-e*e:e*e}function VM(e){var t=e(ri,ri),n=1;function r(){return n===1?e(ri,ri):n===.5?e(K3e,Y3e):e(gB(n),gB(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Cc(t)}function qM(){var e=VM(_S());return e.copy=function(){return lv(e,qM()).exponent(e.exponent())},js.apply(e,arguments),e}function X3e(){return qM.apply(null,arguments).exponent(.5)}function vB(e){return Math.sign(e)*e*e}function Z3e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vZ(){var e=FM(),t=[0,1],n=!1,r;function i(s){var o=Z3e(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(vB(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Sx)).map(vB)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return vZ(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},js.apply(i,arguments),Cc(i)}function yZ(){var e=[],t=[],n=[],r;function i(){var o=0,a=Math.max(1,t.length);for(n=new Array(a-1);++o<a;)n[o-1]=C3e(e,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:t[av(n,o)]}return s.invertExtent=function(o){var a=t.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let a of o)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(rc),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return yZ().domain(e).range(t).unknown(r)},js.apply(s,arguments)}function bZ(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[av(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return bZ().domain([e,t]).range(i).unknown(s)},js.apply(Cc(o),arguments)}function xZ(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[av(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xZ().domain(e).range(t).unknown(n)},js.apply(i,arguments)}const vA=new Date,yA=new Date;function mr(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),t(s,a),e(s);while(c<s&&s<o);return l},i.filter=s=>mr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!s(o););else for(;--a>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(vA.setTime(+s),yA.setTime(+o),e(vA),e(yA),Math.floor(n(vA,yA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const _x=mr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_x.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):_x);_x.range;const Da=1e3,As=Da*60,Ia=As*60,Za=Ia*24,WM=Za*7,yB=Za*30,bA=Za*365,pu=mr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCSeconds());pu.range;const GM=mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getMinutes());GM.range;const KM=mr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCMinutes());KM.range;const YM=mr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da-e.getMinutes()*As)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getHours());YM.range;const XM=mr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCHours());XM.range;const cv=mr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*As)/Za,e=>e.getDate()-1);cv.range;const CS=mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>e.getUTCDate()-1);CS.range;const wZ=mr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Za,e=>Math.floor(e/Za));wZ.range;function sd(e){return mr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*As)/WM)}const AS=sd(0),Cx=sd(1),Q3e=sd(2),J3e=sd(3),Qf=sd(4),e$e=sd(5),t$e=sd(6);AS.range;Cx.range;Q3e.range;J3e.range;Qf.range;e$e.range;t$e.range;function od(e){return mr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/WM)}const TS=od(0),Ax=od(1),n$e=od(2),r$e=od(3),Jf=od(4),i$e=od(5),s$e=od(6);TS.range;Ax.range;n$e.range;r$e.range;Jf.range;i$e.range;s$e.range;const ZM=mr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ZM.range;const QM=mr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());QM.range;const Qa=mr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Qa.range;const Ja=mr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ja.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ja.range;function SZ(e,t,n,r,i,s){const o=[[pu,1,Da],[pu,5,5*Da],[pu,15,15*Da],[pu,30,30*Da],[s,1,As],[s,5,5*As],[s,15,15*As],[s,30,30*As],[i,1,Ia],[i,3,3*Ia],[i,6,6*Ia],[i,12,12*Ia],[r,1,Za],[r,2,2*Za],[n,1,WM],[t,1,yB],[t,3,3*yB],[e,1,bA]];function a(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const g=f&&typeof f.range=="function"?f:l(c,d,f),v=g?g.range(c,+d+1):[];return p?v.reverse():v}function l(c,d,f){const p=Math.abs(d-c)/f,g=jM(([,,w])=>w).right(o,p);if(g===o.length)return e.every(XR(c/bA,d/bA,f));if(g===0)return _x.every(Math.max(XR(c,d,f),1));const[v,b]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(b)}return[a,l]}const[o$e,a$e]=SZ(Ja,QM,TS,wZ,XM,KM),[l$e,c$e]=SZ(Qa,ZM,AS,cv,YM,GM);function xA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function u$e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,a=e.months,l=e.shortMonths,c=Bp(i),d=Up(i),f=Bp(s),p=Up(s),g=Bp(o),v=Up(o),b=Bp(a),w=Up(a),S=Bp(l),C=Up(l),_={a:H,A:B,b:K,B:U,c:null,d:_B,e:_B,f:O$e,g:U$e,G:q$e,H:P$e,I:N$e,j:M$e,L:EZ,m:D$e,M:I$e,p:q,q:Y,Q:TB,s:RB,S:j$e,u:L$e,U:z$e,V:F$e,w:$$e,W:H$e,x:null,X:null,y:B$e,Y:V$e,Z:W$e,"%":AB},k={a:$,A:J,b:se,B:ue,c:null,d:CB,e:CB,f:X$e,g:oHe,G:lHe,H:G$e,I:K$e,j:Y$e,L:CZ,m:Z$e,M:Q$e,p:ee,q:Z,Q:TB,s:RB,S:J$e,u:eHe,U:tHe,V:nHe,w:rHe,W:iHe,x:null,X:null,y:sHe,Y:aHe,Z:cHe,"%":AB},R={a:L,A:D,b:F,B:G,c:z,d:SB,e:SB,f:A$e,g:wB,G:xB,H:EB,I:EB,j:S$e,L:C$e,m:w$e,M:E$e,p:O,q:x$e,Q:R$e,s:k$e,S:_$e,u:m$e,U:g$e,V:v$e,w:p$e,W:y$e,x:V,X:j,y:wB,Y:xB,Z:b$e,"%":T$e};_.x=N(n,_),_.X=N(r,_),_.c=N(t,_),k.x=N(n,k),k.X=N(r,k),k.c=N(t,k);function N(X,fe){return function(me){var ne=[],we=-1,xe=0,Re=X.length,Ae,Te,We;for(me instanceof Date||(me=new Date(+me));++we<Re;)X.charCodeAt(we)===37&&(ne.push(X.slice(xe,we)),(Te=bB[Ae=X.charAt(++we)])!=null?Ae=X.charAt(++we):Te=Ae==="e"?" ":"0",(We=fe[Ae])&&(Ae=We(me,Te)),ne.push(Ae),xe=we+1);return ne.push(X.slice(xe,we)),ne.join("")}}function T(X,fe){return function(me){var ne=Hp(1900,void 0,1),we=M(ne,X,me+="",0),xe,Re;if(we!=me.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(fe&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(xe=wA(Hp(ne.y,0,1)),Re=xe.getUTCDay(),xe=Re>4||Re===0?Ax.ceil(xe):Ax(xe),xe=CS.offset(xe,(ne.V-1)*7),ne.y=xe.getUTCFullYear(),ne.m=xe.getUTCMonth(),ne.d=xe.getUTCDate()+(ne.w+6)%7):(xe=xA(Hp(ne.y,0,1)),Re=xe.getDay(),xe=Re>4||Re===0?Cx.ceil(xe):Cx(xe),xe=cv.offset(xe,(ne.V-1)*7),ne.y=xe.getFullYear(),ne.m=xe.getMonth(),ne.d=xe.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Re="Z"in ne?wA(Hp(ne.y,0,1)).getUTCDay():xA(Hp(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Re+5)%7:ne.w+ne.U*7-(Re+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,wA(ne)):xA(ne)}}function M(X,fe,me,ne){for(var we=0,xe=fe.length,Re=me.length,Ae,Te;we<xe;){if(ne>=Re)return-1;if(Ae=fe.charCodeAt(we++),Ae===37){if(Ae=fe.charAt(we++),Te=R[Ae in bB?fe.charAt(we++):Ae],!Te||(ne=Te(X,me,ne))<0)return-1}else if(Ae!=me.charCodeAt(ne++))return-1}return ne}function O(X,fe,me){var ne=c.exec(fe.slice(me));return ne?(X.p=d.get(ne[0].toLowerCase()),me+ne[0].length):-1}function L(X,fe,me){var ne=g.exec(fe.slice(me));return ne?(X.w=v.get(ne[0].toLowerCase()),me+ne[0].length):-1}function D(X,fe,me){var ne=f.exec(fe.slice(me));return ne?(X.w=p.get(ne[0].toLowerCase()),me+ne[0].length):-1}function F(X,fe,me){var ne=S.exec(fe.slice(me));return ne?(X.m=C.get(ne[0].toLowerCase()),me+ne[0].length):-1}function G(X,fe,me){var ne=b.exec(fe.slice(me));return ne?(X.m=w.get(ne[0].toLowerCase()),me+ne[0].length):-1}function z(X,fe,me){return M(X,t,fe,me)}function V(X,fe,me){return M(X,n,fe,me)}function j(X,fe,me){return M(X,r,fe,me)}function H(X){return o[X.getDay()]}function B(X){return s[X.getDay()]}function K(X){return l[X.getMonth()]}function U(X){return a[X.getMonth()]}function q(X){return i[+(X.getHours()>=12)]}function Y(X){return 1+~~(X.getMonth()/3)}function $(X){return o[X.getUTCDay()]}function J(X){return s[X.getUTCDay()]}function se(X){return l[X.getUTCMonth()]}function ue(X){return a[X.getUTCMonth()]}function ee(X){return i[+(X.getUTCHours()>=12)]}function Z(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var fe=N(X+="",_);return fe.toString=function(){return X},fe},parse:function(X){var fe=T(X+="",!1);return fe.toString=function(){return X},fe},utcFormat:function(X){var fe=N(X+="",k);return fe.toString=function(){return X},fe},utcParse:function(X){var fe=T(X+="",!0);return fe.toString=function(){return X},fe}}}var bB={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,d$e=/^%/,f$e=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function h$e(e){return e.replace(f$e,"\\$&")}function Bp(e){return new RegExp("^(?:"+e.map(h$e).join("|")+")","i")}function Up(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function p$e(e,t,n){var r=_r.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function m$e(e,t,n){var r=_r.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function g$e(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function v$e(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function y$e(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xB(e,t,n){var r=_r.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wB(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function b$e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function x$e(e,t,n){var r=_r.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function w$e(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function SB(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function S$e(e,t,n){var r=_r.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function EB(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function E$e(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function _$e(e,t,n){var r=_r.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C$e(e,t,n){var r=_r.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function A$e(e,t,n){var r=_r.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function T$e(e,t,n){var r=d$e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function R$e(e,t,n){var r=_r.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function k$e(e,t,n){var r=_r.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function _B(e,t){return Nt(e.getDate(),t,2)}function P$e(e,t){return Nt(e.getHours(),t,2)}function N$e(e,t){return Nt(e.getHours()%12||12,t,2)}function M$e(e,t){return Nt(1+cv.count(Qa(e),e),t,3)}function EZ(e,t){return Nt(e.getMilliseconds(),t,3)}function O$e(e,t){return EZ(e,t)+"000"}function D$e(e,t){return Nt(e.getMonth()+1,t,2)}function I$e(e,t){return Nt(e.getMinutes(),t,2)}function j$e(e,t){return Nt(e.getSeconds(),t,2)}function L$e(e){var t=e.getDay();return t===0?7:t}function z$e(e,t){return Nt(AS.count(Qa(e)-1,e),t,2)}function _Z(e){var t=e.getDay();return t>=4||t===0?Qf(e):Qf.ceil(e)}function F$e(e,t){return e=_Z(e),Nt(Qf.count(Qa(e),e)+(Qa(e).getDay()===4),t,2)}function $$e(e){return e.getDay()}function H$e(e,t){return Nt(Cx.count(Qa(e)-1,e),t,2)}function B$e(e,t){return Nt(e.getFullYear()%100,t,2)}function U$e(e,t){return e=_Z(e),Nt(e.getFullYear()%100,t,2)}function V$e(e,t){return Nt(e.getFullYear()%1e4,t,4)}function q$e(e,t){var n=e.getDay();return e=n>=4||n===0?Qf(e):Qf.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function W$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function CB(e,t){return Nt(e.getUTCDate(),t,2)}function G$e(e,t){return Nt(e.getUTCHours(),t,2)}function K$e(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function Y$e(e,t){return Nt(1+CS.count(Ja(e),e),t,3)}function CZ(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function X$e(e,t){return CZ(e,t)+"000"}function Z$e(e,t){return Nt(e.getUTCMonth()+1,t,2)}function Q$e(e,t){return Nt(e.getUTCMinutes(),t,2)}function J$e(e,t){return Nt(e.getUTCSeconds(),t,2)}function eHe(e){var t=e.getUTCDay();return t===0?7:t}function tHe(e,t){return Nt(TS.count(Ja(e)-1,e),t,2)}function AZ(e){var t=e.getUTCDay();return t>=4||t===0?Jf(e):Jf.ceil(e)}function nHe(e,t){return e=AZ(e),Nt(Jf.count(Ja(e),e)+(Ja(e).getUTCDay()===4),t,2)}function rHe(e){return e.getUTCDay()}function iHe(e,t){return Nt(Ax.count(Ja(e)-1,e),t,2)}function sHe(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function oHe(e,t){return e=AZ(e),Nt(e.getUTCFullYear()%100,t,2)}function aHe(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function lHe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Jf(e):Jf.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function cHe(){return"+0000"}function AB(){return"%"}function TB(e){return+e}function RB(e){return Math.floor(+e/1e3)}var tf,TZ,RZ;uHe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uHe(e){return tf=u$e(e),TZ=tf.format,tf.parse,RZ=tf.utcFormat,tf.utcParse,tf}function dHe(e){return new Date(e)}function fHe(e){return e instanceof Date?+e:+new Date(+e)}function JM(e,t,n,r,i,s,o,a,l,c){var d=FM(),f=d.invert,p=d.domain,g=c(".%L"),v=c(":%S"),b=c("%I:%M"),w=c("%I %p"),S=c("%a %d"),C=c("%b %d"),_=c("%B"),k=c("%Y");function R(N){return(l(N)<N?g:a(N)<N?v:o(N)<N?b:s(N)<N?w:r(N)<N?i(N)<N?S:C:n(N)<N?_:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,fHe)):p().map(dHe)},d.ticks=function(N){var T=p();return e(T[0],T[T.length-1],N??10)},d.tickFormat=function(N,T){return T==null?R:c(T)},d.nice=function(N){var T=p();return(!N||typeof N.range!="function")&&(N=t(T[0],T[T.length-1],N??10)),N?p(pZ(T,N)):d},d.copy=function(){return lv(d,JM(e,t,n,r,i,s,o,a,l,c))},d}function hHe(){return js.apply(JM(l$e,c$e,Qa,ZM,AS,cv,YM,GM,pu,TZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pHe(){return js.apply(JM(o$e,a$e,Ja,QM,TS,CS,XM,KM,pu,RZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RS(){var e=0,t=1,n,r,i,s,o=ri,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(s(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var g,v;return arguments.length?([g,v]=p,o=f(g,v),c):[o(0),o(1)]}}return c.range=d(La),c.rangeRound=d(eN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function Ac(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kZ(){var e=Cc(RS()(ri));return e.copy=function(){return Ac(e,kZ())},ol.apply(e,arguments)}function PZ(){var e=BM(RS()).domain([1,10]);return e.copy=function(){return Ac(e,PZ()).base(e.base())},ol.apply(e,arguments)}function NZ(){var e=UM(RS());return e.copy=function(){return Ac(e,NZ()).constant(e.constant())},ol.apply(e,arguments)}function eO(){var e=VM(RS());return e.copy=function(){return Ac(e,eO()).exponent(e.exponent())},ol.apply(e,arguments)}function mHe(){return eO.apply(null,arguments).exponent(.5)}function MZ(){var e=[],t=ri;function n(r){if(r!=null&&!isNaN(r=+r))return t((av(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(rc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_3e(e,s/r))},n.copy=function(){return MZ(t).domain(e)},ol.apply(n,arguments)}function kS(){var e=0,t=.5,n=1,r=1,i,s,o,a,l,c=ri,d,f=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+d(b))-s)*(r*b<r*s?a:l),c(f?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([e,t,n]=b,i=d(e=+e),s=d(t=+t),o=d(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[e,t,n]},g.clamp=function(b){return arguments.length?(f=!!b,g):f},g.interpolator=function(b){return arguments.length?(c=b,g):c};function v(b){return function(w){var S,C,_;return arguments.length?([S,C,_]=w,c=S1e(b,[S,C,_]),g):[c(0),c(.5),c(1)]}}return g.range=v(La),g.rangeRound=v(eN),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return d=b,i=b(e),s=b(t),o=b(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function OZ(){var e=Cc(kS()(ri));return e.copy=function(){return Ac(e,OZ())},ol.apply(e,arguments)}function DZ(){var e=BM(kS()).domain([.1,1,10]);return e.copy=function(){return Ac(e,DZ()).base(e.base())},ol.apply(e,arguments)}function IZ(){var e=UM(kS());return e.copy=function(){return Ac(e,IZ()).constant(e.constant())},ol.apply(e,arguments)}function tO(){var e=VM(kS());return e.copy=function(){return Ac(e,tO()).exponent(e.exponent())},ol.apply(e,arguments)}function gHe(){return tO.apply(null,arguments).exponent(.5)}const Jp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zM,scaleDiverging:OZ,scaleDivergingLog:DZ,scaleDivergingPow:tO,scaleDivergingSqrt:gHe,scaleDivergingSymlog:IZ,scaleIdentity:hZ,scaleImplicit:ZR,scaleLinear:fZ,scaleLog:mZ,scaleOrdinal:LM,scalePoint:T3e,scalePow:qM,scaleQuantile:yZ,scaleQuantize:bZ,scaleRadial:vZ,scaleSequential:kZ,scaleSequentialLog:PZ,scaleSequentialPow:eO,scaleSequentialQuantile:MZ,scaleSequentialSqrt:mHe,scaleSequentialSymlog:NZ,scaleSqrt:X3e,scaleSymlog:gZ,scaleThreshold:xZ,scaleTime:hHe,scaleUtc:pHe,tickFormat:dZ},Symbol.toStringTag,{value:"Module"}));var Tc=e=>e.chartData,nO=ce([Tc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jZ=(e,t,n,r)=>r?nO(e):Tc(e);function mc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Er(t)&&Er(n))return!0}return!1}function kB(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function LZ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Er(n))i=n;else if(typeof n=="function")return;if(Er(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(mc(o))return o}}function vHe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(mc(r))return kB(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,a;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Qt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&_H.test(i)){var l=_H.exec(i);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t?.[0];if(s==="auto")t!=null&&(a=Math.max(...t));else if(Qt(s))a=s;else if(typeof s=="function")try{t!=null&&(a=s(t?.[1]))}catch{}else if(typeof s=="string"&&CH.test(s)){var d=CH.exec(s);if(d==null||d[1]==null||t==null)a=void 0;else{var f=+d[1];a=t[1]+f}}else a=t?.[1];var p=[o,a];if(mc(p))return t==null?p:kB(p,t,n)}}}var wh=1e9,yHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iO,yn=!0,Ms="[DecimalError] ",Su=Ms+"Invalid argument: ",rO=Ms+"Exponent out of range: ",Sh=Math.floor,iu=Math.pow,bHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xi,br=1e7,cn=7,zZ=9007199254740991,Tx=Sh(zZ/cn),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*cn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(e){return Fa(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,n=t.constructor;return Jt(Fa(t,new n(e),0,1),n.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return er(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xi))throw Error(Ms+"NaN");if(n.s<1)throw Error(Ms+(n.s?"NaN":"-Infinity"));return n.eq(Xi)?new r(0):(yn=!1,t=Fa(ag(n,s),ag(e,s),s),yn=!0,Jt(t,i))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HZ(t,e):FZ(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ms+"NaN");return n.s?(yn=!1,t=Fa(n,e,0,1).times(e),yn=!0,n.minus(t)):Jt(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return $Z(this)};Oe.naturalLogarithm=Oe.ln=function(){return ag(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FZ(t,e):HZ(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Su+e);if(t=er(i)+1,r=i.d.length-1,n=r*cn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Oe.squareRoot=Oe.sqrt=function(){var e,t,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ms+"NaN")}for(e=er(a),yn=!1,i=Math.sqrt(+a),i==0||i==1/0?(t=Fo(a.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Sh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Fa(a,s,o+2)).times(.5),Fo(s.d).slice(0,o)===(t=Fo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Jt(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(t!="9999")break;o+=4}return yn=!0,Jt(r,n)};Oe.times=Oe.mul=function(e){var t,n,r,i,s,o,a,l,c,d=this,f=d.constructor,p=d.d,g=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=g.length,l<c&&(s=p,p=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)a=s[i]+g[r]*p[i-r-1]+t,s[i--]=a%br|0,t=a/br|0;s[i]=(s[i]+t)%br|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,yn?Jt(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Yo(e,0,wh),t===void 0?t=r.rounding:Yo(t,0,8),Jt(n,e+er(n)+1,t))};Oe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=$u(r,!0):(Yo(e,0,wh),t===void 0?t=i.rounding:Yo(t,0,8),r=Jt(new i(r),e+1,t),n=$u(r,!0,e+1)),n};Oe.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?$u(i):(Yo(e,0,wh),t===void 0?t=s.rounding:Yo(t,0,8),r=Jt(new s(i),e+er(i)+1,t),n=$u(r.abs(),!1,e+er(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Jt(new t(e),er(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,n,r,i,s,o,a=this,l=a.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(Xi);if(a=new l(a),!a.s){if(e.s<1)throw Error(Ms+"Infinity");return a}if(a.eq(Xi))return a;if(r=l.precision,e.eq(Xi))return Jt(a,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=a.s,o){if((n=d<0?-d:d)<=zZ){for(i=new l(Xi),t=Math.ceil(r/cn+4),yn=!1;n%2&&(i=i.times(a),NB(i.d,t)),n=Sh(n/2),n!==0;)a=a.times(a),NB(a.d,t);return yn=!0,e.s<0?new l(Xi).div(i):Jt(i,r)}}else if(s<0)throw Error(Ms+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,a.s=1,yn=!1,i=e.times(ag(a,r+c)),yn=!0,i=$Z(i),i.s=s,i};Oe.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=er(i),r=$u(i,n<=s.toExpNeg||n>=s.toExpPos)):(Yo(e,1,wh),t===void 0?t=s.rounding:Yo(t,0,8),i=Jt(new s(i),e,t),n=er(i),r=$u(i,e<=n||n<=s.toExpNeg,e)),r};Oe.toSignificantDigits=Oe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Yo(e,1,wh),t===void 0?t=r.rounding:Yo(t,0,8)),Jt(new r(n),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=er(e),n=e.constructor;return $u(e,t<=n.toExpNeg||t>=n.toExpPos)};function FZ(e,t){var n,r,i,s,o,a,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yn?Jt(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(f/cn),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/br|0,l[s]%=br;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return t.d=l,t.e=i,yn?Jt(t,f):t}function Yo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Su+e)}function Fo(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=cn-r.length,n&&(s+=Yl(n)),s+=r;o=e[t],r=o+"",n=cn-r.length,n&&(s+=Yl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Fa=(function(){function e(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%br|0,o=s/br|0;return o&&r.unshift(o),r}function t(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*br+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,d,f,p,g,v,b,w,S,C,_,k,R,N,T,M,O=r.constructor,L=r.s==i.s?1:-1,D=r.d,F=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ms+"Division by zero");for(l=r.e-i.e,T=F.length,R=D.length,g=new O(L),v=g.d=[],c=0;F[c]==(D[c]||0);)++c;if(F[c]>(D[c]||0)&&--l,s==null?C=s=O.precision:o?C=s+(er(r)-er(i))+1:C=s,C<0)return new O(0);if(C=C/cn+2|0,c=0,T==1)for(d=0,F=F[0],C++;(c<R||d)&&C--;c++)_=d*br+(D[c]||0),v[c]=_/F|0,d=_%F|0;else{for(d=br/(F[0]+1)|0,d>1&&(F=e(F,d),D=e(D,d),T=F.length,R=D.length),k=T,b=D.slice(0,T),w=b.length;w<T;)b[w++]=0;M=F.slice(),M.unshift(0),N=F[0],F[1]>=br/2&&++N;do d=0,a=t(F,b,T,w),a<0?(S=b[0],T!=w&&(S=S*br+(b[1]||0)),d=S/N|0,d>1?(d>=br&&(d=br-1),f=e(F,d),p=f.length,w=b.length,a=t(f,b,p,w),a==1&&(d--,n(f,T<p?M:F,p))):(d==0&&(a=d=1),f=F.slice()),p=f.length,p<w&&f.unshift(0),n(b,f,w),a==-1&&(w=b.length,a=t(F,b,T,w),a<1&&(d++,n(b,T<w?M:F,w))),w=b.length):a===0&&(d++,b=[0]),v[c++]=d,a&&b[0]?b[w++]=D[k]||0:(b=[D[k]],w=1);while((k++<R||b[0]!==void 0)&&C--)}return v[0]||v.shift(),g.e=l,Jt(g,o?s+er(g)+1:s)}})();function $Z(e,t){var n,r,i,s,o,a,l=0,c=0,d=e.constructor,f=d.precision;if(er(e)>16)throw Error(rO+er(e));if(!e.s)return new d(Xi);for(yn=!1,a=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(iu(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new d(Xi),d.precision=a;;){if(i=Jt(i.times(e),a),n=n.times(++l),o=s.plus(Fa(i,n,a)),Fo(o.d).slice(0,a)===Fo(s.d).slice(0,a)){for(;c--;)s=Jt(s.times(s),a);return d.precision=f,t==null?(yn=!0,Jt(s,f)):s}s=o}}function er(e){for(var t=e.e*cn,n=e.d[0];n>=10;n/=10)t++;return t}function SA(e,t,n){if(t>e.LN10.sd())throw yn=!0,n&&(e.precision=n),Error(Ms+"LN10 precision limit exceeded");return Jt(new e(e.LN10),t)}function Yl(e){for(var t="";e--;)t+="0";return t}function ag(e,t){var n,r,i,s,o,a,l,c,d,f=1,p=10,g=e,v=g.d,b=g.constructor,w=b.precision;if(g.s<1)throw Error(Ms+(g.s?"NaN":"-Infinity"));if(g.eq(Xi))return new b(0);if(t==null?(yn=!1,c=w):c=t,g.eq(10))return t==null&&(yn=!0),SA(b,c);if(c+=p,b.precision=c,n=Fo(v),r=n.charAt(0),s=er(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=Fo(g.d),r=n.charAt(0),f++;s=er(g),r>1?(g=new b("0."+n),s++):g=new b(r+"."+n.slice(1))}else return l=SA(b,c+2,w).times(s+""),g=ag(new b(r+"."+n.slice(1)),c-p).plus(l),b.precision=w,t==null?(yn=!0,Jt(g,w)):g;for(a=o=g=Fa(g.minus(Xi),g.plus(Xi),c),d=Jt(g.times(g),c),i=3;;){if(o=Jt(o.times(d),c),l=a.plus(Fa(o,new b(i),c)),Fo(l.d).slice(0,c)===Fo(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(SA(b,c+2,w).times(s+""))),a=Fa(a,new b(f),c),b.precision=w,t==null?(yn=!0,Jt(a,w)):a;a=l,i+=2}}function PB(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Sh(n/cn),e.d=[],r=(n+1)%cn,n<0&&(r+=cn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=cn;r<i;)e.d.push(+t.slice(r,r+=cn));t=t.slice(r),r=cn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),yn&&(e.e>Tx||e.e<-Tx))throw Error(rO+n)}else e.s=0,e.e=0,e.d=[0];return e}function Jt(e,t,n){var r,i,s,o,a,l,c,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=cn,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/cn),s=f.length,d>=s)return e;for(c=s=f[d],o=1;s>=10;s/=10)o++;r%=cn,i=r-cn+o}if(n!==void 0&&(s=iu(10,o-i-1),a=c/s%10|0,l=t<0||f[d+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(e.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/iu(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(s=er(e),f.length=1,t=t-s-1,f[0]=iu(10,(cn-t%cn)%cn),e.e=Sh(-t/cn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=iu(10,cn-r),f[d]=i>0?(c/iu(10,o-i)%iu(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==br&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=br)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(yn&&(e.e>Tx||e.e<-Tx))throw Error(rO+er(e));return e}function HZ(e,t){var n,r,i,s,o,a,l,c,d,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),yn?Jt(t,g):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,a=f.length):(n=f,r=c,a=l.length),i=Math.max(Math.ceil(g/cn),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=br-1;--l[s],l[i]+=br}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,yn?Jt(t,g):t):new p(0)}function $u(e,t,n){var r,i=er(e),s=Fo(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Yl(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Yl(-i-1)+s,n&&(r=n-o)>0&&(s+=Yl(r))):i>=o?(s+=Yl(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Yl(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Yl(r))),e.s<0?"-"+s:s}function NB(e,t){if(e.length>t)return e.length=t,!0}function BZ(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Su+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return PB(o,s.toString())}else if(typeof s!="string")throw Error(Su+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,bHe.test(s))PB(o,s);else throw Error(Su+s)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BZ,i.config=i.set=xHe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function xHe(e){if(!e||typeof e!="object")throw Error(Ms+"Object expected");var t,n,r,i=["precision",1,wh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Sh(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Su+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Su+n+": "+r);return this}var iO=BZ(yHe);Xi=new iO(1);const Ht=iO;var wHe=e=>e,UZ={},VZ=e=>e===UZ,MB=e=>function t(){return arguments.length===0||arguments.length===1&&VZ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qZ=(e,t)=>e===1?t:MB(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==UZ).length;return s>=e?t(...r):qZ(e-s,MB(function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=r.map(d=>VZ(d)?a.shift():d);return t(...c,...a)}))}),SHe=e=>qZ(e.length,e),JR=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},EHe=SHe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),_He=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return wHe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((a,l)=>l(a),s(...arguments))}};function WZ(e){var t;return e===0?t=1:t=Math.floor(new Ht(e).abs().log(10).toNumber())+1,t}function GZ(e,t,n){for(var r=new Ht(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var KZ=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},YZ=(e,t,n)=>{if(e.lte(0))return new Ht(0);var r=WZ(e.toNumber()),i=new Ht(10).pow(r),s=e.div(i),o=r!==1?.05:.1,a=new Ht(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return t?new Ht(l.toNumber()):new Ht(Math.ceil(l.toNumber()))},CHe=(e,t,n)=>{var r=new Ht(1),i=new Ht(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ht(10).pow(WZ(e)-1),i=new Ht(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ht(Math.floor(e)))}else e===0?i=new Ht(Math.floor((t-1)/2)):n||(i=new Ht(Math.floor(e)));var o=Math.floor((t-1)/2),a=_He(EHe(l=>i.add(new Ht(l-o).mul(r)).toNumber()),JR);return a(0,t)},XZ=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var o=YZ(new Ht(n).sub(t).div(r-1),i,s),a;t<=0&&n>=0?a=new Ht(0):(a=new Ht(t).add(n).div(2),a=a.sub(new Ht(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new Ht(n).sub(a).div(o).toNumber()),d=l+c+1;return d>r?XZ(t,n,r,i,s+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:o,tickMin:a.sub(new Ht(l).mul(o)),tickMax:a.add(new Ht(c).mul(o))})},AHe=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[a,l]=KZ([n,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...JR(0,i-1).map(()=>1/0)]:[...JR(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(a===l)return CHe(a,i,s);var{step:d,tickMin:f,tickMax:p}=XZ(a,l,o,s,0),g=GZ(f,p.add(new Ht(.1).mul(d)),d);return n>r?g.reverse():g},THe=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,a]=KZ([r,i]);if(o===-1/0||a===1/0)return[r,i];if(o===a)return[o];var l=Math.max(n,2),c=YZ(new Ht(a).sub(o).div(l-1),s,0),d=[...GZ(new Ht(o),new Ht(a),c),a];return s===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},RHe=e=>e.rootProps.barCategoryGap,uv=e=>e.rootProps.stackOffset,ZZ=e=>e.rootProps.reverseStackOrder,QZ=e=>e.options.chartName,JZ=e=>e.rootProps.syncId,kHe=e=>e.rootProps.syncMethod,eQ=e=>e.options.eventEmitter,ta={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Do={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:ta.axis},Gi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},PS=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},PHe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Do.angleAxisId,includeHidden:!1,name:void 0,reversed:Do.reversed,scale:Do.scale,tick:Do.tick,tickCount:void 0,ticks:void 0,type:Do.type,unit:void 0},NHe={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gi.scale,tick:Gi.tick,tickCount:Gi.tickCount,ticks:void 0,type:Gi.type,unit:void 0},MHe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Do.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Do.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Do.scale,tick:Do.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},OHe={allowDataOverflow:Gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gi.scale,tick:Gi.tick,tickCount:Gi.tickCount,ticks:void 0,type:"category",unit:void 0},Eh=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MHe:PHe,dv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?OHe:NHe,NS=e=>e.polarOptions,sO=ce([il,sl,Jr],t3e),tQ=ce([NS,sO],(e,t)=>{if(e!=null)return Lu(e.innerRadius,t,0)}),nQ=ce([NS,sO],(e,t)=>{if(e!=null)return Lu(e.outerRadius,t,t*.8)}),DHe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},rQ=ce([NS],DHe),IHe=ce([Eh,rQ],PS),iQ=ce([sO,tQ,nQ],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),jHe=ce([dv,iQ],PS),fv=ce([zt,NS,tQ,nQ,il,sl],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:a,startAngle:l,endAngle:c}=t;return{cx:Lu(o,i,i/2),cy:Lu(a,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),en=(e,t)=>t,hv=(e,t,n)=>n;function sQ(e){return e?.id}function oQ(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=sQ(a);c.forEach((f,p)=>{var g=s==null||i?p:String(Sr(f,s,null)),v=Sr(f,a.dataKey,0),b;o.has(g)?b=o.get(g):b={},Object.assign(b,{[d]:v}),o.set(g,b)})}}),Array.from(o.values())}function oO(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var MS=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function OS(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function LHe(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var gr=e=>{var t=zt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_h=e=>e.tooltip.settings.axisId;function OB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(n),!0).forEach(function(r){zHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zHe(e,t,n){return(t=FHe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FHe(e){var t=$He(e,"string");return typeof t=="symbol"?t:t+""}function $He(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ek=[0,"auto"],HHe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BHe=(e,t)=>e.cartesianAxis.xAxis[t],Rc=(e,t)=>{var n=BHe(e,t);return n??HHe},UHe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ek,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sv},VHe=(e,t)=>e.cartesianAxis.yAxis[t],kc=(e,t)=>{var n=VHe(e,t);return n??UHe},qHe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aO=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??qHe},Rn=(e,t,n)=>{switch(t){case"xAxis":return Rc(e,n);case"yAxis":return kc(e,n);case"zAxis":return aO(e,n);case"angleAxis":return Eh(e,n);case"radiusAxis":return dv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},WHe=(e,t,n)=>{switch(t){case"xAxis":return Rc(e,n);case"yAxis":return kc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ch=(e,t,n)=>{switch(t){case"xAxis":return Rc(e,n);case"yAxis":return kc(e,n);case"angleAxis":return Eh(e,n);case"radiusAxis":return dv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aQ=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lO(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var GHe=e=>e.graphicalItems.cartesianItems,KHe=ce([en,hv],lO),cO=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),pv=ce([GHe,Rn,KHe],cO,{memoizeOptions:{resultEqualityCheck:OS}}),lQ=ce([pv],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(oO)),cQ=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),YHe=ce([pv],cQ),uO=e=>e.map(t=>t.data).filter(Boolean).flat(1),XHe=ce([pv],uO,{memoizeOptions:{resultEqualityCheck:OS}}),dO=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},fO=ce([XHe,jZ],dO),hO=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Sr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Sr(i,r)}))):e.map(r=>({value:r})),DS=ce([fO,Rn,pv],hO);function uQ(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function vb(e){if(Zm(e)||e instanceof Date){var t=Number(e);if(Er(t))return t}}function DB(e){if(Array.isArray(e)){var t=[vb(e[0]),vb(e[1])];return mc(t)?t:void 0}var n=vb(e);if(n!=null)return[n,n]}function el(e){return e.map(vb).filter(jLe)}function ZHe(e,t,n){return!n||typeof t!="number"||Ka(t)?[]:n.length?el(n.flatMap(r=>{var i=Sr(e,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!Er(s)||!Er(o)))return[t-s,t+o]})):[]}var Cr=e=>{var t=gr(e),n=_h(e);return Ch(e,t,n)},mv=ce([Cr],e=>e?.dataKey),QHe=ce([lQ,jZ,Cr],oQ),dQ=(e,t,n,r)=>{var i={},s=t.reduce((o,a)=>{if(a.stackId==null)return o;var l=o[a.stackId];return l==null&&(l=[]),l.push(a),o[a.stackId]=l,o},i);return Object.fromEntries(Object.entries(s).map(o=>{var[a,l]=o,c=r?[...l].reverse():l,d=c.map(sQ);return[a,{stackedData:EFe(e,d,n),graphicalItems:c}]}))},JHe=ce([QHe,lQ,uv,ZZ],dQ),fQ=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=AFe(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},eBe=ce([Rn],e=>e.allowDataOverflow),pO=e=>{var t;if(e==null||!("domain"in e))return ek;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=el(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:ek},mO=ce([Rn],pO),gO=ce([mO,eBe],LZ),tBe=ce([JHe,Tc,en,gO],fQ,{memoizeOptions:{resultEqualityCheck:MS}}),IS=e=>e.errorBars,nBe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>uQ(n,r)),kx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),a=Math.max(...s);return[o,a]}},vO=(e,t,n,r,i)=>{var s,o;if(n.length>0&&e.forEach(a=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(S=>uQ(i,S)),p=Sr(a,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),g=ZHe(a,p,f);if(g.length>=2){var v=Math.min(...g),b=Math.max(...g);(s==null||v<s)&&(s=v),(o==null||b>o)&&(o=b)}var w=DB(p);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),o=o==null?w[1]:Math.max(o,w[1]))})}),t?.dataKey!=null&&e.forEach(a=>{var l=DB(Sr(a,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Er(s)&&Er(o))return[s,o]},rBe=ce([fO,Rn,YHe,IS,en],vO,{memoizeOptions:{resultEqualityCheck:MS}});function iBe(e){var{value:t}=e;if(Zm(t)||t instanceof Date)return t}var sBe=(e,t,n)=>{var r=e.map(iBe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&nX(r))?iZ(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},hQ=e=>e.referenceElements.dots,Ah=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),oBe=ce([hQ,en,hv],Ah),pQ=e=>e.referenceElements.areas,aBe=ce([pQ,en,hv],Ah),mQ=e=>e.referenceElements.lines,lBe=ce([mQ,en,hv],Ah),gQ=(e,t)=>{if(e!=null){var n=el(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},cBe=ce(oBe,en,gQ),vQ=(e,t)=>{if(e!=null){var n=el(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},uBe=ce([aBe,en],vQ);function dBe(e){var t;if(e.x!=null)return el([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:el(n)}function fBe(e){var t;if(e.y!=null)return el([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:el(n)}var yQ=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?dBe(r):fBe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},hBe=ce([lBe,en],yQ),pBe=ce(cBe,hBe,uBe,(e,t,n)=>kx(e,n,t)),yO=(e,t,n,r,i,s,o,a)=>{if(n!=null)return n;var l=o==="vertical"&&a==="xAxis"||o==="horizontal"&&a==="yAxis",c=l?kx(r,s,i):kx(s,i);return vHe(t,c,e.allowDataOverflow)},mBe=ce([Rn,mO,gO,tBe,rBe,pBe,zt,en],yO,{memoizeOptions:{resultEqualityCheck:MS}}),gBe=[0,1],bO=(e,t,n,r,i,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:a,type:l}=e,c=_c(t,s);if(c&&a==null){var d;return iZ(0,(d=n?.length)!==null&&d!==void 0?d:0)}return l==="category"?sBe(r,e,c):i==="expand"?gBe:o}},xO=ce([Rn,zt,fO,DS,uv,en,mBe],bO),bQ=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var a="scale".concat(rX(s));return a in Jp?a:"point"}}},Pc=ce([Rn,zt,aQ,QZ,en],bQ);function vBe(e){if(e!=null){if(e in Jp)return Jp[e]();var t="scale".concat(rX(e));if(t in Jp)return Jp[t]()}}function jS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=vBe(t);if(i!=null){var s=i.domain(n).range(r);return bFe(s),s}}}var wO=(e,t,n)=>{var r=pO(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&mc(e))return AHe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&mc(e))return THe(e,t.tickCount,t.allowDecimals)}},SO=ce([xO,Ch,Pc],wO),EO=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&mc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],o=t[1],a=n[n.length-1];return[Math.min(i,s),Math.max(o,a)]}return t},yBe=ce([Rn,xO,SO,en],EO),bBe=ce(DS,Rn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(el(e.map(f=>f.value))).sort((f,p)=>f-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var o=s-i;if(o===0)return 1/0;for(var a=0;a<r.length-1;a++){var l=r[a],c=r[a+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),xQ=ce(bBe,zt,RHe,Jr,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Er(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=Lu(n,e*s),a=e*s/2;return a-o-(a-o)/s*o}return 0}),xBe=(e,t,n)=>{var r=Rc(e,t);return r==null||typeof r.padding!="string"?0:xQ(e,"xAxis",t,n,r.padding)},wBe=(e,t,n)=>{var r=kc(e,t);return r==null||typeof r.padding!="string"?0:xQ(e,"yAxis",t,n,r.padding)},SBe=ce(Rc,xBe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),EBe=ce(kc,wBe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),_Be=ce([Jr,SBe,bS,yS,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),CBe=ce([Jr,zt,EBe,bS,yS,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),gv=(e,t,n,r)=>{var i;switch(t){case"xAxis":return _Be(e,n,r);case"yAxis":return CBe(e,n,r);case"zAxis":return(i=aO(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return rQ(e);case"radiusAxis":return iQ(e,n);default:return}},wQ=ce([Rn,gv],PS),LS=ce([Rn,Pc,yBe,wQ],jS);ce([pv,IS,en],nBe);function SQ(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zS=(e,t)=>t,FS=(e,t,n)=>n,ABe=ce(gS,zS,FS,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(SQ)),TBe=ce(vS,zS,FS,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(SQ)),EQ=(e,t)=>({width:e.width,height:t.height}),RBe=(e,t)=>{var n=typeof t.width=="number"?t.width:sv;return{width:n,height:e.height}};ce(Jr,Rc,EQ);var kBe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},PBe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},NBe=ce(sl,Jr,ABe,zS,FS,(e,t,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=EQ(t,a);o==null&&(o=kBe(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;s[a.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),s}),MBe=ce(il,Jr,TBe,zS,FS,(e,t,n,r,i)=>{var s={},o;return n.forEach(a=>{var l=RBe(t,a);o==null&&(o=PBe(t,r,e));var c=r==="left"&&!i||r==="right"&&i;s[a.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),s}),OBe=(e,t)=>{var n=Rc(e,t);if(n!=null)return NBe(e,n.orientation,n.mirror)};ce([Jr,Rc,OBe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}});var DBe=(e,t)=>{var n=kc(e,t);if(n!=null)return MBe(e,n.orientation,n.mirror)};ce([Jr,kc,DBe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n?.[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}});ce(Jr,kc,(e,t)=>{var n=typeof t.width=="number"?t.width:sv;return{width:n,height:e.height}});var _Q=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,a=_c(e,r),l=t.map(c=>c.value);if(o&&a&&s==="category"&&i&&nX(l))return l}},vv=ce([zt,DS,Rn,en],_Q),_O=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=_c(e,r);if(o&&(i==="number"||s!=="auto"))return t.map(a=>a.value)}},CO=ce([zt,DS,Ch,en],_O);ce([zt,WHe,Pc,LS,vv,CO,gv,SO,en],(e,t,n,r,i,s,o,a,l)=>{if(t!=null){var c=_c(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:a,range:o,realScaleType:n,scale:r}}});var CQ=(e,t,n,r,i,s,o,a,l)=>{if(!(t==null||r==null)){var c=_c(e,l),{type:d,ticks:f,tickCount:p}=t,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=d==="category"&&r.bandwidth?r.bandwidth()/g:0;v=l==="angleAxis"&&s!=null&&s.length>=2?Jl(s[0]-s[1])*2*v:v;var b=f||i;if(b){var w=b.map((S,C)=>{var _=o?o.indexOf(S):S;return{index:C,coordinate:r(_)+v,value:S,offset:v}});return w.filter(S=>Er(S.coordinate))}return c&&a?a.map((S,C)=>({coordinate:r(S)+v,value:S,index:C,offset:v})).filter(S=>Er(S.coordinate)):r.ticks?r.ticks(p).map(S=>({coordinate:r(S)+v,value:S,offset:v})):r.domain().map((S,C)=>({coordinate:r(S)+v,value:o?o[S]:S,index:C,offset:v}))}};ce([zt,Ch,Pc,LS,SO,gv,vv,CO,en],CQ);var AQ=(e,t,n,r,i,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var a=_c(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&r?.length>=2?Jl(r[0]-r[1])*2*c:c,a&&s?s.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}};ce([zt,Ch,LS,gv,vv,CO,en],AQ);ce(Rn,LS,(e,t)=>{if(!(e==null||t==null))return Rx(Rx({},e),{},{scale:t})});var IBe=ce([Rn,Pc,xO,wQ],jS);ce((e,t,n)=>aO(e,n),IBe,(e,t)=>{if(!(e==null||t==null))return Rx(Rx({},e),{},{scale:t})});var jBe=ce([zt,gS,vS],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TQ=e=>e.options.defaultTooltipEventType,RQ=e=>e.options.validateTooltipEventTypes;function kQ(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function PQ(e,t){var n=TQ(e),r=RQ(e);return kQ(t,n,r)}var NQ=(e,t)=>{var n,r=Number(t);if(!(Ka(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},LBe=e=>e.tooltip.settings,Ql={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},zBe={itemInteraction:{click:Ql,hover:Ql},axisInteraction:{click:Ql,hover:Ql},keyboardInteraction:Ql,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MQ=ji({name:"tooltip",initialState:zBe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:gn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=to(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:gn()},removeTooltipEntrySettings:{reducer(e,t){var n=to(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:gn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:FBe,replaceTooltipEntrySettings:$Be,removeTooltipEntrySettings:HBe,setTooltipSettingsState:z7e,setActiveMouseOverItemIndex:BBe,mouseLeaveItem:F7e,mouseLeaveChart:OQ,setActiveClickItemIndex:$7e,setMouseOverAxisIndex:DQ,setMouseClickAxisIndex:UBe,setSyncInteraction:IB,setKeyboardInteraction:tk}=MQ.actions,VBe=MQ.reducer;function jB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jB(Object(n),!0).forEach(function(r){qBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qBe(e,t,n){return(t=WBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WBe(e){var t=GBe(e,"string");return typeof t=="symbol"?t:t+""}function GBe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KBe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YBe(e){return e.index!=null}var IQ=(e,t,n,r)=>{if(t==null)return Ql;var i=KBe(e,t,n);if(i==null)return Ql;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(YBe(i)){if(s)return $0($0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return $0($0({},Ql),{},{coordinate:i.coordinate})};function XBe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function ZBe(e,t){var n=XBe(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function QBe(e,t,n){if(n==null||t==null)return!0;var r=Sr(e,t);return r==null||!mc(n)?!0:ZBe(r,n)}var AO=(e,t,n,r)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!Er(s))return i;var o=0,a=1/0;t.length>0&&(a=t.length-1);var l=Math.max(o,Math.min(s,a)),c=t[l];return c==null||QBe(c,n,r)?String(l):null},jQ=(e,t,n,r,i,s,o,a)=>{if(!(s==null||a==null)){var l=o[0],c=l==null?void 0:a(l.positions,s);if(c!=null)return c;var d=i?.[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},LQ=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.graphicalItemId)===i})},yv=e=>e.options.tooltipPayloadSearcher,bv=e=>e.tooltip;function LB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LB(Object(n),!0).forEach(function(r){JBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JBe(e,t,n){return(t=e4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e4e(e){var t=t4e(e,"string");return typeof t=="symbol"?t:t+""}function t4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n4e(e,t){return e??t}var zQ=(e,t,n,r,i,s,o)=>{if(!(t==null||s==null)){var{chartData:a,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,g)=>{var v,{dataDefinedOnItem:b,settings:w}=g,S=n4e(b,a),C=Array.isArray(S)?FX(S,c,d):S,_=(v=w?.dataKey)!==null&&v!==void 0?v:r,k=w?.nameKey,R;if(r&&Array.isArray(C)&&!Array.isArray(C[0])&&o==="axis"?R=ILe(C,r,i):R=s(C,t,l,k),Array.isArray(R))R.forEach(T=>{var M=zB(zB({},w),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});p.push(TH({tooltipEntrySettings:M,dataKey:T.dataKey,payload:T.payload,value:Sr(T.payload,T.dataKey),name:T.name}))});else{var N;p.push(TH({tooltipEntrySettings:w,dataKey:_,payload:R,value:Sr(R,_),name:(N=Sr(R,k))!==null&&N!==void 0?N:w?.name}))}return p},f)}},TO=ce([Cr,zt,aQ,QZ,gr],bQ),r4e=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),i4e=ce([gr,_h],lO),Th=ce([r4e,Cr,i4e],cO,{memoizeOptions:{resultEqualityCheck:OS}}),s4e=ce([Th],e=>e.filter(oO)),o4e=ce([Th],uO,{memoizeOptions:{resultEqualityCheck:OS}}),Rh=ce([o4e,Tc],dO),a4e=ce([s4e,Tc,Cr],oQ),RO=ce([Rh,Cr,Th],hO),FQ=ce([Cr],pO),l4e=ce([Cr],e=>e.allowDataOverflow),$Q=ce([FQ,l4e],LZ),c4e=ce([Th],e=>e.filter(oO)),u4e=ce([a4e,c4e,uv,ZZ],dQ),d4e=ce([u4e,Tc,gr,$Q],fQ),f4e=ce([Th],cQ),h4e=ce([Rh,Cr,f4e,IS,gr],vO,{memoizeOptions:{resultEqualityCheck:MS}}),p4e=ce([hQ,gr,_h],Ah),m4e=ce([p4e,gr],gQ),g4e=ce([pQ,gr,_h],Ah),v4e=ce([g4e,gr],vQ),y4e=ce([mQ,gr,_h],Ah),b4e=ce([y4e,gr],yQ),x4e=ce([m4e,b4e,v4e],kx),w4e=ce([Cr,FQ,$Q,d4e,h4e,x4e,zt,gr],yO),xv=ce([Cr,zt,Rh,RO,uv,gr,w4e],bO),S4e=ce([xv,Cr,TO],wO),E4e=ce([Cr,xv,S4e,gr],EO),HQ=e=>{var t=gr(e),n=_h(e),r=!1;return gv(e,t,n,r)},BQ=ce([Cr,HQ],PS),_4e=ce([Cr,TO,E4e,BQ],jS),C4e=ce([zt,RO,Cr,gr],_Q),A4e=ce([zt,RO,Cr,gr],_O),T4e=(e,t,n,r,i,s,o,a)=>{if(t){var{type:l}=t,c=_c(e,a);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=a==="angleAxis"&&i!=null&&i?.length>=2?Jl(i[0]-i[1])*2*f:f,c&&o?o.map((p,g)=>({coordinate:r(p)+f,value:p,index:g,offset:f})):r.domain().map((p,g)=>({coordinate:r(p)+f,value:s?s[p]:p,index:g,offset:f}))}}},Nc=ce([zt,Cr,TO,_4e,HQ,C4e,A4e,gr],T4e),kO=ce([TQ,RQ,LBe],(e,t,n)=>kQ(n.shared,e,t)),UQ=e=>e.tooltip.settings.trigger,PO=e=>e.tooltip.settings.defaultIndex,wv=ce([bv,kO,UQ,PO],IQ),lg=ce([wv,Rh,mv,xv],AO),VQ=ce([Nc,lg],NQ),R4e=ce([wv],e=>{if(e)return e.dataKey});ce([wv],e=>{if(e)return e.graphicalItemId});var qQ=ce([bv,kO,UQ,PO],LQ),k4e=ce([il,sl,zt,Jr,Nc,PO,qQ,yv],jQ),P4e=ce([wv,k4e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),N4e=ce([wv],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),M4e=ce([qQ,lg,Tc,mv,VQ,yv,kO],zQ),O4e=ce([M4e],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function FB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FB(Object(n),!0).forEach(function(r){D4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D4e(e,t,n){return(t=I4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I4e(e){var t=j4e(e,"string");return typeof t=="symbol"?t:t+""}function j4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L4e=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},z4e=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=r;return nf(nf(nf({},r),Oi(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var a=i.coordinate,{angle:l}=r;return nf(nf(nf({},r),Oi(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function F4e(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var WQ=(e,t,n,r,i)=>{var s,o=(s=t?.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var a=0;a<o;a++){var l,c,d,f,p,g=a>0?(l=n[a-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,v=(d=n[a])===null||d===void 0?void 0:d.coordinate,b=a>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[a+1])===null||p===void 0?void 0:p.coordinate,w=void 0;if(!(g==null||v==null||b==null))if(Jl(v-g)!==Jl(b-v)){var S=[];if(Jl(b-v)===Jl(i[1]-i[0])){w=b;var C=v+i[1]-i[0];S[0]=Math.min(C,(C+g)/2),S[1]=Math.max(C,(C+g)/2)}else{w=g;var _=b+i[1]-i[0];S[0]=Math.min(v,(_+v)/2),S[1]=Math.max(v,(_+v)/2)}var k=[Math.min(v,(w+v)/2),Math.max(v,(w+v)/2)];if(e>k[0]&&e<=k[1]||e>=S[0]&&e<=S[1]){var R;return(R=n[a])===null||R===void 0?void 0:R.index}}else{var N=Math.min(g,b),T=Math.max(g,b);if(e>(N+v)/2&&e<=(T+v)/2){var M;return(M=n[a])===null||M===void 0?void 0:M.index}}}else if(t)for(var O=0;O<o;O++){var L=t[O];if(L!=null){var D=t[O+1],F=t[O-1];if(O===0&&D!=null&&e<=(L.coordinate+D.coordinate)/2||O===o-1&&F!=null&&e>(L.coordinate+F.coordinate)/2||O>0&&O<o-1&&F!=null&&D!=null&&e>(L.coordinate+F.coordinate)/2&&e<=(L.coordinate+D.coordinate)/2)return L.index}}return-1},NO=(e,t)=>t,GQ=(e,t,n)=>n,MO=(e,t,n,r)=>r,$4e=ce(Nc,e=>EM(e,t=>t.coordinate)),OO=ce([bv,NO,GQ,MO],IQ),DO=ce([OO,Rh,mv,xv],AO),KQ=ce([bv,NO,GQ,MO],LQ),Px=ce([il,sl,zt,Jr,Nc,MO,KQ,yv],jQ);ce([OO,Px],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t});var H4e=ce([Nc,DO],NQ);ce([KQ,DO,Tc,mv,H4e,yv,NO],zQ);ce([OO,DO],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t}));var B4e=(e,t,n,r,i,s,o)=>{if(!(!e||!n||!r||!i)&&F4e(e,o)){var a=TFe(e,t),l=WQ(a,s,i,n,r),c=L4e(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},U4e=(e,t,n,r,i,s,o)=>{if(!(!e||!r||!i||!s||!n)){var a=o3e(e,n);if(a){var l=RFe(a,t),c=WQ(l,o,s,r,i),d=z4e(t,s,c,a);return{activeIndex:String(c),activeCoordinate:d}}}},V4e=(e,t,n,r,i,s,o,a)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?B4e(e,t,r,i,s,o,a):U4e(e,t,n,r,i,s,o)},q4e=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),W4e=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ta)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:LHe}});function $B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(n),!0).forEach(function(r){G4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G4e(e,t,n){return(t=K4e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K4e(e){var t=Y4e(e,"string");return typeof t=="symbol"?t:t+""}function Y4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X4e={},Z4e={zIndexMap:Object.values(ta).reduce((e,t)=>HB(HB({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),X4e)},Q4e=new Set(Object.values(ta));function J4e(e){return Q4e.has(e)}var YQ=ji({name:"zIndex",initialState:Z4e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:gn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!J4e(n)&&delete e.zIndexMap[n])},prepare:gn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:gn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:gn()}}}),{registerZIndexPortal:eUe,unregisterZIndexPortal:tUe,registerZIndexPortalElement:nUe,unregisterZIndexPortalElement:rUe}=YQ.actions,iUe=YQ.reducer;function ad(e){var{zIndex:t,children:n}=e,r=l5e(),i=r&&t!==void 0&&t!==0,s=ea(),o=Qr();x.useLayoutEffect(()=>i?(o(eUe({zIndex:t})),()=>{o(tUe({zIndex:t}))}):tv,[o,t,i]);var a=It(l=>q4e(l,t,s));return i?a?nl.createPortal(n,a):null:n}var sUe=x.createContext(null),EA={exports:{}},BB;function oUe(){return BB||(BB=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,f||l,p),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,v=new Array(g);p<g;p++)v[p]=f[p].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,d,f,p,g,v){var b=n?n+c:c;if(!this._events[b])return!1;var w=this._events[b],S=arguments.length,C,_;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,p),!0;case 5:return w.fn.call(w.context,d,f,p,g),!0;case 6:return w.fn.call(w.context,d,f,p,g,v),!0}for(_=1,C=new Array(S-1);_<S;_++)C[_-1]=arguments[_];w.fn.apply(w.context,C)}else{var k=w.length,R;for(_=0;_<k;_++)switch(w[_].once&&this.removeListener(c,w[_].fn,void 0,!0),S){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,d);break;case 3:w[_].fn.call(w[_].context,d,f);break;case 4:w[_].fn.call(w[_].context,d,f,p);break;default:if(!C)for(R=1,C=new Array(S-1);R<S;R++)C[R-1]=arguments[R];w[_].fn.apply(w[_].context,C)}}return!0},a.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},a.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},a.prototype.removeListener=function(c,d,f,p){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&o(this,g);else{for(var b=0,w=[],S=v.length;b<S;b++)(v[b].fn!==d||p&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(EA)),EA.exports}var aUe=oUe();const lUe=Di(aUe);var Nx=new lUe,UB="recharts.syncEvent.tooltip",VB="recharts.syncEvent.brush";function cUe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ka(n))return e?.[n]}}var uUe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},XQ=ji({name:"options",initialState:uUe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dUe=XQ.reducer,{createEventEmitter:fUe}=XQ.actions,hUe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZQ=ji({name:"chartData",initialState:hUe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:qB,setDataStartEndIndexes:pUe,setComputedData:H7e}=ZQ.actions,mUe=ZQ.reducer,gUe=["x","y"];function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(r){vUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vUe(e,t,n){return(t=yUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yUe(e){var t=bUe(e,"string");return typeof t=="symbol"?t:t+""}function bUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xUe(e,t){if(e==null)return{};var n,r,i=wUe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wUe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SUe(){var e=It(JZ),t=It(eQ),n=Qr(),r=It(kHe),i=It(Nc),s=GX(),o=WX(),a=It(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return tv;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var g=d.payload.coordinate,{x:v,y:b}=g,w=xUe(g,gUe),{x:S,y:C,width:_,height:k}=d.payload.sourceViewBox,R=rf(rf({},w),{},{x:o.x+(_?(v-S)/_:0)*o.width,y:o.y+(k?(b-C)/k:0)*o.height});n(rf(rf({},d),{},{payload:rf(rf({},d.payload),{},{coordinate:R})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var T={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},M=r(i,T);N=i[M]}else r==="value"&&(N=i.find(j=>String(j.value)===d.payload.label));var{coordinate:O}=d.payload;if(N==null||d.payload.active===!1||O==null||o==null){n(IB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:D}=O,F=Math.min(L,o.x+o.width),G=Math.min(D,o.y+o.height),z={x:s==="horizontal"?N.coordinate:F,y:s==="horizontal"?G:N.coordinate},V=IB({active:d.payload.active,coordinate:z,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(V)}}};return Nx.on(UB,l),()=>{Nx.off(UB,l)}},[a,n,t,e,r,i,s,o])}function EUe(){var e=It(JZ),t=It(eQ),n=Qr();x.useEffect(()=>{if(e==null)return tv;var r=(i,s,o)=>{t!==o&&e===i&&n(pUe(s))};return Nx.on(VB,r),()=>{Nx.off(VB,r)}},[n,t,e])}function _Ue(){var e=Qr();x.useEffect(()=>{e(fUe())},[e]),SUe(),EUe()}function CUe(e,t,n){return(t=AUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AUe(e){var t=TUe(e,"string");return typeof t=="symbol"?t:t+""}function TUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RUe{constructor(t){CUe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kUe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(r){PUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PUe(e,t,n){return(t=NUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NUe(e){var t=MUe(e,"string");return typeof t=="symbol"?t:t+""}function MUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OUe={cacheSize:2e3,enableCache:!0},QQ=kUe({},OUe),KB=new RUe(QQ.cacheSize),DUe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YB="recharts_measurement_span";function IUe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",a=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(a)}var XB=(e,t)=>{try{var n=document.getElementById(YB);n||(n=document.createElement("span"),n.setAttribute("id",YB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,DUe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ZB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||IM.isSsr)return{width:0,height:0};if(!QQ.enableCache)return XB(t,n);var r=IUe(t,n),i=KB.get(r);if(i)return i;var s=XB(t,n);return KB.set(r,s),s},JQ;function jUe(e,t,n){return(t=LUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LUe(e){var t=zUe(e,"string");return typeof t=="symbol"?t:t+""}function zUe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FUe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Ue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,HUe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BUe=["cm","mm","pt","pc","in","Q","px"];function UUe(e){return BUe.includes(e)}var gf="NaN";function VUe(e,t){return e*HUe[t]}class Or{static parse(t){var n,[,r,i]=(n=$Ue.exec(t))!==null&&n!==void 0?n:[];return r==null?Or.NaN:new Or(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ka(t)&&(this.unit=""),n!==""&&!FUe.test(n)&&(this.num=NaN,this.unit=""),UUe(n)&&(this.num=VUe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Or(NaN,""):new Or(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Or(NaN,""):new Or(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Or(NaN,""):new Or(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Or(NaN,""):new Or(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ka(this.num)}}JQ=Or;jUe(Or,"NaN",new JQ(NaN,""));function eJ(e){if(e==null||e.includes(gf))return gf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=QB.exec(t))!==null&&n!==void 0?n:[],o=Or.parse(r??""),a=Or.parse(s??""),l=i==="*"?o.multiply(a):o.divide(a);if(l.isNaN())return gf;t=t.replace(QB,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=JB.exec(t))!==null&&c!==void 0?c:[],g=Or.parse(d??""),v=Or.parse(p??""),b=f==="+"?g.add(v):g.subtract(v);if(b.isNaN())return gf;t=t.replace(JB,b.toString())}return t}var e4=/\(([^()]*)\)/;function qUe(e){for(var t=e,n;(n=e4.exec(t))!=null;){var[,r]=n;t=t.replace(e4,eJ(r))}return t}function WUe(e){var t=e.replace(/\s+/g,"");return t=qUe(t),t=eJ(t),t}function GUe(e){try{return WUe(e)}catch{return gf}}function _A(e){var t=GUe(e.slice(5,-1));return t===gf?"":t}var KUe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],YUe=["dx","dy","angle","className","breakAll"];function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(null,arguments)}function t4(e,t){if(e==null)return{};var n,r,i=XUe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XUe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tJ=/[ \f\n\r\t\v\u2028\u2029]+/,nJ=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Mi(t)||(n?i=t.toString().split(""):i=t.toString().split(tJ));var s=i.map(a=>({word:a,width:ZB(a,r).width})),o=n?0:ZB("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function ZUe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var rJ=(e,t,n,r)=>e.reduce((i,s)=>{var{word:o,width:a}=s,l=i[i.length-1];if(l&&a!=null&&(t==null||r||l.width+a+n<Number(t)))l.words.push(o),l.width+=a+n;else{var c={words:[o],width:a};i.push(c)}return i},[]),iJ=e=>e.reduce((t,n)=>t.width>n.width?t:n),QUe="",n4=(e,t,n,r,i,s,o,a)=>{var l=e.slice(0,t),c=nJ({breakAll:n,style:r,children:l+QUe});if(!c)return[!1,[]];var d=rJ(c.wordsWithComputedWidth,s,o,a),f=d.length>i||iJ(d).width>Number(s);return[f,d]},JUe=(e,t,n,r,i)=>{var{maxLines:s,children:o,style:a,breakAll:l}=e,c=Qt(s),d=String(o),f=rJ(t,r,n,i);if(!c||i)return f;var p=f.length>s||iJ(f).width>Number(r);if(!p)return f;for(var g=0,v=d.length-1,b=0,w;g<=v&&b<=d.length-1;){var S=Math.floor((g+v)/2),C=S-1,[_,k]=n4(d,C,l,a,s,r,n,i),[R]=n4(d,S,l,a,s,r,n,i);if(!_&&!R&&(g=S+1),_&&R&&(v=S-1),!_&&R){w=k;break}b++}return w||f},r4=e=>{var t=Mi(e)?[]:e.toString().split(tJ);return[{words:t,width:void 0}]},eVe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!IM.isSsr){var a,l,c=nJ({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;a=d,l=f}else return r4(r);return JUe({breakAll:s,children:r,maxLines:o,style:i},a,l,t,!!n)}return r4(r)},sJ="#808080",tVe={angle:0,breakAll:!1,capHeight:"0.71em",fill:sJ,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},IO=x.forwardRef((e,t)=>{var n=id(e,tVe),{x:r,y:i,lineHeight:s,capHeight:o,fill:a,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=t4(n,KUe),p=x.useMemo(()=>eVe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:g,dy:v,angle:b,className:w,breakAll:S}=f,C=t4(f,YUe);if(!Zm(r)||!Zm(i)||p.length===0)return null;var _=Number(r)+(Qt(g)?g:0),k=Number(i)+(Qt(v)?v:0);if(!Er(_)||!Er(k))return null;var R;switch(d){case"start":R=_A("calc(".concat(o,")"));break;case"middle":R=_A("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:R=_A("calc(".concat(p.length-1," * -").concat(s,")"));break}var N=[];if(l){var T=p[0].width,{width:M}=f;N.push("scale(".concat(Qt(M)&&Qt(T)?M/T:1,")"))}return b&&N.push("rotate(".concat(b,", ").concat(_,", ").concat(k,")")),N.length&&(C.transform=N.join(" ")),x.createElement("text",nk({},Cs(C),{ref:t,x:_,y:k,className:Ir("recharts-text",w),textAnchor:c,fill:a.includes("url")?sJ:a}),p.map((O,L)=>{var D=O.words.join(S?"":" ");return x.createElement("tspan",{x:_,dy:L===0?R:s,key:"".concat(D,"-").concat(L)},D)}))});IO.displayName="Text";var nVe=["labelRef"],rVe=["content"];function i4(e,t){if(e==null)return{};var n,r,i=iVe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function s4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(n),!0).forEach(function(r){sVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sVe(e,t,n){return(t=oVe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oVe(e){var t=aVe(e,"string");return typeof t=="symbol"?t:t+""}function aVe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(null,arguments)}var lVe=x.createContext(null),cVe=()=>{var e=x.useContext(lVe),t=WX();return e||qX(t)},uVe=x.createContext(null),dVe=()=>{var e=x.useContext(uVe),t=It(fv);return e||t},fVe=e=>{var{value:t,formatter:n}=e,r=Mi(e.children)?t:e.children;return typeof n=="function"?n(r):r},hVe=e=>e!=null&&typeof e=="function",pVe=(e,t)=>{var n=Jl(t-e),r=Math.min(Math.abs(t-e),360);return n*r},mVe=(e,t,n,r,i)=>{var{offset:s,className:o}=e,{cx:a,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:g}=i,v=(c+d)/2,b=pVe(f,p),w=b>=0?1:-1,S,C;switch(t){case"insideStart":S=f+w*s,C=g;break;case"insideEnd":S=p-w*s,C=!g;break;case"end":S=p+w*s,C=g;break;default:throw new Error("Unsupported position ".concat(t))}C=b<=0?C:!C;var _=Oi(a,l,v,S),k=Oi(a,l,v,S+(C?1:-1)*359),R="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),N=Mi(e.id)?Qm("recharts-radial-line-"):e.id;return x.createElement("text",Mx({},r,{dominantBaseline:"central",className:Ir("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:N,d:R})),x.createElement("textPath",{xlinkHref:"#".concat(N)},n))},gVe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:a,endAngle:l}=e,c=(a+l)/2;if(n==="outside"){var{x:d,y:f}=Oi(r,i,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+o)/2,{x:g,y:v}=Oi(r,i,p,c);return{x:g,y:v,textAnchor:"middle",verticalAnchor:"middle"}},rk=e=>"cx"in e&&Qt(e.cx),vVe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!rk(n)&&(s=n);var{x:o,y:a,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,g=(f+p)/2,v=(l+c)/2,b=f+l/2,w=d>=0?1:-1,S=w*r,C=w>0?"end":"start",_=w>0?"start":"end",k=l>=0?1:-1,R=k*r,N=k>0?"end":"start",T=k>0?"start":"end";if(i==="top"){var M={x:f+l/2,y:a-S,textAnchor:"middle",verticalAnchor:C};return Gn(Gn({},M),s?{height:Math.max(a-s.y,0),width:l}:{})}if(i==="bottom"){var O={x:p+c/2,y:a+d+S,textAnchor:"middle",verticalAnchor:_};return Gn(Gn({},O),s?{height:Math.max(s.y+s.height-(a+d),0),width:c}:{})}if(i==="left"){var L={x:g-R,y:a+d/2,textAnchor:N,verticalAnchor:"middle"};return Gn(Gn({},L),s?{width:Math.max(L.x-s.x,0),height:d}:{})}if(i==="right"){var D={x:g+v+R,y:a+d/2,textAnchor:T,verticalAnchor:"middle"};return Gn(Gn({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:d}:{})}var F=s?{width:v,height:d}:{};return i==="insideLeft"?Gn({x:g+R,y:a+d/2,textAnchor:T,verticalAnchor:"middle"},F):i==="insideRight"?Gn({x:g+v-R,y:a+d/2,textAnchor:N,verticalAnchor:"middle"},F):i==="insideTop"?Gn({x:f+l/2,y:a+S,textAnchor:"middle",verticalAnchor:_},F):i==="insideBottom"?Gn({x:p+c/2,y:a+d-S,textAnchor:"middle",verticalAnchor:C},F):i==="insideTopLeft"?Gn({x:f+R,y:a+S,textAnchor:T,verticalAnchor:_},F):i==="insideTopRight"?Gn({x:f+l-R,y:a+S,textAnchor:N,verticalAnchor:_},F):i==="insideBottomLeft"?Gn({x:p+R,y:a+d-S,textAnchor:T,verticalAnchor:C},F):i==="insideBottomRight"?Gn({x:p+c-R,y:a+d-S,textAnchor:N,verticalAnchor:C},F):i&&typeof i=="object"&&(Qt(i.x)||Ya(i.x))&&(Qt(i.y)||Ya(i.y))?Gn({x:o+Lu(i.x,v),y:a+Lu(i.y,d),textAnchor:"end",verticalAnchor:"end"},F):Gn({x:b,y:a+d/2,textAnchor:"middle",verticalAnchor:"middle"},F)},yVe={angle:0,offset:5,zIndex:ta.label,position:"middle",textBreakAll:!1};function oJ(e){var t=id(e,yVe),{viewBox:n,position:r,value:i,children:s,content:o,className:a="",textBreakAll:l,labelRef:c}=t,d=dVe(),f=cVe(),p=r==="center"?f:d??f,g,v,b;if(n==null?g=p:rk(n)?g=n:g=qX(n),!g||Mi(i)&&Mi(s)&&!x.isValidElement(o)&&typeof o!="function")return null;var w=Gn(Gn({},t),{},{viewBox:g});if(x.isValidElement(o)){var{labelRef:S}=w,C=i4(w,nVe);return x.cloneElement(o,C)}if(typeof o=="function"){var{content:_}=w,k=i4(w,rVe);if(v=x.createElement(o,k),x.isValidElement(v))return v}else v=fVe(t);var R=Cs(t);if(rk(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return mVe(t,r,v,R,g);b=gVe(g,t.offset,t.position)}else b=vVe(t,g);return x.createElement(ad,{zIndex:t.zIndex},x.createElement(IO,Mx({ref:c,className:Ir("recharts-label",a)},R,b,{textAnchor:ZUe(R.textAnchor)?R.textAnchor:b.textAnchor,breakAll:l}),v))}oJ.displayName="Label";var CA={},AA={},o4;function bVe(){return o4||(o4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(AA)),AA}var TA={},a4;function xVe(){return a4||(a4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(TA)),TA}var l4;function wVe(){return l4||(l4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bVe(),n=xVe(),r=sX();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(CA)),CA}var RA,c4;function SVe(){return c4||(c4=1,RA=wVe().last),RA}var EVe=SVe();const aJ=Di(EVe);var _Ve=["valueAccessor"],CVe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(null,arguments)}function u4(e,t){if(e==null)return{};var n,r,i=AVe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TVe=e=>Array.isArray(e.value)?aJ(e.value):e.value,lJ=x.createContext(void 0),RVe=lJ.Provider,cJ=x.createContext(void 0);cJ.Provider;function kVe(){return x.useContext(lJ)}function PVe(){return x.useContext(cJ)}function yb(e){var{valueAccessor:t=TVe}=e,n=u4(e,_Ve),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:a}=n,l=u4(n,CVe),c=kVe(),d=PVe(),f=c||d;return!f||!f.length?null:x.createElement(ad,{zIndex:a??ta.label},x.createElement(hc,{className:"recharts-label-list"},f.map((p,g)=>{var v,b=Mi(r)?t(p,g):Sr(p&&p.payload,r),w=Mi(s)?{}:{id:"".concat(s,"-").concat(g)};return x.createElement(oJ,Ox({key:"label-".concat(g)},Cs(p),l,w,{fill:(v=n.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,index:g,zIndex:0}))})))}yb.displayName="LabelList";function NVe(e){var{label:t}=e;return t?t===!0?x.createElement(yb,{key:"labelList-implicit"}):x.isValidElement(t)||hVe(t)?x.createElement(yb,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(yb,Ox({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var MVe=["points","className","baseLinePoints","connectNulls"],d4;function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(null,arguments)}function OVe(e,t){if(e==null)return{};var n,r,i=DVe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function IVe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f4=e=>e&&e.x===+e.x&&e.y===+e.y,jVe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{f4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),f4(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},gm=(e,t)=>{var n=jVe(e);t&&(n=[n.reduce((i,s)=>[...i,...s],[])]);var r=n.map(i=>i.reduce((s,o,a)=>OLe(d4||(d4=IVe(["","","",",",""])),s,a===0?"M":"L",o.x,o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},LVe=(e,t,n)=>{var r=gm(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(gm(Array.from(t).reverse(),n).slice(1))},uJ=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,s=OVe(e,MVe);if(!t||!t.length)return null;var o=Ir("recharts-polygon",n);if(r&&r.length){var a=s.stroke&&s.stroke!=="none",l=LVe(t,r,i);return x.createElement("g",{className:o},x.createElement("path",vf({},Cs(s),{fill:l.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:l})),a?x.createElement("path",vf({},Cs(s),{fill:"none",d:gm(t,i)})):null,a?x.createElement("path",vf({},Cs(s),{fill:"none",d:gm(r,i)})):null)}var c=gm(t,i);return x.createElement("path",vf({},Cs(s),{fill:c.slice(-1)==="Z"?s.fill:"none",className:o,d:c}))};function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(null,arguments)}var jO=e=>{var{cx:t,cy:n,r,className:i}=e,s=Ir("recharts-dot",i);return Qt(t)&&Qt(n)&&Qt(r)?x.createElement("circle",ik({},Ps(e),iX(e),{className:s,cx:t,cy:n,r})):null},dJ=e=>e.graphicalItems.polarItems,zVe=ce([en,hv],lO),$S=ce([dJ,Rn,zVe],cO),FVe=ce([$S],uO),HS=ce([FVe,nO],dO),fJ=ce([HS,Rn,$S],hO);ce([HS,Rn,$S],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,o=Sr(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Sr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var h4=()=>{},$Ve=ce([HS,Rn,$S,IS,en],vO),HVe=ce([Rn,mO,gO,h4,$Ve,h4,zt,en],yO),hJ=ce([Rn,zt,HS,fJ,uv,en,HVe],bO),pJ=ce([hJ,Rn,Pc],wO),BVe=ce([Rn,hJ,pJ,en],EO),LO=(e,t,n)=>{switch(t){case"angleAxis":return Eh(e,n);case"radiusAxis":return dv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zO=(e,t,n)=>{switch(t){case"angleAxis":return IHe(e,n);case"radiusAxis":return jHe(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Sv=ce([LO,Pc,BVe,zO],jS),mJ=ce([zt,fJ,Ch,en],_O),Ev=ce([zt,LO,Pc,Sv,pJ,zO,vv,mJ,en],CQ),UVe=ce([Ev],e=>{if(e){var t=new Map;return e.forEach(n=>{var r=(n.coordinate+360)%360;t.has(r)||t.set(r,n)}),Array.from(t.values())}});ce([zt,LO,Sv,zO,vv,mJ,en],AQ);var VVe=(e,t)=>Ev(e,"angleAxis",t,!1),qVe=ce([VVe],e=>{if(e)return e.map(t=>t.coordinate)}),WVe=(e,t)=>Ev(e,"radiusAxis",t,!1),GVe=ce([WVe],e=>{if(e)return e.map(t=>t.coordinate)}),KVe=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function YVe(e,t){if(e==null)return{};var n,r,i=XVe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XVe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(null,arguments)}function p4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(n),!0).forEach(function(r){ZVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZVe(e,t,n){return(t=QVe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QVe(e){var t=JVe(e,"string");return typeof t=="symbol"?t:t+""}function JVe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e6e=(e,t,n,r)=>{var i="";return r.forEach((s,o)=>{var a=Oi(t,n,e,s);o?i+="L ".concat(a.x,",").concat(a.y):i+="M ".concat(a.x,",").concat(a.y)}),i+="Z",i},t6e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:s,radialLines:o}=e;if(!s||!s.length||!o)return null;var a=cg({stroke:"#ccc"},Ps(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},s.map(l=>{var c=Oi(t,n,r,l),d=Oi(t,n,i,l);return x.createElement("line",Js({key:"line-".concat(l)},a,{x1:c.x,y1:c.y,x2:d.x,y2:d.y}))}))},m4=e=>{var{cx:t,cy:n,radius:r}=e,i=cg({stroke:"#ccc",fill:"none"},Ps(e));return x.createElement("circle",Js({},i,{className:Ir("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},g4=e=>{var{radius:t}=e,n=cg({stroke:"#ccc",fill:"none"},Ps(e));return x.createElement("path",Js({},n,{className:Ir("recharts-polar-grid-concentric-polygon",e.className),d:e6e(t,e.cx,e.cy,e.polarAngles)}))},n6e=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(m4,Js({},e,{radius:r})),i&&n!=="circle"&&x.createElement(g4,Js({},e,{radius:r})),t.map((s,o)=>{var a=o;return n==="circle"?x.createElement(m4,Js({key:a},e,{fill:"none",radius:s})):x.createElement(g4,Js({key:a},e,{fill:"none",radius:s}))}))},gJ=e=>{var t,n,r,i,s,o,a,l,c,{gridType:d="polygon",radialLines:f=!0,angleAxisId:p=0,radiusAxisId:g=0,cx:v,cy:b,innerRadius:w,outerRadius:S,polarAngles:C,polarRadius:_}=e,k=YVe(e,KVe),R=It(fv),N=It(F=>qVe(F,p)),T=It(F=>GVe(F,g)),M=Array.isArray(C)?C:N,O=Array.isArray(_)?_:T;if(M==null||O==null)return null;var L=cg(cg({cx:(t=(n=R?.cx)!==null&&n!==void 0?n:v)!==null&&t!==void 0?t:0,cy:(r=(i=R?.cy)!==null&&i!==void 0?i:b)!==null&&r!==void 0?r:0,innerRadius:(s=(o=R?.innerRadius)!==null&&o!==void 0?o:w)!==null&&s!==void 0?s:0,outerRadius:(a=(l=R?.outerRadius)!==null&&l!==void 0?l:S)!==null&&a!==void 0?a:0,polarAngles:M,polarRadius:O},k),{},{zIndex:(c=k.zIndex)!==null&&c!==void 0?c:ta.grid}),{outerRadius:D}=L;return D<=0?null:x.createElement(ad,{zIndex:L.zIndex},x.createElement("g",{className:"recharts-polar-grid"},x.createElement(n6e,Js({gridType:d,radialLines:f},L,{polarAngles:M,polarRadius:O})),x.createElement(t6e,Js({gridType:d,radialLines:f},L,{polarAngles:M,polarRadius:O}))))};gJ.displayName="PolarGrid";var r6e={radiusAxis:{},angleAxis:{}},vJ=ji({name:"polarAxis",initialState:r6e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:B7e,removeRadiusAxis:U7e,addAngleAxis:i6e,removeAngleAxis:s6e}=vJ.actions,o6e=vJ.reducer,a6e=["children"];function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(null,arguments)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(r){l6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l6e(e,t,n){return(t=c6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c6e(e){var t=u6e(e,"string");return typeof t=="symbol"?t:t+""}function u6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d6e(e,t){if(e==null)return{};var n,r,i=f6e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f6e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var y4=1e-5,h6e=Math.cos(xx(45)),p6e="angleAxis";function m6e(e){var t=Qr(),n=x.useMemo(()=>{var{children:s}=e,o=d6e(e,a6e);return o},[e]),r=It(s=>Eh(s,n.id)),i=n===r;return x.useEffect(()=>(t(i6e(n)),()=>{t(s6e(n))}),[t,n]),i?e.children:null}var g6e=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:s,tickSize:o}=t,a=o||8,l=Oi(n,r,i,e.coordinate),c=Oi(n,r,i+(s==="inner"?-1:1)*a,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}},v6e=(e,t)=>{var n=Math.cos(xx(-e.coordinate));return n>y4?t==="outer"?"start":"end":n<-y4?t==="outer"?"end":"start":"middle"},y6e=e=>{var t=Math.cos(xx(-e.coordinate)),n=Math.sin(xx(-e.coordinate));return Math.abs(t)<=h6e?n>0?"start":"end":"middle"},b6e=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:s,ticks:o}=e;if(!s)return null;var a=Io(Io({},Ps(e)),{},{fill:"none"},Ps(s));if(i==="circle")return x.createElement(jO,Hu({className:"recharts-polar-angle-axis-line"},a,{cx:t,cy:n,r}));var l=o.map(c=>Oi(t,n,r,c.coordinate));return x.createElement(uJ,Hu({className:"recharts-polar-angle-axis-line"},a,{points:l}))},x6e=e=>{var{tick:t,tickProps:n,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,n):typeof t=="function"?t(n):x.createElement(IO,Hu({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},w6e=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:s}=e,o=Ps(e),a=XY(t),l=Io(Io({},o),{},{fill:"none"},Ps(n)),c=s.map((d,f)=>{var p=g6e(d,e),g=v6e(d,e.orientation),v=y6e(d),b=Io(Io(Io({},o),{},{textAnchor:g,verticalAnchor:v,stroke:"none",fill:i},a),{},{index:f,payload:d,x:p.x2,y:p.y2});return x.createElement(hc,Hu({className:Ir("recharts-polar-angle-axis-tick",a3e(t)),key:"tick-".concat(d.coordinate)},zLe(e,d,f)),n&&x.createElement("line",Hu({className:"recharts-polar-angle-axis-tick-line"},l,p)),x.createElement(x6e,{tick:t,tickProps:b,value:r?r(d.value,f):d.value}))});return x.createElement(hc,{className:"recharts-polar-angle-axis-ticks"},c)},S6e=e=>{var{angleAxisId:t}=e,n=It(fv),r=It(a=>Sv(a,"angleAxis",t)),i=ea(),s=It(a=>UVe(a,"angleAxis",t,i));if(n==null||!s||!s.length||r==null)return null;var o=Io(Io(Io({},e),{},{scale:r},n),{},{radius:n.outerRadius,ticks:s});return x.createElement(ad,{zIndex:o.zIndex},x.createElement(hc,{className:Ir("recharts-polar-angle-axis",p6e,o.className)},x.createElement(b6e,o),x.createElement(w6e,o)))};function yJ(e){var t=id(e,Do);return x.createElement(m6e,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},x.createElement(S6e,t))}yJ.displayName="PolarAngleAxis";var kA={exports:{}},jt={};var b4;function E6e(){if(b4)return jt;b4=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,g=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,w=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,C=e?Symbol.for("react.scope"):60119;function _(R){if(typeof R=="object"&&R!==null){var N=R.$$typeof;switch(N){case t:switch(R=R.type,R){case l:case c:case r:case s:case i:case f:return R;default:switch(R=R&&R.$$typeof,R){case a:case d:case v:case g:case o:return R;default:return N}}case n:return N}}}function k(R){return _(R)===c}return jt.AsyncMode=l,jt.ConcurrentMode=c,jt.ContextConsumer=a,jt.ContextProvider=o,jt.Element=t,jt.ForwardRef=d,jt.Fragment=r,jt.Lazy=v,jt.Memo=g,jt.Portal=n,jt.Profiler=s,jt.StrictMode=i,jt.Suspense=f,jt.isAsyncMode=function(R){return k(R)||_(R)===l},jt.isConcurrentMode=k,jt.isContextConsumer=function(R){return _(R)===a},jt.isContextProvider=function(R){return _(R)===o},jt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},jt.isForwardRef=function(R){return _(R)===d},jt.isFragment=function(R){return _(R)===r},jt.isLazy=function(R){return _(R)===v},jt.isMemo=function(R){return _(R)===g},jt.isPortal=function(R){return _(R)===n},jt.isProfiler=function(R){return _(R)===s},jt.isStrictMode=function(R){return _(R)===i},jt.isSuspense=function(R){return _(R)===f},jt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===c||R===s||R===i||R===f||R===p||typeof R=="object"&&R!==null&&(R.$$typeof===v||R.$$typeof===g||R.$$typeof===o||R.$$typeof===a||R.$$typeof===d||R.$$typeof===w||R.$$typeof===S||R.$$typeof===C||R.$$typeof===b)},jt.typeOf=_,jt}var x4;function _6e(){return x4||(x4=1,kA.exports=E6e()),kA.exports}_6e();var C6e=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function A6e(e){var{tooltipEntrySettings:t}=e,n=Qr(),r=ea(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(FBe(t)):i.current!==t&&n($Be({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(HBe(i.current)),i.current=null)},[n]),null}function T6e(e){var{legendPayload:t}=e,n=Qr(),r=It(zt),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(w5e(t)):i.current!==t&&n(S5e({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(E5e(i.current)),i.current=null)},[n]),null}var PA,R6e=()=>{var[e]=x.useState(()=>Qm("uid-"));return e},k6e=(PA=Vx.useId)!==null&&PA!==void 0?PA:R6e;function P6e(e,t){var n=k6e();return t||(e?"".concat(e,"-").concat(n):n)}var N6e=x.createContext(void 0),M6e=e=>{var{id:t,type:n,children:r}=e,i=P6e("recharts-".concat(n),t);return x.createElement(N6e.Provider,{value:i},r(i))},O6e={cartesianItems:[],polarItems:[]},bJ=ji({name:"graphicalItems",initialState:O6e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:gn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=to(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:gn()},removeCartesianGraphicalItem:{reducer(e,t){var n=to(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:gn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:gn()},removePolarGraphicalItem:{reducer(e,t){var n=to(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:gn()}}}),{addCartesianGraphicalItem:V7e,replaceCartesianGraphicalItem:q7e,removeCartesianGraphicalItem:W7e,addPolarGraphicalItem:D6e,removePolarGraphicalItem:I6e}=bJ.actions,j6e=bJ.reducer;function L6e(e){var t=Qr();return x.useLayoutEffect(()=>(t(D6e(e)),()=>{t(I6e(e))}),[t,e]),null}var z6e=["points"];function w4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(n),!0).forEach(function(r){F6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F6e(e,t,n){return(t=$6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $6e(e){var t=H6e(e,"string");return typeof t=="symbol"?t:t+""}function H6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(null,arguments)}function B6e(e,t){if(e==null)return{};var n,r,i=U6e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U6e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function V6e(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ir(r,typeof t!="boolean"?t.className:""),s=n??{},{points:o}=s,a=B6e(s,z6e);return x.createElement(jO,Dx({},a,{className:i}))}function q6e(e,t){return e==null?!1:t?!0:e.length===1}function W6e(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:o,needClip:a,clipPathId:l,zIndex:c=ta.scatter}=e;if(!q6e(t,n))return null;var d=C6e(n),f=dLe(n),p=t.map((v,b)=>{var w,S,C=NA(NA(NA({r:3},o),f),{},{index:b,cx:(w=v.x)!==null&&w!==void 0?w:void 0,cy:(S=v.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:v.value,payload:v.payload,points:t});return x.createElement(V6e,{key:"dot-".concat(b),option:n,dotProps:C,className:i})}),g={};return a&&l!=null&&(g.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),x.createElement(ad,{zIndex:c},x.createElement(hc,Dx({className:r},g),p))}function S4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(n),!0).forEach(function(r){G6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G6e(e,t,n){return(t=K6e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K6e(e){var t=Y6e(e,"string");return typeof t=="symbol"?t:t+""}function Y6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X6e={xAxis:{},yAxis:{},zAxis:{}},xJ=ji({name:"cartesianAxis",initialState:X6e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:gn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:gn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:gn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:gn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:gn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:gn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:gn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:gn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:gn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=E4(E4({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:G7e,replaceXAxis:K7e,removeXAxis:Y7e,addYAxis:X7e,replaceYAxis:Z7e,removeYAxis:Q7e,addZAxis:J7e,replaceZAxis:eKe,removeZAxis:tKe,updateYAxisWidth:nKe}=xJ.actions,Z6e=xJ.reducer,Q6e=ce([Jr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),J6e=ce([Q6e,il,sl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),e8e=()=>It(J6e),t8e=()=>It(O4e);function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){n8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n8e(e,t,n){return(t=r8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r8e(e){var t=i8e(e,"string");return typeof t=="symbol"?t:t+""}function i8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s8e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var a={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=MA(MA(MA({},a),XY(i)),iX(i)),c;return x.isValidElement(i)?c=x.cloneElement(i,l):typeof i=="function"?c=i(l):c=x.createElement(jO,l),x.createElement(hc,{className:"recharts-active-dot",clipPath:o},c)};function o8e(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:o=ta.activeDot}=e,a=It(lg),l=t8e();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Mi(c)?null:x.createElement(ad,{zIndex:o},x.createElement(s8e,{point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}function C4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(n),!0).forEach(function(r){a8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a8e(e,t,n){return(t=l8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8e(e){var t=c8e(e,"string");return typeof t=="symbol"?t:t+""}function c8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wJ=(e,t)=>Sv(e,"radiusAxis",t),u8e=ce([wJ],e=>{if(e!=null)return{scale:e}}),d8e=ce([dv,wJ],(e,t)=>{if(!(e==null||t==null))return Ix(Ix({},e),{},{scale:t})}),f8e=(e,t,n,r)=>Ev(e,"radiusAxis",t,r),SJ=(e,t,n)=>Eh(e,n),EJ=(e,t,n)=>Sv(e,"angleAxis",n),h8e=ce([SJ,EJ],(e,t)=>{if(!(e==null||t==null))return Ix(Ix({},e),{},{scale:t})}),p8e=(e,t,n,r)=>Ev(e,"angleAxis",n,r),m8e=ce([SJ,EJ,fv],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),g8e=(e,t,n,r,i)=>i,v8e=ce([zt,d8e,f8e,h8e,p8e],(e,t,n,r,i)=>_c(e,"radiusAxis")?AH(t,n,!1):AH(r,i,!1)),y8e=ce([dJ,g8e],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n?.dataKey}}),b8e=ce([u8e,m8e,nO,y8e,v8e],(e,t,n,r,i)=>{var{chartData:s,dataStartIndex:o,dataEndIndex:a}=n;if(!(e==null||t==null||s==null||i==null||r==null)){var l=s.slice(o,a+1);return k8e({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:r,bandSize:i})}}),x8e=["id"];function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug.apply(null,arguments)}function A4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(n),!0).forEach(function(r){w8e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w8e(e,t,n){return(t=S8e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S8e(e){var t=E8e(e,"string");return typeof t=="symbol"?t:t+""}function E8e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _8e(e,t){if(e==null)return{};var n,r,i=C8e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C8e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FO(e,t){return e&&e!=="none"?e:t}var A8e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:FO(r,i),value:$X(n,t),payload:e}]},T8e=x.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,tooltipType:a,id:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:$X(s,t),hide:o,type:a,color:FO(n,i),unit:"",graphicalItemId:l}};return x.createElement(A6e,{tooltipEntrySettings:c})});function R8e(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n,{id:s}=n,o=_8e(n,x8e),a=Ps(o);return x.createElement(W6e,{points:t,dot:r,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:a})}function k8e(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:s}=e,{cx:o,cy:a}=n,l=!1,c=[],d=n.type!=="number"?s??0:0;r.forEach((p,g)=>{var v=Sr(p,n.dataKey,g),b=Sr(p,i),w=n.scale(v)+d,S=Array.isArray(b)?aJ(b):b,C=Mi(S)?0:t.scale(S);Array.isArray(b)&&b.length>=2&&(l=!0),c.push(Ai(Ai({},Oi(o,a,C,w)),{},{name:v,value:b,cx:o,cy:a,radius:C,angle:w,payload:p}))});var f=[];return l&&c.forEach(p=>{if(Array.isArray(p.value)){var g=p.value[0],v=Mi(g)?0:t.scale(g);f.push(Ai(Ai({},p),{},{radius:v},Oi(o,a,v,p.angle)))}else f.push(p)}),{points:c,isRange:l,baseLinePoints:f}}function P8e(e){var{showLabels:t,points:n,children:r}=e,i=n.map(s=>{var o,a={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return Ai(Ai({},a),{},{value:(o=s.value)!==null&&o!==void 0?o:"",payload:s.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return x.createElement(RVe,{value:t?i:void 0},r)}function N8e(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:s,connectNulls:o}=r,a=d=>{var{onMouseEnter:f}=r;f&&f(r,d)},l=d=>{var{onMouseLeave:f}=r;f&&f(r,d)},c;return x.isValidElement(i)?c=x.cloneElement(i,Ai(Ai({},r),{},{points:t})):typeof i=="function"?c=i(Ai(Ai({},r),{},{points:t})):c=x.createElement(uJ,ug({},Cs(r),{onMouseEnter:a,onMouseLeave:l,points:t,baseLinePoints:s?n:void 0,connectNulls:o})),x.createElement(hc,{className:"recharts-radar-polygon"},c,x.createElement(R8e,{props:r,points:t}))}var T4=(e,t,n)=>(r,i)=>{var s=e&&e[Math.floor(i*t)];return s?Ai(Ai({},r),{},{x:M0(s.x,r.x,n),y:M0(s.y,r.y,n)}):Ai(Ai({},r),{},{x:M0(r.cx,r.x,n),y:M0(r.cy,r.y,n)})};function M8e(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:s,isAnimationActive:o,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,p=n.current,g=r.current,v=p?p.length/i.length:1,b=g?g.length/s.length:1,w=X5e(t,"recharts-radar-"),[S,C]=x.useState(!1),_=!S,k=x.useCallback(()=>{typeof d=="function"&&d(),C(!1)},[d]),R=x.useCallback(()=>{typeof f=="function"&&f(),C(!0)},[f]);return x.createElement(P8e,{showLabels:_,points:i},x.createElement(Y5e,{animationId:w,begin:a,duration:l,isActive:o,easing:c,key:"radar-".concat(w),onAnimationEnd:k,onAnimationStart:R},N=>{var T=N===1?i:i.map(T4(p,v,N)),M=N===1?s:s?.map(T4(g,b,N));return N>0&&(n.current=T,r.current=M),x.createElement(N8e,{points:T,baseLinePoints:M,props:t})}),x.createElement(NVe,{label:t.label}),t.children)}function O8e(e){var t=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(M8e,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var D8e={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:ta.area};function I8e(e){var{hide:t,className:n,points:r}=e;if(t)return null;var i=Ir("recharts-radar",n);return x.createElement(ad,{zIndex:e.zIndex},x.createElement(hc,{className:i},x.createElement(O8e,e)),x.createElement(o8e,{points:r,mainColor:FO(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function j8e(e){var t=ea(),n=It(r=>b8e(r,e.radiusAxisId,e.angleAxisId,t,e.id));return n?.points==null?null:x.createElement(I8e,ug({},e,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}function _J(e){var t=id(e,D8e);return x.createElement(M6e,{id:t.id,type:"radar"},n=>x.createElement(x.Fragment,null,x.createElement(L6e,{type:"radar",id:n,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),x.createElement(T6e,{legendPayload:A8e(t)}),x.createElement(T8e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:n}),x.createElement(j8e,ug({},t,{id:n}))))}_J.displayName="Radar";var L8e=e=>{var{chartData:t}=e,n=Qr(),r=ea();return x.useEffect(()=>r?()=>{}:(n(qB(t)),()=>{n(qB(void 0))}),[t,n,r]),null},R4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CJ=ji({name:"brush",initialState:R4,reducers:{setBrushSettings(e,t){return t.payload==null?R4:t.payload}}}),{setBrushSettings:rKe}=CJ.actions,z8e=CJ.reducer,F8e={dots:[],areas:[],lines:[]},AJ=ji({name:"referenceElements",initialState:F8e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=to(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=to(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=to(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:iKe,removeDot:sKe,addArea:oKe,removeArea:aKe,addLine:lKe,removeLine:cKe}=AJ.actions,$8e=AJ.reducer,H8e=x.createContext(void 0),B8e=e=>{var{children:t}=e,[n]=x.useState("".concat(Qm("recharts"),"-clip")),r=e8e();if(r==null)return null;var{x:i,y:s,width:o,height:a}=r;return x.createElement(H8e.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:s,height:a,width:o}))),t)},U8e={},TJ=ji({name:"errorBars",initialState:U8e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:uKe,replaceErrorBar:dKe,removeErrorBar:fKe}=TJ.actions,V8e=TJ.reducer,OA={exports:{}},DA={};var k4;function q8e(){if(k4)return DA;k4=1;var e=gc();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return DA.useSyncExternalStoreWithSelector=function(l,c,d,f,p){var g=i(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=o(function(){function w(R){if(!S){if(S=!0,C=R,R=f(R),p!==void 0&&v.hasValue){var N=v.value;if(p(N,R))return _=N}return _=R}if(N=_,n(C,R))return N;var T=f(R);return p!==void 0&&p(N,T)?(C=R,N):(C=R,_=T)}var S=!1,C,_,k=d===void 0?null:d;return[function(){return w(c())},k===null?void 0:function(){return w(k())}]},[c,d,f,p]);var b=r(l,g[0],g[1]);return s(function(){v.hasValue=!0,v.value=b},[b]),a(b),b},DA}var P4;function W8e(){return P4||(P4=1,OA.exports=q8e()),OA.exports}W8e();function G8e(e){e()}function K8e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){G8e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var N4={notify(){},get:()=>[]};function Y8e(e,t){let n,r=N4,i=0,s=!1;function o(b){d();const w=r.subscribe(b);let S=!1;return()=>{S||(S=!0,w(),f())}}function a(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return s}function d(){i++,n||(n=e.subscribe(l),r=K8e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=N4)}function p(){s||(s=!0,d())}function g(){s&&(s=!1,f())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return v}var X8e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z8e=X8e(),Q8e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",J8e=Q8e(),eqe=()=>Z8e||J8e?x.useLayoutEffect:x.useEffect,tqe=eqe();function M4(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nqe(e,t){if(M4(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!M4(e[n[i]],t[n[i]]))return!1;return!0}var rqe=Symbol.for("react-redux-context"),iqe=typeof globalThis<"u"?globalThis:{};function sqe(){if(!x.createContext)return{};const e=iqe[rqe]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var oqe=sqe();function aqe(e){const{children:t,context:n,serverState:r,store:i}=e,s=x.useMemo(()=>{const l=Y8e(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);tqe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||oqe;return x.createElement(a.Provider,{value:s},t)}var lqe=aqe,cqe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function uqe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function dqe(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(cqe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!nqe(e[r],t[r]))return!1}else if(!uqe(e[r],t[r]))return!1;return!0}var fqe=(e,t)=>t,$O=ce([fqe,zt,fv,gr,BQ,Nc,$4e,Jr],V4e),HO=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},RJ=Ns("mouseClick"),kJ=iv();kJ.startListening({actionCreator:RJ,effect:(e,t)=>{var n=e.payload,r=$O(t.getState(),HO(n));r?.activeIndex!=null&&t.dispatch(UBe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var sk=Ns("mouseMove"),PJ=iv(),H0=null;PJ.startListening({actionCreator:sk,effect:(e,t)=>{var n=e.payload;H0!==null&&cancelAnimationFrame(H0);var r=HO(n);H0=requestAnimationFrame(()=>{var i=t.getState(),s=PQ(i,i.tooltip.settings.shared);if(s==="axis"){var o=$O(i,r);o?.activeIndex!=null?t.dispatch(DQ({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(OQ())}H0=null})}});function hqe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var O4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},NJ=ji({name:"rootProps",initialState:O4,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:O4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pqe=NJ.reducer,{updateOptions:mqe}=NJ.actions,MJ=ji({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gqe}=MJ.actions,vqe=MJ.reducer,OJ=Ns("keyDown"),DJ=Ns("focus"),BO=iv();BO.startListening({actionCreator:OJ,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=AO(i,Rh(n),mv(n),xv(n)),a=o==null?-1:Number(o);if(!(!Number.isFinite(a)||a<0)){var l=Nc(n);if(s==="Enter"){var c=Px(n,"axis","hover",String(i.index));t.dispatch(tk({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=jBe(n),f=d==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,g=a+p*f;if(!(l==null||g>=l.length||g<0)){var v=Px(n,"axis","hover",String(g));t.dispatch(tk({active:!0,activeIndex:g.toString(),activeCoordinate:v}))}}}}}});BO.startListening({actionCreator:DJ,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=Px(n,"axis","hover",String(s));t.dispatch(tk({active:!0,activeIndex:s,activeCoordinate:o}))}}}});var ms=Ns("externalEvent"),IJ=iv(),IA=new Map;IJ.startListening({actionCreator:ms,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=IA.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var a=t.getState(),l={activeCoordinate:P4e(a),activeDataKey:R4e(a),activeIndex:lg(a),activeLabel:VQ(a),activeTooltipIndex:lg(a),isTooltipActive:N4e(a)};n(l,r)}finally{IA.delete(i)}});IA.set(i,o)}}});var yqe=ce([bv],e=>e.tooltipItemPayloads),bqe=ce([yqe,yv,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(a=>a.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,n);return o}}}),jJ=Ns("touchMove"),LJ=iv();LJ.startListening({actionCreator:jJ,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=PQ(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var o=$O(r,HO({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(DQ({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(PFe),f=(a=c.getAttribute(NFe))!==null&&a!==void 0?a:void 0,p=Th(r).find(b=>b.id===f);if(d==null||p==null||f==null)return;var{dataKey:g}=p,v=bqe(r,d,f);t.dispatch(BBe({activeDataKey:g,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var xqe=dX({brush:z8e,cartesianAxis:Z6e,chartData:mUe,errorBars:V8e,graphicalItems:j6e,layout:pFe,legend:_5e,options:dUe,polarAxis:o6e,polarOptions:vqe,referenceElements:$8e,rootProps:pqe,tooltip:VBe,zIndex:iUe}),wqe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Fze({reducer:xqe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([kJ.middleware,PJ.middleware,BO.middleware,IJ.middleware,LJ.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(AX({type:"raf"}))},devTools:{serialize:{replacer:hqe},name:"recharts-".concat(n)}})};function Sqe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ea(),s=x.useRef(null);if(i)return n;s.current==null&&(s.current=wqe(t,r));var o=SM;return x.createElement(lqe,{context:o,store:s.current},n)}function Eqe(e){var{layout:t,margin:n}=e,r=Qr(),i=ea();return x.useEffect(()=>{i||(r(dFe(t)),r(uFe(n)))},[r,i,t,n]),null}var _qe=x.memo(Eqe,dqe);function Cqe(e){var t=Qr();return x.useEffect(()=>{t(mqe(e))},[t,e]),null}function D4(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=Qr();return x.useLayoutEffect(()=>(r.current&&i(nUe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(rUe({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function I4(e){var{children:t,isPanorama:n}=e,r=It(W4e);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return x.createElement(x.Fragment,null,i.map(o=>x.createElement(D4,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>x.createElement(D4,{key:o,zIndex:o,isPanorama:n})))}var Aqe=["children"];function Tqe(e,t){if(e==null)return{};var n,r,i=Rqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}var kqe={width:"100%",height:"100%",display:"block"},Pqe=x.forwardRef((e,t)=>{var n=o5e(),r=a5e(),i=C5e();if(!pc(n)||!pc(r))return null;var{children:s,otherAttributes:o,title:a,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),x.createElement(ZY,jx({},o,{title:a,desc:l,role:d,tabIndex:c,width:n,height:r,style:kqe,ref:t}),s)}),Nqe=e=>{var{children:t}=e,n=It(bS);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return x.createElement(ZY,{width:r,height:i,x:o,y:s},t)},j4=x.forwardRef((e,t)=>{var{children:n}=e,r=Tqe(e,Aqe),i=ea();return i?x.createElement(Nqe,null,x.createElement(I4,{isPanorama:!0},n)):x.createElement(Pqe,jx({ref:t},r),x.createElement(I4,{isPanorama:!1},n))});function Mqe(){var e=Qr(),[t,n]=x.useState(null),r=It(kFe);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Er(s)&&s!==r&&e(hFe(s))}},[t,e,r]),n}function L4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oqe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(n),!0).forEach(function(r){Dqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dqe(e,t,n){return(t=Iqe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iqe(e){var t=jqe(e,"string");return typeof t=="symbol"?t:t+""}function jqe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bu.apply(null,arguments)}var Lqe=()=>(_Ue(),null);function Lx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var zqe=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[s,o]=x.useState({containerWidth:Lx((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Lx((r=e.style)===null||r===void 0?void 0:r.height)}),a=x.useCallback((c,d)=>{o(f=>{var p=Math.round(c),g=Math.round(d);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();a(d,f);var p=v=>{var{width:b,height:w}=v[0].contentRect;a(b,w)},g=new ResizeObserver(p);g.observe(c),i.current=g}},[t,a]);return x.useEffect(()=>()=>{var c=i.current;c?.disconnect()},[a]),x.createElement(x.Fragment,null,x.createElement(xS,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Bu({ref:l},e)))}),Fqe=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=x.useState({containerWidth:Lx(n),containerHeight:Lx(r)}),o=x.useCallback((l,c)=>{s(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),a=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(xS,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Bu({ref:a},e)))}),$qe=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(xS,{width:n,height:r}),x.createElement("div",Bu({ref:t},e)))}),Hqe=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ya(n)||Ya(r)?x.createElement(Fqe,Bu({},e,{ref:t})):x.createElement($qe,Bu({},e,{ref:t}))});function Bqe(e){return e===!0?zqe:Hqe}var Uqe=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:a,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:g,onTouchMove:v,onTouchStart:b,style:w,width:S,responsive:C,dispatchTouchEvents:_=!0}=e,k=x.useRef(null),R=Qr(),[N,T]=x.useState(null),[M,O]=x.useState(null),L=Mqe(),D=MM(),F=D?.width>0?D.width:S,G=D?.height>0?D.height:i,z=x.useCallback(X=>{L(X),typeof t=="function"&&t(X),T(X),O(X),X!=null&&(k.current=X)},[L,t,T,O]),V=x.useCallback(X=>{R(RJ(X)),R(ms({handler:s,reactEvent:X}))},[R,s]),j=x.useCallback(X=>{R(sk(X)),R(ms({handler:c,reactEvent:X}))},[R,c]),H=x.useCallback(X=>{R(OQ()),R(ms({handler:d,reactEvent:X}))},[R,d]),B=x.useCallback(X=>{R(sk(X)),R(ms({handler:f,reactEvent:X}))},[R,f]),K=x.useCallback(()=>{R(DJ())},[R]),U=x.useCallback(X=>{R(OJ(X.key))},[R]),q=x.useCallback(X=>{R(ms({handler:o,reactEvent:X}))},[R,o]),Y=x.useCallback(X=>{R(ms({handler:a,reactEvent:X}))},[R,a]),$=x.useCallback(X=>{R(ms({handler:l,reactEvent:X}))},[R,l]),J=x.useCallback(X=>{R(ms({handler:p,reactEvent:X}))},[R,p]),se=x.useCallback(X=>{R(ms({handler:b,reactEvent:X}))},[R,b]),ue=x.useCallback(X=>{_&&R(jJ(X)),R(ms({handler:v,reactEvent:X}))},[R,_,v]),ee=x.useCallback(X=>{R(ms({handler:g,reactEvent:X}))},[R,g]),Z=Bqe(C);return x.createElement(sUe.Provider,{value:N},x.createElement(yLe.Provider,{value:M},x.createElement(Z,{width:F??w?.width,height:G??w?.height,className:Ir("recharts-wrapper",r),style:Oqe({position:"relative",cursor:"default",width:F,height:G},w),onClick:V,onContextMenu:q,onDoubleClick:Y,onFocus:K,onKeyDown:U,onMouseDown:$,onMouseEnter:j,onMouseLeave:H,onMouseMove:B,onMouseUp:J,onTouchEnd:ee,onTouchMove:ue,onTouchStart:se,ref:z},x.createElement(Lqe,null),n)))}),Vqe=["width","height","responsive","children","className","style","compact","title","desc"];function qqe(e,t){if(e==null)return{};var n,r,i=Wqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gqe=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:a,compact:l,title:c,desc:d}=e,f=qqe(e,Vqe),p=Ps(f);return l?x.createElement(x.Fragment,null,x.createElement(xS,{width:n,height:r}),x.createElement(j4,{otherAttributes:p,title:c,desc:d},s)):x.createElement(Uqe,{className:o,style:a,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(j4,{otherAttributes:p,title:c,desc:d,ref:t},x.createElement(B8e,null,s)))});function Kqe(e){var t=Qr();return x.useEffect(()=>{t(gqe(e))},[t,e]),null}var Yqe=["layout"];function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok.apply(null,arguments)}function Xqe(e,t){if(e==null)return{};var n,r,i=Zqe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zqe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qqe={top:5,right:5,bottom:5,left:5},zJ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qqe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Jqe=x.forwardRef(function(t,n){var r,i=id(t.categoricalChartProps,zJ),{layout:s}=i,o=Xqe(i,Yqe),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(Sqe,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:a},x.createElement(L8e,{chartData:i.data}),x.createElement(_qe,{layout:s,margin:i.margin}),x.createElement(Cqe,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Kqe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(Gqe,ok({},o,{ref:n})))});function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){eWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eWe(e,t,n){return(t=tWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tWe(e){var t=nWe(e,"string");return typeof t=="symbol"?t:t+""}function nWe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rWe=["axis"],iWe=F4(F4({},zJ),{},{layout:"centric",startAngle:90,endAngle:-270}),sWe=x.forwardRef((e,t)=>{var n=id(e,iWe);return x.createElement(Jqe,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rWe,tooltipPayloadSearcher:cUe,categoricalChartProps:n,ref:t})});function oWe(){const{t:e}=lo(),t=gh(v=>v.setViewMode),{user:n,logout:r}=Ln(),{profile:i,fetchProfile:s,updateAvatar:o,isLoading:a}=bM(),[l,c]=x.useState(!1);x.useEffect(()=>{s()},[]);const d=async v=>{await o(v),c(!1)},f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},p=v=>{const b=v.toLowerCase();return e(`profile.radar_subjects.${b}`,v)},g={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return E.jsxs("div",{className:"h-full w-full bg-[#050505] text-white p-6 md:p-12 overflow-y-auto custom-scrollbar",children:[E.jsxs("div",{className:"max-w-6xl mx-auto mb-10 flex items-center justify-between",children:[E.jsxs(ct,{variant:"ghost",onClick:()=>t("galaxy"),className:"text-gray-400 hover:text-white pl-0 hover:bg-transparent group",children:[E.jsx(zk,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),e("profile.back_galaxy")]}),E.jsxs(ct,{variant:"outline",className:"border-red-900/30 text-red-500 hover:bg-red-950/30 hover:text-red-400 transition-all",onClick:r,children:[E.jsx(XU,{className:"w-4 h-4 mr-2"})," ",e("profile.logout")]})]}),E.jsx(wr.div,{className:"max-w-6xl mx-auto space-y-8 pb-20",variants:f,initial:"hidden",animate:"visible",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs(wr.div,{variants:g,className:"md:col-span-1 space-y-6",children:[E.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl border border-white/10 rounded-3xl p-8 relative overflow-hidden shadow-2xl",children:E.jsxs("div",{className:"flex flex-col items-center text-center relative z-10",children:[E.jsxs(kg,{open:l,onOpenChange:c,children:[E.jsx(O8,{asChild:!0,children:E.jsxs("div",{className:"relative mb-6 group cursor-pointer",children:[E.jsx("div",{className:"absolute inset-0 bg-blue-500 blur-2xl opacity-20 rounded-full group-hover:opacity-40 transition-opacity"}),E.jsxs(qY,{className:"w-32 h-32 border-4 border-white/10 bg-black shadow-2xl transition-transform group-hover:scale-105 duration-300",children:[E.jsx(WY,{src:i?.avatarUrl,className:"object-cover"}),E.jsx(GY,{className:"text-2xl font-bold bg-zinc-800 text-zinc-400",children:n?.name?.substring(0,2).toUpperCase()})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(roe,{className:"w-8 h-8 text-white"})}),a&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-full",children:E.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})}),E.jsxs(ch,{className:"bg-[#0a0a0a] border-white/10 text-white sm:max-w-[600px] shadow-[0_0_50px_rgba(0,0,0,1)]",children:[E.jsx(pw,{children:E.jsxs(uh,{className:"flex items-center gap-2 text-xl",children:[E.jsx(wae,{className:"w-5 h-5 text-blue-400"})," ",e("profile.identity")]})}),E.jsx("div",{className:"mt-4",children:E.jsx(Jje,{currentAvatar:i?.avatarUrl,onSelect:d})})]})]}),E.jsx("h2",{className:"text-2xl font-bold tracking-tight mb-1 truncate w-full",children:n?.name||"Explorador"}),E.jsxs("p",{className:"text-zinc-500 text-sm font-medium mb-6 italic",children:['"',i?.bio||e("profile.bio_default"),'"']}),E.jsxs("div",{className:"flex gap-2 mb-8",children:[E.jsx(Xm,{className:"bg-blue-500/10 text-blue-400 border-blue-500/20",children:e("nav.guest")}),E.jsx(Xm,{className:"bg-purple-500/10 text-purple-400 border-purple-500/20",children:"Beta User"})]}),E.jsxs("div",{className:"w-full bg-black/40 rounded-2xl p-5 text-xs text-gray-400 text-left space-y-4 border border-white/5 shadow-inner",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("span",{className:"flex items-center gap-2 uppercase tracking-widest font-bold text-[9px]",children:[E.jsx(Gu,{className:"w-3.5 h-3.5 text-blue-400"})," ",e("profile.stats_highlights")]}),E.jsx("span",{className:"text-white font-mono text-base",children:i?.stats?.highlights||0})]}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("span",{className:"flex items-center gap-2 uppercase tracking-widest font-bold text-[9px]",children:[E.jsx(Ba,{className:"w-3.5 h-3.5 text-cyan-400"})," ",e("profile.stats_summaries")]}),E.jsx("span",{className:"text-cyan-400 font-mono text-base",children:i?.stats?.summaries||0})]}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("span",{className:"flex items-center gap-2 uppercase tracking-widest font-bold text-[9px]",children:[E.jsx(QU,{className:"w-3.5 h-3.5 text-purple-400"})," ",e("profile.stats_connections")]}),E.jsx("span",{className:"text-purple-400 font-mono text-base",children:i?.stats?.connections||0})]})]})]})}),E.jsxs("div",{className:"p-6 bg-blue-500/5 border border-blue-500/10 rounded-3xl flex gap-4 items-start shadow-lg",children:[E.jsx(zoe,{className:"w-5 h-5 text-blue-400 shrink-0 mt-0.5"}),E.jsx("p",{className:"text-[11px] text-zinc-400 leading-relaxed",children:e("profile.info_radar")})]})]}),E.jsxs("div",{className:"md:col-span-2 space-y-6",children:[E.jsxs(wr.div,{variants:g,className:"bg-zinc-900/50 backdrop-blur-xl border border-white/10 rounded-3xl p-8 h-[520px] flex flex-col relative overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-xl tracking-tight",children:e("profile.radar_title")}),E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e("profile.radar_desc")})]}),E.jsx(Kse,{className:"w-6 h-6 text-purple-500 animate-pulse"})]}),E.jsx("div",{className:"flex-1 w-full flex items-center justify-center min-h-0",children:E.jsx(s5e,{width:"100%",height:"100%",children:E.jsxs(sWe,{cx:"50%",cy:"50%",outerRadius:"80%",data:i?.radar,children:[E.jsx(gJ,{stroke:"#333"}),E.jsx(yJ,{dataKey:"subject",tickFormatter:p,tick:{fill:"#888",fontSize:10,fontWeight:"bold"}}),E.jsx(_J,{name:"Nvel",dataKey:"A",stroke:"#8b5cf6",strokeWidth:2,fill:"#8b5cf6",fillOpacity:.5})]})})}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-purple-600/10 blur-[100px] rounded-full pointer-events-none"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"p-6 bg-zinc-900/30 border border-white/5 rounded-3xl hover:bg-zinc-900/50 transition-colors shadow-lg",children:[E.jsxs("h4",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[E.jsx(Fk,{className:"w-3 h-3"})," ",e("profile.next_evolution")]}),E.jsxs("p",{className:"text-sm text-zinc-300",children:[i?.stats?30-i.stats.highlights%30:30," ",e("profile.remaining_marks")]})]}),E.jsxs("div",{className:"p-6 bg-zinc-900/30 border border-white/5 rounded-3xl flex items-center justify-between shadow-lg",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-[0.2em] mb-1",children:e("profile.network_status")}),E.jsx("p",{className:"text-sm text-green-500 font-medium",children:e("profile.synced")})]}),E.jsx("div",{className:"w-2.5 h-2.5 bg-green-500 rounded-full animate-ping"})]})]})]})]})})]})}const aWe=[{id:"bible-complete",title:"Bblia Sagrada Completa",category:"Teologia",nodes:1189,color:"from-yellow-400 to-orange-500",icon:BU},{id:"brazilian-law",title:"Constituio & Cdigos",category:"Direito",nodes:5400,color:"from-green-400 to-emerald-600",icon:dae},{id:"aristotle-corpus",title:"Corpus Aristotelicum",category:"Filosofia",nodes:850,color:"from-blue-400 to-indigo-500",icon:$oe},{id:"world-history",title:"Histria das Civilizaes",category:"Histria",nodes:2300,color:"from-red-400 to-rose-600",icon:Doe}];function lWe(){const{t:e}=lo();return E.jsxs("div",{className:"p-8 max-w-7xl mx-auto h-full overflow-y-auto custom-scrollbar",children:[E.jsxs("div",{className:"text-center mb-16 space-y-4",children:[E.jsx("h1",{className:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-pink-400 to-orange-400",children:e("store.hero_title")}),E.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:e("store.hero_desc")}),E.jsxs("div",{className:"max-w-md mx-auto relative mt-8",children:[E.jsx(eV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),E.jsx(Mw,{placeholder:e("store.search_placeholder"),className:"pl-10 bg-white/5 border-white/10 text-white focus:border-purple-500/50"})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:aWe.map((t,n)=>E.jsxs(wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"group relative bg-zinc-900/50 border border-white/10 rounded-2xl overflow-hidden hover:border-white/20 transition-all hover:shadow-2xl hover:shadow-purple-500/10",children:[E.jsx("div",{className:`h-24 bg-gradient-to-br ${t.color} opacity-20 group-hover:opacity-30 transition-opacity`}),E.jsx("div",{className:"absolute top-12 left-6 w-12 h-12 bg-[#0a0a0a] rounded-xl border border-white/10 flex items-center justify-center shadow-lg",children:E.jsx(t.icon,{className:"w-6 h-6 text-white"})}),E.jsxs("div",{className:"p-6 pt-8",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx(Xm,{variant:"secondary",className:"bg-white/5 text-gray-400 hover:bg-white/10",children:t.category}),E.jsx("span",{className:"text-sm font-bold text-white",children:e("store.free")})]}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),E.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-6",children:[E.jsxs("span",{children:[t.nodes.toLocaleString()," ",e("store.nodes")]}),E.jsx("span",{children:""}),E.jsx("span",{children:e("store.vectors")})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs(ct,{variant:"outline",className:"w-full bg-transparent border-white/10 text-zinc-400 hover:text-white hover:bg-white/5 hover:border-white/20 transition-all",children:[E.jsx(Toe,{className:"w-4 h-4 mr-2"})," ",e("store.preview")]}),E.jsxs(ct,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white border border-white/10 shadow-lg shadow-blue-900/20 transition-all active:scale-95",children:[E.jsx(woe,{className:"w-4 h-4 mr-2"})," ",e("store.add")]})]})]})]},t.id))})]})}function cWe(e){if(!e)return"Resumo no disponvel.";const t=[];return Object.entries(e).forEach(([n,r])=>{r.forEach(i=>{t[i]=n})}),t.join(" ")}async function uWe(e,t){let n=e;t&&t!=="all"&&(n+=` ${t}`);const r=new URLSearchParams({search:n,per_page:"15",filter:"has_fulltext:true",sort:"publication_date:desc"});try{return(await(await fetch(`https://api.openalex.org/works?${r}`)).json()).results.map(o=>({id:o.id,title:o.title||"Sem ttulo",year:o.publication_year,citations:o.cited_by_count,venue:o.primary_location?.source?.display_name||"Desconhecido",abstract:cWe(o.abstract_inverted_index),pdfUrl:o.open_access.oa_url,sizeMB:Math.floor(Math.random()*4)+1}))}catch(i){return console.error("Erro na busca OpenAlex:",i),[]}}const dWe=Wu()(Lk((e,t)=>({results:[],isLoading:!1,storageUsed:45,storageLimit:100,savedPapers:[],search:async(n,r)=>{e({isLoading:!0});try{const i=await uWe(n,r),s=t().savedPapers.map(a=>a.id),o=i.map(a=>({...a,isSaved:s.includes(a.id)}));e({results:o,isLoading:!1})}catch(i){console.error(i),e({isLoading:!1}),Ue.error("Erro ao buscar artigos.")}},savePaper:async n=>{const{storageUsed:r,storageLimit:i}=t();if(r+n.sizeMB>i){Ue.error("Limite de armazenamento excedido!");return}if(!n.pdfUrl){Ue.error("Este artigo no possui PDF disponvel para download.");return}const s=Ue.loading("Baixando documento para a Galxia...",{description:"Isso pode levar alguns segundos."});try{await Gt.post("/ingestion/url",{pdfUrl:n.pdfUrl,title:n.title,source:"OpenAlex"}),Ue.dismiss(s),Ue.success("Documento salvo!",{description:"Ele aparecer na Biblioteca e ser processado pela IA."}),e(o=>({storageUsed:o.storageUsed+n.sizeMB,savedPapers:[...o.savedPapers,{...n,isSaved:!0}],results:o.results.map(a=>a.id===n.id?{...a,isSaved:!0}:a)}))}catch(o){console.error("Erro ao salvar:",o),Ue.dismiss(s);const a=o.response?.status===401?"Sesso expirada. Faa login novamente.":"No foi possvel baixar o PDF (Bloqueio do servidor de origem ou erro interno).";Ue.error("Falha no download",{description:a})}},removePaper:n=>{const r=t().savedPapers.find(i=>i.id===n);r&&e(i=>({storageUsed:i.storageUsed-r.sizeMB,savedPapers:i.savedPapers.filter(s=>s.id!==n),results:i.results.map(s=>s.id===n?{...s,isSaved:!1}:s)}))}}),{name:"logos-research-storage"}));function FJ(e){const t=fWe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(pWe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function fWe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=gWe(i),a=mWe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hWe=Symbol("radix.slottable");function pWe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hWe}function mWe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function gWe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vWe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],is=vWe.reduce((e,t)=>{const n=FJ(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function yWe(e){const t=bWe(e),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),l=a.find(wWe);if(l){const c=l.props.children,d=a.map(f=>f===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return E.jsx(t,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return E.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function bWe(e){const t=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=EWe(i),a=SWe(s,i.props);return i.type!==x.Fragment&&(a.ref=r?nr(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xWe=Symbol("radix.slottable");function wWe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xWe}function SWe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function EWe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _We=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CWe=_We.reduce((e,t)=>{const n=yWe(`Primitive.${t}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),$J=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AWe="VisuallyHidden",TWe=x.forwardRef((e,t)=>E.jsx(CWe.span,{...e,ref:t,style:{...$J,...e.style}}));TWe.displayName=AWe;var RWe=[" ","Enter","ArrowUp","ArrowDown"],kWe=[" ","Enter"],Uu="Select",[BS,US,PWe]=Uk(Uu),[kh]=Ds(Uu,[PWe,lh]),VS=lh(),[NWe,Mc]=kh(Uu),[MWe,OWe]=kh(Uu),HJ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:g,form:v}=e,b=VS(t),[w,S]=x.useState(null),[C,_]=x.useState(null),[k,R]=x.useState(!1),N=yg(c),[T,M]=sc({prop:r,defaultProp:i??!1,onChange:s,caller:Uu}),[O,L]=sc({prop:o,defaultProp:a,onChange:l,caller:Uu}),D=x.useRef(null),F=w?v||!!w.closest("form"):!0,[G,z]=x.useState(new Set),V=Array.from(G).map(j=>j.props.value).join(";");return E.jsx(Jk,{...b,children:E.jsxs(NWe,{required:g,scope:t,trigger:w,onTriggerChange:S,valueNode:C,onValueNodeChange:_,valueNodeHasChildren:k,onValueNodeHasChildrenChange:R,contentId:$o(),value:O,onValueChange:L,open:T,onOpenChange:M,dir:N,triggerPointerDownPosRef:D,disabled:p,children:[E.jsx(BS.Provider,{scope:t,children:E.jsx(MWe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(j=>{z(H=>new Set(H).add(j))},[]),onNativeOptionRemove:x.useCallback(j=>{z(H=>{const B=new Set(H);return B.delete(j),B})},[]),children:n})}),F?E.jsxs(dee,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:j=>L(j.target.value),disabled:p,form:v,children:[O===void 0?E.jsx("option",{value:""}):null,Array.from(G)]},V):null]})})};HJ.displayName=Uu;var BJ="SelectTrigger",UJ=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=VS(n),o=Mc(BJ,n),a=o.disabled||r,l=pt(t,o.onTriggerChange),c=US(n),d=x.useRef("touch"),[f,p,g]=hee(b=>{const w=c().filter(_=>!_.disabled),S=w.find(_=>_.value===o.value),C=pee(w,b,S);C!==void 0&&o.onValueChange(C.value)}),v=b=>{a||(o.onOpenChange(!0),g()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return E.jsx(nw,{asChild:!0,...s,children:E.jsx(is.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":fee(o.value)?"":void 0,...i,ref:l,onClick:ke(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&v(b)}),onPointerDown:ke(i.onPointerDown,b=>{d.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(v(b),b.preventDefault())}),onKeyDown:ke(i.onKeyDown,b=>{const w=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(w&&b.key===" ")&&RWe.includes(b.key)&&(v(),b.preventDefault())})})})});UJ.displayName=BJ;var VJ="SelectValue",qJ=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=e,l=Mc(VJ,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=pt(t,l.onValueNodeChange);return tr(()=>{c(d)},[c,d]),E.jsx(is.span,{...a,ref:f,style:{pointerEvents:"none"},children:fee(l.value)?E.jsx(E.Fragment,{children:o}):s})});qJ.displayName=VJ;var DWe="SelectIcon",WJ=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return E.jsx(is.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});WJ.displayName=DWe;var IWe="SelectPortal",GJ=e=>E.jsx(Sg,{asChild:!0,...e});GJ.displayName=IWe;var Vu="SelectContent",KJ=x.forwardRef((e,t)=>{const n=Mc(Vu,e.__scopeSelect),[r,i]=x.useState();if(tr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?nl.createPortal(E.jsx(YJ,{scope:e.__scopeSelect,children:E.jsx(BS.Slot,{scope:e.__scopeSelect,children:E.jsx("div",{children:e.children})})}),s):null}return E.jsx(XJ,{...e,ref:t})});KJ.displayName=Vu;var Vs=10,[YJ,Oc]=kh(Vu),jWe="SelectContentImpl",LWe=FJ("SelectContent.RemoveScroll"),XJ=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:b,avoidCollisions:w,...S}=e,C=Mc(Vu,n),[_,k]=x.useState(null),[R,N]=x.useState(null),T=pt(t,ee=>k(ee)),[M,O]=x.useState(null),[L,D]=x.useState(null),F=US(n),[G,z]=x.useState(!1),V=x.useRef(!1);x.useEffect(()=>{if(_)return iw(_)},[_]),Zx();const j=x.useCallback(ee=>{const[Z,...X]=F().map(ne=>ne.ref.current),[fe]=X.slice(-1),me=document.activeElement;for(const ne of ee)if(ne===me||(ne?.scrollIntoView({block:"nearest"}),ne===Z&&R&&(R.scrollTop=0),ne===fe&&R&&(R.scrollTop=R.scrollHeight),ne?.focus(),document.activeElement!==me))return},[F,R]),H=x.useCallback(()=>j([M,_]),[j,M,_]);x.useEffect(()=>{G&&H()},[G,H]);const{onOpenChange:B,triggerPointerDownPosRef:K}=C;x.useEffect(()=>{if(_){let ee={x:0,y:0};const Z=fe=>{ee={x:Math.abs(Math.round(fe.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(fe.pageY)-(K.current?.y??0))}},X=fe=>{ee.x<=10&&ee.y<=10?fe.preventDefault():_.contains(fe.target)||B(!1),document.removeEventListener("pointermove",Z),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",X,{capture:!0})}}},[_,B,K]),x.useEffect(()=>{const ee=()=>B(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[B]);const[U,q]=hee(ee=>{const Z=F().filter(me=>!me.disabled),X=Z.find(me=>me.ref.current===document.activeElement),fe=pee(Z,ee,X);fe&&setTimeout(()=>fe.ref.current.focus())}),Y=x.useCallback((ee,Z,X)=>{const fe=!V.current&&!X;(C.value!==void 0&&C.value===Z||fe)&&(O(ee),fe&&(V.current=!0))},[C.value]),$=x.useCallback(()=>_?.focus(),[_]),J=x.useCallback((ee,Z,X)=>{const fe=!V.current&&!X;(C.value!==void 0&&C.value===Z||fe)&&D(ee)},[C.value]),se=r==="popper"?ak:ZJ,ue=se===ak?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:v,hideWhenDetached:b,avoidCollisions:w}:{};return E.jsx(YJ,{scope:n,content:_,viewport:R,onViewportChange:N,itemRefCallback:Y,selectedItem:M,onItemLeave:$,itemTextRefCallback:J,focusSelectedItem:H,selectedItemText:L,position:r,isPositioned:G,searchRef:U,children:E.jsx(Cg,{as:LWe,allowPinchZoom:!0,children:E.jsx(xg,{asChild:!0,trapped:C.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ke(i,ee=>{C.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:E.jsx(bg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:E.jsx(se,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ee=>ee.preventDefault(),...S,...ue,onPlaced:()=>z(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:ke(S.onKeyDown,ee=>{const Z=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!Z&&ee.key.length===1&&q(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let fe=F().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const me=ee.target,ne=fe.indexOf(me);fe=fe.slice(ne+1)}setTimeout(()=>j(fe)),ee.preventDefault()}})})})})})})});XJ.displayName=jWe;var zWe="SelectItemAlignedPosition",ZJ=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Mc(Vu,n),o=Oc(Vu,n),[a,l]=x.useState(null),[c,d]=x.useState(null),f=pt(t,T=>d(T)),p=US(n),g=x.useRef(!1),v=x.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:S,focusSelectedItem:C}=o,_=x.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&b&&w&&S){const T=s.trigger.getBoundingClientRect(),M=c.getBoundingClientRect(),O=s.valueNode.getBoundingClientRect(),L=S.getBoundingClientRect();if(s.dir!=="rtl"){const me=L.left-M.left,ne=O.left-me,we=T.left-ne,xe=T.width+we,Re=Math.max(xe,M.width),Ae=window.innerWidth-Vs,Te=XT(ne,[Vs,Math.max(Vs,Ae-Re)]);a.style.minWidth=xe+"px",a.style.left=Te+"px"}else{const me=M.right-L.right,ne=window.innerWidth-O.right-me,we=window.innerWidth-T.right-ne,xe=T.width+we,Re=Math.max(xe,M.width),Ae=window.innerWidth-Vs,Te=XT(ne,[Vs,Math.max(Vs,Ae-Re)]);a.style.minWidth=xe+"px",a.style.right=Te+"px"}const D=p(),F=window.innerHeight-Vs*2,G=b.scrollHeight,z=window.getComputedStyle(c),V=parseInt(z.borderTopWidth,10),j=parseInt(z.paddingTop,10),H=parseInt(z.borderBottomWidth,10),B=parseInt(z.paddingBottom,10),K=V+j+G+B+H,U=Math.min(w.offsetHeight*5,K),q=window.getComputedStyle(b),Y=parseInt(q.paddingTop,10),$=parseInt(q.paddingBottom,10),J=T.top+T.height/2-Vs,se=F-J,ue=w.offsetHeight/2,ee=w.offsetTop+ue,Z=V+j+ee,X=K-Z;if(Z<=J){const me=D.length>0&&w===D[D.length-1].ref.current;a.style.bottom="0px";const ne=c.clientHeight-b.offsetTop-b.offsetHeight,we=Math.max(se,ue+(me?$:0)+ne+H),xe=Z+we;a.style.height=xe+"px"}else{const me=D.length>0&&w===D[0].ref.current;a.style.top="0px";const we=Math.max(J,V+b.offsetTop+(me?Y:0)+ue)+X;a.style.height=we+"px",b.scrollTop=Z-J+b.offsetTop}a.style.margin=`${Vs}px 0`,a.style.minHeight=U+"px",a.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[p,s.trigger,s.valueNode,a,c,b,w,S,s.dir,r]);tr(()=>_(),[_]);const[k,R]=x.useState();tr(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const N=x.useCallback(T=>{T&&v.current===!0&&(_(),C?.(),v.current=!1)},[_,C]);return E.jsx($We,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:E.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:E.jsx(is.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZJ.displayName=zWe;var FWe="SelectPopperPosition",ak=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Vs,...s}=e,o=VS(n);return E.jsx(eP,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ak.displayName=FWe;var[$We,UO]=kh(Vu,{}),lk="SelectViewport",QJ=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Oc(lk,n),o=UO(lk,n),a=pt(t,s.onViewportChange),l=x.useRef(0);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),E.jsx(BS.Slot,{scope:n,children:E.jsx(is.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ke(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p?.current&&f){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-Vs*2,b=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),S=Math.max(b,w);if(S<v){const C=S+g,_=Math.min(v,C),k=C-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});QJ.displayName=lk;var JJ="SelectGroup",[HWe,BWe]=kh(JJ),UWe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$o();return E.jsx(HWe,{scope:n,id:i,children:E.jsx(is.div,{role:"group","aria-labelledby":i,...r,ref:t})})});UWe.displayName=JJ;var eee="SelectLabel",tee=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=BWe(eee,n);return E.jsx(is.div,{id:i.id,...r,ref:t})});tee.displayName=eee;var zx="SelectItem",[VWe,nee]=kh(zx),ree=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,a=Mc(zx,n),l=Oc(zx,n),c=a.value===r,[d,f]=x.useState(s??""),[p,g]=x.useState(!1),v=pt(t,C=>l.itemRefCallback?.(C,r,i)),b=$o(),w=x.useRef("touch"),S=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return E.jsx(VWe,{scope:n,value:r,disabled:i,textId:b,isSelected:c,onItemTextChange:x.useCallback(C=>{f(_=>_||(C?.textContent??"").trim())},[]),children:E.jsx(BS.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:E.jsx(is.div,{role:"option","aria-labelledby":b,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:ke(o.onFocus,()=>g(!0)),onBlur:ke(o.onBlur,()=>g(!1)),onClick:ke(o.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:ke(o.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:ke(o.onPointerDown,C=>{w.current=C.pointerType}),onPointerMove:ke(o.onPointerMove,C=>{w.current=C.pointerType,i?l.onItemLeave?.():w.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,C=>{C.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ke(o.onKeyDown,C=>{l.searchRef?.current!==""&&C.key===" "||(kWe.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});ree.displayName=zx;var em="SelectItemText",iee=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=Mc(em,n),a=Oc(em,n),l=nee(em,n),c=OWe(em,n),[d,f]=x.useState(null),p=pt(t,S=>f(S),l.onItemTextChange,S=>a.itemTextRefCallback?.(S,l.value,l.disabled)),g=d?.textContent,v=x.useMemo(()=>E.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=c;return tr(()=>(b(v),()=>w(v)),[b,w,v]),E.jsxs(E.Fragment,{children:[E.jsx(is.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?nl.createPortal(s.children,o.valueNode):null]})});iee.displayName=em;var see="SelectItemIndicator",oee=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nee(see,n).isSelected?E.jsx(is.span,{"aria-hidden":!0,...r,ref:t}):null});oee.displayName=see;var ck="SelectScrollUpButton",aee=x.forwardRef((e,t)=>{const n=Oc(ck,e.__scopeSelect),r=UO(ck,e.__scopeSelect),[i,s]=x.useState(!1),o=pt(t,r.onScrollButtonChange);return tr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?E.jsx(cee,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});aee.displayName=ck;var uk="SelectScrollDownButton",lee=x.forwardRef((e,t)=>{const n=Oc(uk,e.__scopeSelect),r=UO(uk,e.__scopeSelect),[i,s]=x.useState(!1),o=pt(t,r.onScrollButtonChange);return tr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?E.jsx(cee,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});lee.displayName=uk;var cee=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Oc("SelectScrollButton",n),o=x.useRef(null),a=US(n),l=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),tr(()=>{a().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),E.jsx(is.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ke(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ke(i.onPointerLeave,()=>{l()})})}),qWe="SelectSeparator",uee=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return E.jsx(is.div,{"aria-hidden":!0,...r,ref:t})});uee.displayName=qWe;var dk="SelectArrow",WWe=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=VS(n),s=Mc(dk,n),o=Oc(dk,n);return s.open&&o.position==="popper"?E.jsx(tP,{...i,...r,ref:t}):null});WWe.displayName=dk;var GWe="SelectBubbleInput",dee=x.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=x.useRef(null),s=pt(r,i),o=oN(t);return x.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),E.jsx(is.select,{...n,style:{...$J,...n.style},ref:s,defaultValue:t})});dee.displayName=GWe;function fee(e){return e===""||e===void 0}function hee(e){const t=xr(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const a=n.current+o;t(a),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(a)},[t]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function pee(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=KWe(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function KWe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YWe=HJ,mee=UJ,XWe=qJ,ZWe=WJ,QWe=GJ,gee=KJ,JWe=QJ,vee=tee,yee=ree,e9e=iee,t9e=oee,bee=aee,xee=lee,wee=uee;const n9e=YWe,r9e=XWe,See=x.forwardRef(({className:e,children:t,...n},r)=>E.jsxs(mee,{ref:r,className:ot("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,E.jsx(ZWe,{asChild:!0,children:E.jsx(qU,{className:"h-4 w-4 opacity-50"})})]}));See.displayName=mee.displayName;const Eee=x.forwardRef(({className:e,...t},n)=>E.jsx(bee,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:E.jsx(loe,{className:"h-4 w-4"})}));Eee.displayName=bee.displayName;const _ee=x.forwardRef(({className:e,...t},n)=>E.jsx(xee,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:E.jsx(qU,{className:"h-4 w-4"})}));_ee.displayName=xee.displayName;const Cee=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>E.jsx(QWe,{children:E.jsxs(gee,{ref:i,className:ot("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[E.jsx(Eee,{}),E.jsx(JWe,{className:ot("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),E.jsx(_ee,{})]})}));Cee.displayName=gee.displayName;const i9e=x.forwardRef(({className:e,...t},n)=>E.jsx(vee,{ref:n,className:ot("px-2 py-1.5 text-sm font-semibold",e),...t}));i9e.displayName=vee.displayName;const Aee=x.forwardRef(({className:e,children:t,...n},r)=>E.jsxs(yee,{ref:r,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[E.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(t9e,{children:E.jsx(gg,{className:"h-4 w-4"})})}),E.jsx(e9e,{children:t})]}));Aee.displayName=yee.displayName;const s9e=x.forwardRef(({className:e,...t},n)=>E.jsx(wee,{ref:n,className:ot("-mx-1 my-1 h-px bg-muted",e),...t}));s9e.displayName=wee.displayName;function o9e(e,t=[]){let n=[];function r(s,o){const a=x.createContext(o);a.displayName=s+"Context";const l=n.length;n=[...n,o];const c=f=>{const{scope:p,children:g,...v}=f,b=p?.[e]?.[l]||a,w=x.useMemo(()=>v,Object.values(v));return E.jsx(b.Provider,{value:w,children:g})};c.displayName=s+"Provider";function d(f,p){const g=p?.[e]?.[l]||a,v=x.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const l=a?.[e]||s;return x.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,a9e(i,...t)]}function a9e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var VO="Progress",qO=100,[l9e]=o9e(VO),[c9e,u9e]=l9e(VO),Tee=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=d9e,...o}=e;(i||i===0)&&!$4(i)&&console.error(f9e(`${i}`,"Progress"));const a=$4(i)?i:qO;r!==null&&!H4(r,a)&&console.error(h9e(`${r}`,"Progress"));const l=H4(r,a)?r:null,c=Fx(l)?s(l,a):void 0;return E.jsx(c9e,{scope:n,value:l,max:a,children:E.jsx(Zu.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Fx(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Pee(l,a),"data-value":l??void 0,"data-max":a,...o,ref:t})})});Tee.displayName=VO;var Ree="ProgressIndicator",kee=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=u9e(Ree,n);return E.jsx(Zu.div,{"data-state":Pee(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});kee.displayName=Ree;function d9e(e,t){return`${Math.round(e/t*100)}%`}function Pee(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Fx(e){return typeof e=="number"}function $4(e){return Fx(e)&&!isNaN(e)&&e>0}function H4(e,t){return Fx(e)&&!isNaN(e)&&e<=t&&e>=0}function f9e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qO}\`.`}function h9e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Nee=Tee,p9e=kee;const WO=x.forwardRef(({className:e,value:t,...n},r)=>E.jsx(Nee,{ref:r,className:ot("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:E.jsx(p9e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));WO.displayName=Nee.displayName;function Mee({used:e,limit:t,className:n}){const{t:r}=lo(),i=Math.min(100,e/t*100),s=i>90;return E.jsxs("div",{className:`bg-zinc-900/50 border border-white/10 p-4 rounded-xl backdrop-blur-md shadow-lg ${n}`,children:[E.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[E.jsxs("span",{className:"flex items-center gap-2 text-gray-300 font-medium",children:[E.jsx(joe,{className:`w-3 h-3 ${s?"text-red-500":"text-purple-400"}`}),r("library.storage")," "]}),E.jsxs("span",{className:s?"text-red-400 font-bold":"text-green-400 font-mono",children:[e,"MB / ",t,"MB"]})]}),E.jsx(WO,{value:i,className:`h-1.5 ${s?"bg-red-900/20":""}`})]})}const m9e=[{value:"all",labelKey:"research.areas.all"},{value:"Artificial Intelligence",labelKey:"research.areas.ai"},{value:"Medicine",labelKey:"research.areas.medicine"},{value:"Law",labelKey:"research.areas.law"},{value:"History",labelKey:"research.areas.history"},{value:"Engineering",labelKey:"research.areas.engineering"}];function g9e(){const{t:e}=lo(),{results:t,search:n,isLoading:r,savePaper:i}=dWe(),{profile:s,fetchProfile:o}=bM(),[a,l]=x.useState(""),[c,d]=x.useState("all");x.useEffect(()=>{o(),t.length===0&&n("artificial intelligence","all")},[]);const f=p=>{p.preventDefault(),a.trim()&&n(a,c)};return E.jsxs("div",{className:"h-full w-full bg-[#050505] text-white p-6 md:p-12 overflow-y-auto custom-scrollbar",children:[E.jsxs("div",{className:"max-w-6xl mx-auto mb-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-teal-400 to-blue-500",children:e("research.title")}),E.jsx("p",{className:"text-gray-400 mt-2",children:e("research.subtitle")})]}),E.jsx("div",{className:"w-full md:w-72",children:E.jsx(Mee,{used:s?.stats?.storageUsed||0,limit:s?.stats?.storageLimit||100})})]}),E.jsx("div",{className:"max-w-4xl mx-auto mb-12 sticky top-0 z-30 pt-4 bg-[#050505]/95 backdrop-blur",children:E.jsxs("form",{onSubmit:f,className:"flex gap-2 p-2 bg-zinc-900/90 border border-white/15 rounded-full shadow-2xl transition-all focus-within:border-blue-500/50 focus-within:ring-2 focus-within:ring-blue-500/20",children:[E.jsxs(n9e,{value:c,onValueChange:d,children:[E.jsx(See,{className:"w-[180px] rounded-l-full border-0 bg-transparent focus:ring-0 text-gray-300 font-medium hover:text-white pl-6",children:E.jsx(r9e,{placeholder:e("research.search_area")})}),E.jsx(Cee,{children:m9e.map(p=>E.jsx(Aee,{value:p.value,children:e(p.labelKey)},p.value))})]}),E.jsx("div",{className:"w-px h-6 bg-white/10 self-center mx-2"}),E.jsx(Mw,{value:a,onChange:p=>l(p.target.value),placeholder:e("research.search_placeholder"),className:"border-0 bg-transparent focus-visible:ring-0 text-white placeholder:text-gray-500 flex-1 h-10 text-base"}),E.jsx(ct,{type:"submit",size:"icon",className:"rounded-full w-10 h-10 bg-blue-600 hover:bg-blue-500 shadow-[0_0_15px_rgba(37,99,235,0.5)] border border-blue-400/30 mr-1",children:r?E.jsx(no,{className:"w-4 h-4 animate-spin"}):E.jsx(eV,{className:"w-4 h-4"})})]})}),E.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 gap-4 pb-20",children:[E.jsx("h3",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-2 pl-2",children:e(r?"common.loading":a?"research.results":"research.recent")}),t.map(p=>E.jsxs("div",{className:"group bg-zinc-900/40 border border-white/5 hover:border-blue-500/30 rounded-xl p-6 transition-all hover:bg-zinc-900/80 flex flex-col md:flex-row gap-6 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 blur-[50px] rounded-full pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity"}),E.jsxs("div",{className:"flex-1 space-y-3 relative z-10",children:[E.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[E.jsx(Xm,{variant:"outline",className:"text-[10px] border-blue-500/30 text-blue-400 bg-blue-500/5 px-2 py-0.5",children:p.year}),E.jsx(Xm,{variant:"outline",className:"text-[10px] border-white/10 text-gray-400 max-w-[300px] truncate px-2 py-0.5",children:p.venue})]}),E.jsx("h3",{className:"text-lg font-bold text-gray-100 leading-snug group-hover:text-blue-300 transition-colors",children:p.title}),E.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 leading-relaxed",children:p.abstract})]}),E.jsxs("div",{className:"flex md:flex-col justify-center gap-3 border-t md:border-t-0 md:border-l border-white/5 pt-4 md:pt-0 md:pl-6 min-w-[160px] relative z-10",children:[E.jsxs(ct,{onClick:()=>p.pdfUrl&&window.open(p.pdfUrl,"_blank"),disabled:!p.pdfUrl,size:"sm",className:"w-full bg-white/5 hover:bg-white/10 text-zinc-300 hover:text-white border border-white/10 transition-colors text-xs",children:[E.jsx(Gu,{className:"w-3.5 h-3.5 mr-2"})," ",e("research.read_pdf")]}),E.jsx(ct,{variant:p.isSaved?"secondary":"default",onClick:()=>!p.isSaved&&i(p),disabled:p.isSaved,size:"sm",className:`w-full text-xs border transition-all duration-300 ${p.isSaved?"bg-green-500/10 text-green-400 border-green-500/20 opacity-80":"bg-blue-600 hover:bg-blue-500 text-white border-blue-500/50 shadow-[0_0_15px_rgba(37,99,235,0.3)]"}`,children:p.isSaved?E.jsxs(E.Fragment,{children:[E.jsx(gg,{className:"w-3.5 h-3.5 mr-2"})," ",e("research.saved")]}):E.jsxs(E.Fragment,{children:[E.jsx(JU,{className:"w-3.5 h-3.5 mr-2"})," ",e("research.save")," (",p.sizeMB,"MB)"]})})]})]},p.id))]})]})}var v9e=kN();const Zt=Di(v9e),y9e=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function eh(e,t,n){const r=b9e(e),{webkitRelativePath:i}=e,s=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&B4(r,"path",s),B4(r,"relativePath",s),r}function b9e(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=y9e.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function B4(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const x9e=[".DS_Store","Thumbs.db"];function w9e(e){return Ku(this,void 0,void 0,function*(){return $x(e)&&S9e(e.dataTransfer)?A9e(e.dataTransfer,e.type):E9e(e)?_9e(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?C9e(e):[]})}function S9e(e){return $x(e)}function E9e(e){return $x(e)&&$x(e.target)}function $x(e){return typeof e=="object"&&e!==null}function _9e(e){return fk(e.target.files).map(t=>eh(t))}function C9e(e){return Ku(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>eh(n))})}function A9e(e,t){return Ku(this,void 0,void 0,function*(){if(e.items){const n=fk(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(T9e));return U4(Oee(r))}return U4(fk(e.files).map(n=>eh(n)))})}function U4(e){return e.filter(t=>x9e.indexOf(t.name)===-1)}function fk(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function T9e(e){if(typeof e.webkitGetAsEntry!="function")return V4(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?Dee(t):V4(e,t)}function Oee(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?Oee(n):[n]],[])}function V4(e,t){return Ku(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,eh(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return eh(r,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function R9e(e){return Ku(this,void 0,void 0,function*(){return e.isDirectory?Dee(e):k9e(e)})}function Dee(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function s(){t.readEntries(o=>Ku(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(R9e));i.push(a),s()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function k9e(e){return Ku(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const i=eh(r,e.fullPath);t(i)},r=>{n(r)})})})}var B0={},q4;function P9e(){return q4||(q4=1,B0.__esModule=!0,B0.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0}),B0}var N9e=P9e();const jA=Di(N9e);function W4(e){return D9e(e)||O9e(e)||jee(e)||M9e()}function M9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D9e(e){if(Array.isArray(e))return hk(e)}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function K4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(r){Iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dg(e,t){return L9e(e)||j9e(e,t)||jee(e,t)||I9e()}function I9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(e,t){if(e){if(typeof e=="string")return hk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hk(e,t)}}function hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function L9e(e){if(Array.isArray(e))return e}var z9e=typeof jA=="function"?jA:jA.default,F9e="file-invalid-type",$9e="file-too-large",H9e="file-too-small",B9e="too-many-files",U9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:F9e,message:"File type must be ".concat(r)}},Y4=function(t){return{code:$9e,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},X4=function(t){return{code:H9e,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},V9e={code:B9e,message:"Too many files"};function Lee(e,t){var n=e.type==="application/x-moz-file"||z9e(e,t);return[n,n?null:U9e(t)]}function zee(e,t,n){if(ou(e.size))if(ou(t)&&ou(n)){if(e.size>n)return[!1,Y4(n)];if(e.size<t)return[!1,X4(t)]}else{if(ou(t)&&e.size<t)return[!1,X4(t)];if(ou(n)&&e.size>n)return[!1,Y4(n)]}return[!0,null]}function ou(e){return e!=null}function q9e(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,s=e.multiple,o=e.maxFiles,a=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(l){var c=Lee(l,n),d=dg(c,1),f=d[0],p=zee(l,r,i),g=dg(p,1),v=g[0],b=a?a(l):null;return f&&v&&!b})}function Hx(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function U0(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Z4(e){e.preventDefault()}function W9e(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function G9e(e){return e.indexOf("Edge/")!==-1}function K9e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return W9e(e)||G9e(e)}function Eo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return t.some(function(a){return!Hx(r)&&a&&a.apply(void 0,[r].concat(s)),Hx(r)})}}function Y9e(){return"showOpenFilePicker"in window}function X9e(e){if(ou(e)){var t=Object.entries(e).filter(function(n){var r=dg(n,2),i=r[0],s=r[1],o=!0;return Fee(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every($ee))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=dg(r,2),s=i[0],o=i[1];return K4(K4({},n),{},Iee({},s,o))},{});return[{description:"Files",accept:t}]}return e}function Z9e(e){if(ou(e))return Object.entries(e).reduce(function(t,n){var r=dg(n,2),i=r[0],s=r[1];return[].concat(W4(t),[i],W4(s))},[]).filter(function(t){return Fee(t)||$ee(t)}).join(",")}function Q9e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function J9e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Fee(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function $ee(e){return/^.*\.[\w]+$/.test(e)}var eGe=["children"],tGe=["open"],nGe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],rGe=["refKey","onChange","onClick"];function iGe(e){return aGe(e)||oGe(e)||Hee(e)||sGe()}function sGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aGe(e){if(Array.isArray(e))return pk(e)}function LA(e,t){return uGe(e)||cGe(e,t)||Hee(e,t)||lGe()}function lGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(e,t){if(e){if(typeof e=="string")return pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(e,t)}}function pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function uGe(e){if(Array.isArray(e))return e}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(r){mk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bx(e,t){if(e==null)return{};var n=dGe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dGe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var GO=x.forwardRef(function(e,t){var n=e.children,r=Bx(e,eGe),i=Uee(r),s=i.open,o=Bx(i,tGe);return x.useImperativeHandle(t,function(){return{open:s}},[s]),ie.createElement(x.Fragment,null,n(An(An({},o),{},{open:s})))});GO.displayName="Dropzone";var Bee={disabled:!1,getFilesFromEvent:w9e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};GO.defaultProps=Bee;GO.propTypes={children:Zt.func,accept:Zt.objectOf(Zt.arrayOf(Zt.string)),multiple:Zt.bool,preventDropOnDocument:Zt.bool,noClick:Zt.bool,noKeyboard:Zt.bool,noDrag:Zt.bool,noDragEventsBubbling:Zt.bool,minSize:Zt.number,maxSize:Zt.number,maxFiles:Zt.number,disabled:Zt.bool,getFilesFromEvent:Zt.func,onFileDialogCancel:Zt.func,onFileDialogOpen:Zt.func,useFsAccessApi:Zt.bool,autoFocus:Zt.bool,onDragEnter:Zt.func,onDragLeave:Zt.func,onDragOver:Zt.func,onDrop:Zt.func,onDropAccepted:Zt.func,onDropRejected:Zt.func,onError:Zt.func,validator:Zt.func};var gk={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Uee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=An(An({},Bee),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,p=t.onDrop,g=t.onDropAccepted,v=t.onDropRejected,b=t.onFileDialogCancel,w=t.onFileDialogOpen,S=t.useFsAccessApi,C=t.autoFocus,_=t.preventDropOnDocument,k=t.noClick,R=t.noKeyboard,N=t.noDrag,T=t.noDragEventsBubbling,M=t.onError,O=t.validator,L=x.useMemo(function(){return Z9e(n)},[n]),D=x.useMemo(function(){return X9e(n)},[n]),F=x.useMemo(function(){return typeof w=="function"?w:J4},[w]),G=x.useMemo(function(){return typeof b=="function"?b:J4},[b]),z=x.useRef(null),V=x.useRef(null),j=x.useReducer(fGe,gk),H=LA(j,2),B=H[0],K=H[1],U=B.isFocused,q=B.isFileDialogActive,Y=x.useRef(typeof window<"u"&&window.isSecureContext&&S&&Y9e()),$=function(){!Y.current&&q&&setTimeout(function(){if(V.current){var Me=V.current.files;Me.length||(K({type:"closeDialog"}),G())}},300)};x.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[V,q,G,Y]);var J=x.useRef([]),se=function(Me){z.current&&z.current.contains(Me.target)||(Me.preventDefault(),J.current=[])};x.useEffect(function(){return _&&(document.addEventListener("dragover",Z4,!1),document.addEventListener("drop",se,!1)),function(){_&&(document.removeEventListener("dragover",Z4),document.removeEventListener("drop",se))}},[z,_]),x.useEffect(function(){return!r&&C&&z.current&&z.current.focus(),function(){}},[z,C,r]);var ue=x.useCallback(function(Ee){M?M(Ee):console.error(Ee)},[M]),ee=x.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),mt(Ee),J.current=[].concat(iGe(J.current),[Ee.target]),U0(Ee)&&Promise.resolve(i(Ee)).then(function(Me){if(!(Hx(Ee)&&!T)){var le=Me.length,be=le>0&&q9e({files:Me,accept:L,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:O}),Pe=le>0&&!be;K({isDragAccept:be,isDragReject:Pe,isDragActive:!0,type:"setDraggedFiles"}),c&&c(Ee)}}).catch(function(Me){return ue(Me)})},[i,c,ue,T,L,o,s,a,l,O]),Z=x.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),mt(Ee);var Me=U0(Ee);if(Me&&Ee.dataTransfer)try{Ee.dataTransfer.dropEffect="copy"}catch{}return Me&&f&&f(Ee),!1},[f,T]),X=x.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),mt(Ee);var Me=J.current.filter(function(be){return z.current&&z.current.contains(be)}),le=Me.indexOf(Ee.target);le!==-1&&Me.splice(le,1),J.current=Me,!(Me.length>0)&&(K({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),U0(Ee)&&d&&d(Ee))},[z,d,T]),fe=x.useCallback(function(Ee,Me){var le=[],be=[];Ee.forEach(function(Pe){var Ve=Lee(Pe,L),Ge=LA(Ve,2),sn=Ge[0],fn=Ge[1],En=zee(Pe,o,s),Ut=LA(En,2),_n=Ut[0],xt=Ut[1],jr=O?O(Pe):null;if(sn&&_n&&!jr)le.push(Pe);else{var On=[fn,xt];jr&&(On=On.concat(jr)),be.push({file:Pe,errors:On.filter(function(ai){return ai})})}}),(!a&&le.length>1||a&&l>=1&&le.length>l)&&(le.forEach(function(Pe){be.push({file:Pe,errors:[V9e]})}),le.splice(0)),K({acceptedFiles:le,fileRejections:be,isDragReject:be.length>0,type:"setFiles"}),p&&p(le,be,Me),be.length>0&&v&&v(be,Me),le.length>0&&g&&g(le,Me)},[K,a,L,o,s,l,p,g,v,O]),me=x.useCallback(function(Ee){Ee.preventDefault(),Ee.persist(),mt(Ee),J.current=[],U0(Ee)&&Promise.resolve(i(Ee)).then(function(Me){Hx(Ee)&&!T||fe(Me,Ee)}).catch(function(Me){return ue(Me)}),K({type:"reset"})},[i,fe,ue,T]),ne=x.useCallback(function(){if(Y.current){K({type:"openDialog"}),F();var Ee={multiple:a,types:D};window.showOpenFilePicker(Ee).then(function(Me){return i(Me)}).then(function(Me){fe(Me,null),K({type:"closeDialog"})}).catch(function(Me){Q9e(Me)?(G(Me),K({type:"closeDialog"})):J9e(Me)?(Y.current=!1,V.current?(V.current.value=null,V.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(Me)});return}V.current&&(K({type:"openDialog"}),F(),V.current.value=null,V.current.click())},[K,F,G,S,fe,ue,D,a]),we=x.useCallback(function(Ee){!z.current||!z.current.isEqualNode(Ee.target)||(Ee.key===" "||Ee.key==="Enter"||Ee.keyCode===32||Ee.keyCode===13)&&(Ee.preventDefault(),ne())},[z,ne]),xe=x.useCallback(function(){K({type:"focus"})},[]),Re=x.useCallback(function(){K({type:"blur"})},[]),Ae=x.useCallback(function(){k||(K9e()?setTimeout(ne,0):ne())},[k,ne]),Te=function(Me){return r?null:Me},We=function(Me){return R?null:Te(Me)},rt=function(Me){return N?null:Te(Me)},mt=function(Me){T&&Me.stopPropagation()},ir=x.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Me=Ee.refKey,le=Me===void 0?"ref":Me,be=Ee.role,Pe=Ee.onKeyDown,Ve=Ee.onFocus,Ge=Ee.onBlur,sn=Ee.onClick,fn=Ee.onDragEnter,En=Ee.onDragOver,Ut=Ee.onDragLeave,_n=Ee.onDrop,xt=Bx(Ee,nGe);return An(An(mk({onKeyDown:We(Eo(Pe,we)),onFocus:We(Eo(Ve,xe)),onBlur:We(Eo(Ge,Re)),onClick:Te(Eo(sn,Ae)),onDragEnter:rt(Eo(fn,ee)),onDragOver:rt(Eo(En,Z)),onDragLeave:rt(Eo(Ut,X)),onDrop:rt(Eo(_n,me)),role:typeof be=="string"&&be!==""?be:"presentation"},le,z),!r&&!R?{tabIndex:0}:{}),xt)}},[z,we,xe,Re,Ae,ee,Z,X,me,R,N,r]),Bt=x.useCallback(function(Ee){Ee.stopPropagation()},[]),Sn=x.useMemo(function(){return function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Me=Ee.refKey,le=Me===void 0?"ref":Me,be=Ee.onChange,Pe=Ee.onClick,Ve=Bx(Ee,rGe),Ge=mk({accept:L,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Te(Eo(be,me)),onClick:Te(Eo(Pe,Bt)),tabIndex:-1},le,V);return An(An({},Ge),Ve)}},[V,n,a,me,r]);return An(An({},B),{},{isFocused:U&&!r,getRootProps:ir,getInputProps:Sn,rootRef:z,inputRef:V,open:Te(ne)})}function fGe(e,t){switch(t.type){case"focus":return An(An({},e),{},{isFocused:!0});case"blur":return An(An({},e),{},{isFocused:!1});case"openDialog":return An(An({},gk),{},{isFileDialogActive:!0});case"closeDialog":return An(An({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return An(An({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return An(An({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return An({},gk);default:return e}}function J4(){}function hGe({onUpload:e,maxSizeMB:t=10,acceptedTypes:n={"application/pdf":[".pdf"],"image/*":[".png",".jpg",".jpeg"]}}){const[r,i]=x.useState(null),[s,o]=x.useState(!1),[a,l]=x.useState(0),c=x.useCallback((b,w)=>{if(w.length>0){const S=w[0].errors[0];S.code==="file-too-large"?Ue.error(`Arquivo muito grande. Mximo: ${t}MB`):S.code==="file-invalid-type"&&Ue.error("Tipo de arquivo no suportado. Use PDF ou Imagens.");return}b.length>0&&(i(b[0]),Ue.info("Arquivo preparado para envio."))},[t]),{getRootProps:d,getInputProps:f,isDragActive:p}=Uee({onDrop:c,maxFiles:1,maxSize:t*1024*1024,accept:n}),g=async()=>{if(r){o(!0),l(10);try{const b=setInterval(()=>{l(w=>w>=90?90:w+10)},200);await e(r),clearInterval(b),l(100),Ue.success("Upload realizado com sucesso!",{description:`${r.name} foi enviado para a galxia.`}),setTimeout(()=>{i(null),o(!1),l(0)},1e3)}catch(b){o(!1),l(0),console.error(b),Ue.error("Falha no Upload",{description:b.response?.data?.message||"Ocorreu um erro na comunicao com o servidor."})}}},v=b=>{b.stopPropagation(),i(null)};return E.jsx("div",{className:"w-full",children:r?E.jsx(wr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-zinc-900 border border-white/10 rounded-xl p-4",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center shrink-0",children:E.jsx(Gu,{className:"w-6 h-6 text-blue-400"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-sm font-medium text-white truncate",children:r.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:[(r.size/1024/1024).toFixed(2)," MB"]}),s&&E.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[E.jsx(WO,{value:a,className:"h-1.5"}),E.jsxs("span",{className:"text-[10px] text-gray-400 w-8 text-right",children:[a,"%"]})]})]}),s?E.jsx("div",{className:"p-2",children:a===100?E.jsx(GU,{className:"w-6 h-6 text-green-500 animate-pulse"}):E.jsx(no,{className:"w-6 h-6 text-blue-500 animate-spin"})}):E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:v,className:"p-2 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition-colors",children:E.jsx(vg,{className:"w-5 h-5"})}),E.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-xs font-bold text-white transition-all shadow-[0_0_15px_rgba(37,99,235,0.3)]",children:"Enviar"})]})]})}):E.jsxs("div",{...d(),className:`
            relative border-2 border-dashed rounded-xl p-8 transition-all cursor-pointer group
            flex flex-col items-center justify-center text-center h-48
            ${p?"border-blue-500 bg-blue-500/10":"border-white/10 hover:border-white/30 hover:bg-white/5 bg-zinc-900/50"}
          `,children:[E.jsx("input",{...f()}),E.jsx("div",{className:`p-4 rounded-full mb-4 transition-colors ${p?"bg-blue-500/20":"bg-white/5 group-hover:bg-white/10"}`,children:E.jsx(moe,{className:`w-8 h-8 ${p?"text-blue-400":"text-gray-400"}`})}),E.jsx("p",{className:"text-sm font-medium text-gray-300",children:ws(p?"research.drop_active":"research.drop_zone")}),E.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[ws("research.max_size")," ",t,"MB  PDF, PNG, JPG"]})]})})}var _v=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pGe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},mGe=class{#e=pGe;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},mu=new mGe;function gGe(e){setTimeout(e,0)}var qu=typeof window>"u"||"Deno"in globalThis;function wi(){}function vGe(e,t){return typeof e=="function"?e(t):e}function vk(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ic(e,t){return typeof e=="function"?e(t):e}function bs(e,t){return typeof e=="function"?e(t):e}function eU(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==KO(o,t.options))return!1}else if(!hg(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function tU(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(fg(t.options.mutationKey)!==fg(s))return!1}else if(!hg(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function KO(e,t){return(t?.queryKeyHashFn||fg)(e)}function fg(e){return JSON.stringify(e,(t,n)=>bk(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function hg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>hg(e[n],t[n])):!1}var yGe=Object.prototype.hasOwnProperty;function qee(e,t){if(e===t)return e;const n=nU(e)&&nU(t);if(!n&&!(bk(e)&&bk(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,a=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c],f=e[d],p=t[d];if(f===p){a[d]=f,(n?c<i:yGe.call(e,d))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){a[d]=p;continue}const g=qee(f,p);a[d]=g,g===f&&l++}return i===o&&l===i?e:a}function yk(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nU(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bk(e){if(!rU(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rU(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rU(e){return Object.prototype.toString.call(e)==="[object Object]"}function bGe(e){return new Promise(t=>{mu.setTimeout(t,e)})}function xk(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qee(e,t):t}function xGe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wGe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var YO=Symbol();function Wee(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===YO?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function SGe(e,t){return typeof e=="function"?e(...t):!!e}var EGe=class extends _v{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!qu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},XO=new EGe;function wk(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var _Ge=gGe;function CGe(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=_Ge;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Dr=CGe(),AGe=class extends _v{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!qu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Ux=new AGe;function TGe(e){return Math.min(1e3*2**e,3e4)}function Gee(e){return(e??"online")==="online"?Ux.isOnline():!0}var Sk=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Kee(e){let t=!1,n=0,r;const i=wk(),s=()=>i.status!=="pending",o=b=>{if(!s()){const w=new Sk(b);p(w),e.onCancel?.(w)}},a=()=>{t=!0},l=()=>{t=!1},c=()=>XO.isFocused()&&(e.networkMode==="always"||Ux.isOnline())&&e.canRun(),d=()=>Gee(e.networkMode)&&e.canRun(),f=b=>{s()||(r?.(),i.resolve(b))},p=b=>{s()||(r?.(),i.reject(b))},g=()=>new Promise(b=>{r=w=>{(s()||c())&&b(w)},e.onPause?.()}).then(()=>{r=void 0,s()||e.onContinue?.()}),v=()=>{if(s())return;let b;const w=n===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(S){b=Promise.reject(S)}Promise.resolve(b).then(f).catch(S=>{if(s())return;const C=e.retry??(qu?0:3),_=e.retryDelay??TGe,k=typeof _=="function"?_(n,S):_,R=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,S);if(t||!R){p(S);return}n++,e.onFail?.(n,S),bGe(k).then(()=>c()?void 0:g()).then(()=>{t?p(S):v()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),i)}}var Yee=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vk(this.gcTime)&&(this.#e=mu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(mu.clearTimeout(this.#e),this.#e=void 0)}},RGe=class extends Yee{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=sU(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=sU(this.options);t.data!==void 0&&(this.setState(iU(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=xk(this.state.data,e,this.options);return this.#l({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#l({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(wi).catch(wi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>bs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===YO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ic(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Vee(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#l({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const a=Wee(this.options,t),c=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#o=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#l({type:"fetch",meta:o.fetchOptions?.meta}),this.#s=Kee({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof Sk&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#l({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#l({type:"pause"})},onContinue:()=>{this.#l({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#s.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof Sk){if(a.silent)return this.#s.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#l({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#l(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xee(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...iU(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Xee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gee(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iU(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kGe=class extends _v{constructor(e,t){super(),this.options=t,this.#e=e,this.#l=null,this.#o=wk(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#s;#r;#o;#l;#u;#d;#h;#c;#a;#p;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),oU(this.#t,this.options)?this.#f():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ek(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ek(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#S(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),t._defaulted&&!yk(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&aU(this.#t,n,this.options,t)&&this.#f(),this.updateResult(),r&&(this.#t!==n||bs(this.options.enabled,this.#t)!==bs(t.enabled,this.#t)||ic(this.options.staleTime,this.#t)!==ic(t.staleTime,this.#t))&&this.#v();const i=this.#g();r&&(this.#t!==n||bs(this.options.enabled,this.#t)!==bs(t.enabled,this.#t)||i!==this.#p)&&this.#b(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return NGe(this,n)&&(this.#i=n,this.#r=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#C();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(wi)),t}#v(){this.#S();const e=ic(this.options.staleTime,this.#t);if(qu||this.#i.isStale||!vk(e))return;const n=Vee(this.#i.dataUpdatedAt,e)+1;this.#c=mu.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#_(),this.#p=e,!(qu||bs(this.options.enabled,this.#t)===!1||!vk(this.#p)||this.#p===0)&&(this.#a=mu.setInterval(()=>{(this.options.refetchIntervalInBackground||XO.isFocused())&&this.#f()},this.#p))}#x(){this.#v(),this.#b(this.#g())}#S(){this.#c&&(mu.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#a&&(mu.clearInterval(this.#a),this.#a=void 0)}createResult(e,t){const n=this.#t,r=this.options,i=this.#i,s=this.#s,o=this.#r,l=e!==n?e.state:this.#n,{state:c}=e;let d={...c},f=!1,p;if(t._optimisticResults){const M=this.hasListeners(),O=!M&&oU(e,t),L=M&&aU(e,n,t,r);(O||L)&&(d={...d,...Xee(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:b}=d;p=d.data;let w=!1;if(t.placeholderData!==void 0&&p===void 0&&b==="pending"){let M;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(M=i.data,w=!0):M=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,M!==void 0&&(b="success",p=xk(i?.data,M,t),f=!0)}if(t.select&&p!==void 0&&!w)if(i&&p===s?.data&&t.select===this.#u)p=this.#d;else try{this.#u=t.select,p=t.select(p),p=xk(i?.data,p,t),this.#d=p,this.#l=null}catch(M){this.#l=M}this.#l&&(g=this.#l,p=this.#d,v=Date.now(),b="error");const S=d.fetchStatus==="fetching",C=b==="pending",_=b==="error",k=C&&S,R=p!==void 0,T={status:b,fetchStatus:d.fetchStatus,isPending:C,isSuccess:b==="success",isError:_,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:S,isRefetching:S&&!C,isLoadingError:_&&!R,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&R,isStale:ZO(e,t),refetch:this.refetch,promise:this.#o,isEnabled:bs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=D=>{T.status==="error"?D.reject(T.error):T.data!==void 0&&D.resolve(T.data)},O=()=>{const D=this.#o=T.promise=wk();M(D)},L=this.#o;switch(L.status){case"pending":e.queryHash===n.queryHash&&M(L);break;case"fulfilled":(T.status==="error"||T.data!==L.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==L.reason)&&O();break}}return T}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#r=this.options,this.#s.data!==void 0&&(this.#h=this.#t),yk(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const a=o;return this.#i[a]!==e[a]&&s.has(a)})};this.#T({listeners:n()})}#C(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#T(e){Dr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function PGe(e,t){return bs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oU(e,t){return PGe(e,t)||e.state.data!==void 0&&Ek(e,t,t.refetchOnMount)}function Ek(e,t,n){if(bs(t.enabled,e)!==!1&&ic(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&ZO(e,t)}return!1}function aU(e,t,n,r){return(e!==t||bs(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&ZO(e,n)}function ZO(e,t){return bs(t.enabled,e)!==!1&&e.isStaleByTime(ic(t.staleTime,e))}function NGe(e,t){return!yk(e.getCurrentResult(),t)}function lU(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},p=Wee(t.options,t.fetchOptions),g=async(v,b,w)=>{if(d)return Promise.reject();if(b==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:b,direction:w?"backward":"forward",meta:t.options.meta};return f(N),N})(),_=await p(C),{maxPages:k}=t.options,R=w?wGe:xGe;return{pages:R(v.pages,_,k),pageParams:R(v.pageParams,b,k)}};if(i&&s.length){const v=i==="backward",b=v?MGe:cU,w={pages:s,pageParams:o},S=b(r,w);a=await g(w,S,v)}else{const v=e??s.length;do{const b=l===0?o[0]??r.initialPageParam:cU(r,a);if(l>0&&b==null)break;a=await g(a,b),l++}while(l<v)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function cU(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function MGe(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var OGe=class extends Yee{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||DGe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Kee({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#s({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#s({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#s({type:"pending",context:o,variables:e,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,n),await this.options.onSuccess?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,e,this.state.context,n),this.#s({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,e,this.state.context,this,n),await this.options.onError?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,e,this.state.context,n),s}finally{this.#s({type:"error",error:s})}}finally{this.#n.runNext(this)}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Dr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function DGe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var IGe=class extends _v{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new OGe({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=V0(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=V0(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=V0(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=V0(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>tU(t,n))}findAll(e={}){return this.getAll().filter(t=>tU(e,t))}notify(e){Dr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dr.batch(()=>Promise.all(e.map(t=>t.continue().catch(wi))))}};function V0(e){return e.options.scope?.id}var jGe=class extends _v{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??KO(r,t);let s=this.get(i);return s||(s=new RGe({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>eU(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>eU(e,n)):t}notify(e){Dr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},LGe=class{#e;#t;#n;#i;#s;#r;#o;#l;constructor(e={}){this.#e=e.queryCache||new jGe,this.#t=e.mutationCache||new IGe,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=XO.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#l=Ux.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#l?.(),this.#l=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ic(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(r.queryHash)?.state.data,o=vGe(t,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Dr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Dr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Dr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Dr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(wi).catch(wi)}invalidateQueries(e,t={}){return Dr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Dr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ic(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wi).catch(wi)}fetchInfiniteQuery(e){return e.behavior=lU(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wi).catch(wi)}ensureInfiniteQueryData(e){return e.behavior=lU(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ux.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(fg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{hg(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#s.set(fg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{hg(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=KO(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===YO&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Zee=x.createContext(void 0),zGe=e=>{const t=x.useContext(Zee);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},FGe=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(Zee.Provider,{value:e,children:t})),Qee=x.createContext(!1),$Ge=()=>x.useContext(Qee);Qee.Provider;function HGe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BGe=x.createContext(HGe()),UGe=()=>x.useContext(BGe),VGe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},qGe=e=>{x.useEffect(()=>{e.clearReset()},[e])},WGe=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||SGe(n,[e.error,r])),GGe=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KGe=(e,t)=>e.isLoading&&e.isFetching&&!t,YGe=(e,t)=>e?.suspense&&t.isPending,uU=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function XGe(e,t,n){const r=$Ge(),i=UGe(),s=zGe(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",GGe(o),VGe(o,i),qGe(i);const a=!s.getQueryCache().get(o.queryHash),[l]=x.useState(()=>new t(s,o)),c=l.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(f=>{const p=d?l.subscribe(Dr.batchCalls(f)):wi;return l.updateResult(),p},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(o)},[o,l]),YGe(o,c))throw uU(o,l,i);if(WGe({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!qu&&KGe(c,r)&&(a?uU(o,l,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(wi).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function ZGe(e,t){return XGe(e,kGe)}function QGe(){const e=Ln(t=>t.isGuest);return ZGe({queryKey:["library","books",e],queryFn:async()=>{if(e)return[{id:"sample-book",title:"Logos Platform - Whitepaper",preview:"Documento de demonstrao do sistema.",highlightsCount:0,lastRead:new Date().toISOString(),coverUrl:""}];const{data:t}=await Gt.get("/library/books");return t}})}function JGe(){const e=gh(b=>b.setViewMode),{profile:t,fetchProfile:n}=bM(),{t:r,i18n:i}=lo(),[s,o]=x.useState(null),[a,l]=x.useState(!1),{data:c,isLoading:d,isError:f,refetch:p}=QGe();x.useEffect(()=>{n()},[]);const g=async b=>{if(Ln.getState().isGuest){o({note:{...b,tags:[]},url:"/sample.pdf"});return}try{Ue.loading(r("common.loading"),{id:"open-book"});const{data:w}=await Gt.get(`/library/books/${b.id}/content`),S={id:b.id,title:b.title,preview:b.preview,tags:["PDF","Biblioteca"],createdAt:b.lastRead||new Date().toISOString(),x:0,y:0,z:1,clusterId:"library"};o({note:S,url:w.url}),Ue.dismiss("open-book")}catch(w){console.error("Erro ao abrir livro:",w),Ue.dismiss("open-book"),Ue.error(r("common.error"),{description:r("library.error_loading")})}},v=async b=>{const w=new FormData;w.append("file",b);try{await Gt.post("/ingestion",w,{headers:{"Content-Type":"multipart/form-data"}}),Ue.success(r("toasts.upload_started"),{description:r("toasts.upload_desc")}),l(!1),setTimeout(()=>{p(),n()},2e3)}catch(S){console.error("Erro no upload:",S),Ue.error(r("toasts.upload_error"),{description:r("toasts.upload_error_desc")})}};return s?E.jsx(yM,{note:s.note,pdfUrl:s.url,onClose:()=>o(null)}):E.jsxs("div",{className:"h-full w-full bg-[#050505] text-white p-6 md:p-8 overflow-y-auto custom-scrollbar",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-8 border-b border-white/10 pb-6 sticky top-0 bg-[#050505]/95 backdrop-blur z-10 gap-4",children:[E.jsxs("div",{className:"flex items-center gap-6 w-full md:w-auto",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500 mb-1",children:r("library.title")}),E.jsx("p",{className:"text-sm text-gray-400",children:r("library.subtitle")})]}),E.jsx("div",{className:"hidden lg:block w-48",children:E.jsx(Mee,{used:t?.stats?.storageUsed||0,limit:t?.stats?.storageLimit||100,className:"py-2 px-3 bg-white/5 border-white/5 shadow-none"})})]}),E.jsxs("div",{className:"flex gap-3 w-full md:w-auto justify-end",children:[E.jsxs(ct,{variant:"outline",onClick:()=>e("galaxy"),className:"border-white/10 text-zinc-400 hover:text-white hover:bg-white/5 transition-all gap-2",children:[E.jsx(zk,{className:"w-4 h-4"}),r("common.back")]}),E.jsxs(kg,{open:a,onOpenChange:l,children:[E.jsx(O8,{asChild:!0,children:E.jsxs(ct,{className:"bg-white text-black hover:bg-gray-200 font-semibold shadow-lg shadow-white/10",children:[E.jsx($k,{className:"w-4 h-4 mr-2"})," ",r("library.add_book")]})}),E.jsxs(ch,{className:"bg-[#0a0a0a] border-white/10 text-white sm:max-w-[500px]",children:[E.jsx(pw,{children:E.jsxs(uh,{className:"flex items-center gap-2",children:[E.jsx(Aae,{className:"w-5 h-5 text-blue-500"})," ",r("library.upload_title")]})}),E.jsx("div",{className:"mt-4",children:E.jsx(hGe,{onUpload:v})})]})]})]})]}),d&&E.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-500 gap-4",children:[E.jsx(no,{className:"w-8 h-8 animate-spin text-blue-500"}),E.jsx("p",{className:"text-sm",children:r("library.syncing")})]}),f&&E.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-red-400 gap-4",children:[E.jsx(Qse,{className:"w-8 h-8"}),E.jsx("p",{className:"text-sm",children:r("library.error_loading")}),E.jsx(ct,{variant:"link",onClick:()=>p(),children:r("common.back")})]}),!d&&!f&&c?.length===0&&E.jsxs("div",{className:"text-center py-20 text-gray-500 border-2 border-dashed border-white/10 rounded-xl bg-white/5",children:[E.jsx("p",{children:r("library.empty_state")}),E.jsx(ct,{variant:"link",onClick:()=>l(!0),className:"text-blue-400",children:r("library.empty_action")})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6 pb-20",children:c?.map((b,w)=>{const S=b.coverUrl&&b.coverUrl.length>10;return E.jsxs(wr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},className:"group relative flex flex-col gap-2",children:[E.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden cursor-pointer shadow-lg transition-all duration-300 group-hover:-translate-y-1 group-hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] bg-gray-800 border border-white/10",onClick:()=>g(b),children:[E.jsx("img",{src:S?b.coverUrl:`https://picsum.photos/seed/${b.id}/300/450`,alt:b.title,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity",loading:"lazy",onError:C=>{C.currentTarget.src=`https://picsum.photos/seed/${b.id}/300/450`}}),E.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center backdrop-blur-[1px]",children:E.jsx("div",{className:"bg-black/60 p-3 rounded-full border border-white/20",children:E.jsx(Gu,{className:"w-5 h-5 text-white"})})})]}),E.jsxs("div",{className:"space-y-1 px-1",children:[E.jsxs("div",{className:"flex justify-between items-start gap-2",children:[E.jsx("h3",{className:"font-medium text-sm leading-tight text-gray-200 group-hover:text-blue-400 transition-colors line-clamp-2",title:b.title,children:b.title}),E.jsx("button",{className:"text-gray-600 hover:text-white shrink-0",children:E.jsx(Eoe,{className:"w-4 h-4"})})]}),E.jsx("div",{className:"flex items-center justify-between text-[10px] text-gray-500 mt-1",children:E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Fk,{className:"w-3 h-3"}),new Date(b.lastRead).toLocaleDateString(i.language,{day:"2-digit",month:"short",year:"numeric"})]})})]})]},b.id)})})]})}var e7e=(e,t,n,r,i,s,o,a)=>{let l=document.documentElement,c=["light","dark"];function d(g){(Array.isArray(e)?e:[e]).forEach(v=>{let b=v==="class",w=b&&s?i.map(S=>s[S]||S):i;b?(l.classList.remove(...w),l.classList.add(s&&s[g]?s[g]:g)):l.setAttribute(v,g)}),f(g)}function f(g){a&&c.includes(g)&&(l.style.colorScheme=g)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let g=localStorage.getItem(t)||n,v=o&&g==="system"?p():g;d(v)}catch{}},t7e=x.createContext(void 0),n7e={setTheme:e=>{},themes:[]},r7e=()=>{var e;return(e=x.useContext(t7e))!=null?e:n7e};x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:a,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,t,s,e,a,o,r,i]).slice(1,-1);return x.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${e7e.toString()})(${d})`}})});const i7e=({...e})=>{const{theme:t="system"}=r7e();return E.jsx(iwe,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function s7e({children:e}){return Ln(n=>n.isAuthenticated)?e:E.jsx(FA,{to:"/login",replace:!0})}function o7e(){const e="/logos",t=jk(),n=Ln(o=>o.setAuthData),r=Ln(o=>o.isGuest),i=Ln(o=>o.user),s=i?r?"/universe/guest":`/universe/${i.id}`:"/login";return x.useEffect(()=>{r||(t.isAuthenticated&&t.user?n({isAuthenticated:!0,user:{id:t.user.profile.sub||"user-1",name:t.user.profile.preferred_username||"Explorador",role:"explorer",token:t.user.access_token}}):!t.isLoading&&!t.isAuthenticated&&n({isAuthenticated:!1,user:null}))},[t.isAuthenticated,t.user,t.isLoading,n,r]),t.isLoading&&!r?E.jsxs("div",{className:"h-screen w-full bg-[#050505] flex flex-col items-center justify-center text-white relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 pointer-events-none"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-blue-500/10 blur-[100px] rounded-full pointer-events-none"}),E.jsxs("div",{className:"z-10 flex flex-col items-center gap-6 max-w-md text-center p-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx(no,{className:"w-12 h-12 animate-spin text-blue-500"}),E.jsx("div",{className:"absolute inset-0 blur-lg bg-blue-500/30 animate-pulse"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("p",{className:"text-lg font-bold tracking-widest uppercase text-white",children:ws("common.loading_system")}),E.jsxs("div",{className:"flex flex-col items-center gap-2 bg-white/5 border border-white/10 p-4 rounded-lg mt-4 backdrop-blur-md",children:[E.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[E.jsx(hoe,{className:"w-4 h-4"}),E.jsx("span",{className:"text-xs font-bold uppercase",children:"Google Cloud Run"})]}),E.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:ws("common.cold_start_warning")})]})]})]})]}):E.jsxs(Nie,{basename:e,children:[E.jsxs(lie,{children:[E.jsx(_o,{path:"/login",element:E.jsx(Nxe,{})}),E.jsxs(_o,{element:E.jsx(s7e,{children:E.jsx(Kge,{})}),children:[E.jsx(_o,{path:"/",element:E.jsx(FA,{to:s,replace:!0})}),E.jsx(_o,{path:"/universe/:universeId",element:E.jsx(Zje,{})}),E.jsx(_o,{path:"/library",element:E.jsx(JGe,{})}),E.jsx(_o,{path:"/store",element:E.jsx(lWe,{})}),E.jsx(_o,{path:"/research",element:E.jsx(g9e,{})}),E.jsx(_o,{path:"/profile",element:E.jsx(oWe,{})})]}),E.jsx(_o,{path:"*",element:E.jsx(FA,{to:"/",replace:!0})})]}),E.jsx(i7e,{position:"top-right",theme:"dark",richColors:!0})]})}const a7e=new LGe({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),l7e={authority:"https://logos-auth-665606141998.us-central1.run.app/realms/logos-realm",client_id:"logos-app",redirect_uri:window.location.origin+"/logos/",onSigninCallback:()=>{window.history.replaceState({},document.title,window.location.pathname)}},c7e=()=>E.jsx("div",{className:"h-screen w-full bg-[#050505] flex items-center justify-center text-white",children:E.jsx("div",{className:"animate-pulse",children:"Carregando idiomas..."})});dU.createRoot(document.getElementById("root")).render(E.jsx(x.StrictMode,{children:E.jsx(FGe,{client:a7e,children:E.jsx(Pse,{...l7e,children:E.jsx(x.Suspense,{fallback:E.jsx(c7e,{}),children:E.jsx(o7e,{})})})})}));export{u7e as c,Di as g};
